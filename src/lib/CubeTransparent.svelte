<script lang="ts">
  import { getContext } from 'svelte';
  import type { BaseProps, Props } from './types';

  const ctx: BaseProps = getContext('iconCtx') ?? {};

  let {
    size = ctx.size,
    role = ctx.role || 'img',
    color = ctx.color || 'currentColor',
    variation = ctx.variation || 'outline',
    strokeWidth = ctx.strokeWidth || '1.5',
    title,
    desc,
    ariaLabel = 'cube transparent',
    ...restProps
  }: Props = $props();

  let ariaDescribedby = `${title?.id || ''} ${desc?.id || ''}`;
  const hasDescription = $derived(!!(title?.id || desc?.id));

  let viewBox = $derived.by(() => {
    if (variation === 'mini') return '0 0 20 20';
    if (variation === 'micro') return '0 0 16 16';
    return '0 0 24 24';
  });
  let variationSize = $derived.by(() => {
    if (variation === 'mini') return '20';
    if (variation === 'micro') return '16';
    return '24';
  });
</script>

<svg
  xmlns="http://www.w3.org/2000/svg"
  {...restProps}
  {role}
  width={size || variationSize}
  height={size || variationSize}
  fill="none"
  aria-label={ariaLabel}
  aria-describedby={hasDescription ? ariaDescribedby : undefined}
  {viewBox}
  stroke-width={strokeWidth}
>
  {#if title?.id && title.title}
    <title id={title.id}>{title.title}</title>
  {/if}
  {#if desc?.id && desc.desc}
    <desc id={desc.id}>{desc.desc}</desc>
  {/if}
  {#if variation === 'outline'}
    <path
      d="M21 7.5L18.75 6.1875M21 7.5V9.75M21 7.5L18.75 8.8125M3 7.5L5.25 6.1875M3 7.5L5.25 8.8125M3 7.5V9.75M12 12.75L14.25 11.4375M12 12.75L9.75 11.4375M12 12.75V15M12 21.75L14.25 20.4375M12 21.75V19.5M12 21.75L9.75 20.4375M9.75 3.5625L12 2.25L14.25 3.5625M21 14.25V16.5L18.75 17.8125M5.25 17.8125L3 16.5V14.25"
      stroke={color}
      stroke-width={strokeWidth}
      stroke-linecap="round"
      stroke-linejoin="round"
    />
  {:else if variation === 'mini'}
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M9.63769 1.09332C9.86321 0.968894 10.1368 0.968894 10.3623 1.09332L12.3623 2.19676C12.725 2.39686 12.8568 2.85308 12.6567 3.21576C12.4566 3.57843 12.0004 3.71023 11.6377 3.51013L10 2.60658L8.36231 3.51013C7.99963 3.71023 7.54341 3.57843 7.34332 3.21576C7.14322 2.85308 7.27502 2.39686 7.63769 2.19676L9.63769 1.09332ZM5.40258 4.28651C5.60268 4.64918 5.47088 5.1054 5.10821 5.3055L4.30255 5.75L5.10821 6.1945C5.47088 6.3946 5.60268 6.85082 5.40258 7.21349C5.20248 7.57617 4.74627 7.70797 4.38359 7.50787L3.5 7.02037V7.75C3.5 8.16421 3.16421 8.5 2.75 8.5C2.33579 8.5 2 8.16421 2 7.75V5.75C2 5.47684 2.14852 5.22528 2.38769 5.09332L4.38359 3.99213C4.74627 3.79203 5.20248 3.92383 5.40258 4.28651ZM14.5974 4.28651C14.7975 3.92383 15.2537 3.79203 15.6164 3.99213L17.6123 5.09332C17.8515 5.22528 18 5.47684 18 5.75V7.75C18 8.16421 17.6642 8.5 17.25 8.5C16.8358 8.5 16.5 8.16421 16.5 7.75V7.02037L15.6164 7.50787C15.2537 7.70797 14.7975 7.57617 14.5974 7.21349C14.3973 6.85082 14.5291 6.3946 14.8918 6.1945L15.6975 5.75L14.8918 5.3055C14.5291 5.1054 14.3973 4.64918 14.5974 4.28651ZM7.34332 8.28424C7.54341 7.92157 7.99963 7.78977 8.36231 7.98987L10 8.89342L11.6377 7.98987C12.0004 7.78977 12.4566 7.92157 12.6567 8.28424C12.8568 8.64692 12.725 9.10314 12.3623 9.30324L10.75 10.1928V11.75C10.75 12.1642 10.4142 12.5 10 12.5C9.58579 12.5 9.25 12.1642 9.25 11.75V10.1928L7.63769 9.30324C7.27502 9.10314 7.14322 8.64692 7.34332 8.28424ZM2.75 11.5C3.16421 11.5 3.5 11.8358 3.5 12.25V13.8072L5.10821 14.6945C5.47088 14.8946 5.60268 15.3508 5.40258 15.7135C5.20248 16.0762 4.74627 16.208 4.38359 16.0079L2.38769 14.9067C2.14852 14.7747 2 14.5232 2 14.25V12.25C2 11.8358 2.33579 11.5 2.75 11.5ZM17.25 11.5C17.6642 11.5 18 11.8358 18 12.25V14.25C18 14.5232 17.8515 14.7747 17.6123 14.9067L15.6164 16.0079C15.2537 16.208 14.7975 16.0762 14.5974 15.7135C14.3973 15.3508 14.5291 14.8946 14.8918 14.6945L16.5 13.8072V12.25C16.5 11.8358 16.8358 11.5 17.25 11.5ZM10 15.5C10.4142 15.5 10.75 15.8358 10.75 16.25V16.9796L11.6377 16.4899C12.0004 16.2898 12.4566 16.4216 12.6567 16.7842C12.8568 17.1469 12.725 17.6031 12.3623 17.8032L10.3623 18.9067C10.1368 19.0311 9.86321 19.0311 9.63769 18.9067L7.63769 17.8032C7.27501 17.6031 7.14322 17.1469 7.34332 16.7842C7.54341 16.4216 7.99963 16.2898 8.36231 16.4899L9.25 16.9796V16.25C9.25 15.8358 9.58579 15.5 10 15.5Z"
      fill={color}
    />
  {:else if variation === 'micro'}
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M7.6279 1.34882C7.85847 1.21706 8.14153 1.21706 8.3721 1.34882L9.61898 2.06132C9.97862 2.26683 10.1036 2.72497 9.89806 3.0846C9.69255 3.44424 9.23441 3.56919 8.87477 3.36368L8 2.86381L7.12523 3.36368C6.76559 3.56919 6.30745 3.44424 6.10194 3.0846C5.89644 2.72497 6.02138 2.26683 6.38102 2.06132L7.6279 1.34882ZM4.65118 3.91361C4.85669 4.27325 4.73174 4.73139 4.3721 4.9369L4.26167 5L4.3721 5.0631C4.73174 5.26861 4.85669 5.72675 4.65118 6.08639C4.44568 6.44603 3.98753 6.57098 3.6279 6.36547L3.49886 6.29173C3.47721 6.68653 3.15021 7 2.75 7C2.33579 7 2 6.66421 2 6.25V5C2 4.73086 2.14421 4.48235 2.3779 4.34882L3.6279 3.63453C3.98753 3.42902 4.44567 3.55397 4.65118 3.91361ZM11.3488 3.91361C11.5543 3.55397 12.0125 3.42902 12.3721 3.63453L13.6221 4.34882C13.8558 4.48235 14 4.73086 14 5V6.25C14 6.66421 13.6642 7 13.25 7C12.8498 7 12.5228 6.68653 12.5011 6.29173L12.3721 6.36547C12.0125 6.57098 11.5543 6.44603 11.3488 6.08639C11.1433 5.72675 11.2683 5.26861 11.6279 5.0631L11.7383 5L11.6279 4.9369C11.2683 4.73139 11.1433 4.27325 11.3488 3.91361ZM6.10194 6.9154C6.30745 6.55576 6.76559 6.43081 7.12523 6.63632L8 7.13619L8.87477 6.63632C9.23441 6.43081 9.69255 6.55576 9.89806 6.9154C10.1036 7.27503 9.97862 7.73317 9.61898 7.93868L8.75 8.43524V9.25C8.75 9.66421 8.41421 10 8 10C7.58579 10 7.25 9.66421 7.25 9.25V8.43524L6.38102 7.93868C6.02138 7.73317 5.89643 7.27503 6.10194 6.9154ZM2.75 9C3.16421 9 3.5 9.33579 3.5 9.75V10.5648L4.3721 11.0631C4.73174 11.2686 4.85669 11.7268 4.65118 12.0864C4.44568 12.446 3.98753 12.571 3.6279 12.3655L2.3779 11.6512C2.14421 11.5177 2 11.2691 2 11V9.75C2 9.33579 2.33579 9 2.75 9ZM13.25 9C13.6642 9 14 9.33579 14 9.75V11C14 11.2691 13.8558 11.5177 13.6221 11.6512L12.3721 12.3655C12.0125 12.571 11.5543 12.446 11.3488 12.0864C11.1433 11.7268 11.2683 11.2686 11.6279 11.0631L12.5 10.5648V9.75C12.5 9.33579 12.8358 9 13.25 9ZM8.74886 12.7083L8.87477 12.6363C9.23441 12.4308 9.69255 12.5558 9.89806 12.9154C10.1036 13.275 9.97862 13.7332 9.61898 13.9387L8.3721 14.6512C8.14153 14.7829 7.85847 14.7829 7.6279 14.6512L6.38102 13.9387C6.02138 13.7332 5.89643 13.275 6.10194 12.9154C6.30745 12.5558 6.76559 12.4308 7.12523 12.6363L7.25114 12.7083C7.27279 12.3135 7.59979 12 8 12C8.40021 12 8.72721 12.3135 8.74886 12.7083Z"
      fill={color}
    />
  {:else}
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M11.6221 1.60217C11.8556 1.46594 12.1444 1.46594 12.3779 1.60217L14.6279 2.91467C14.9857 3.12338 15.1065 3.58261 14.8978 3.9404C14.6891 4.29819 14.2299 4.41904 13.8721 4.21033L12 3.11828L10.1279 4.21033C9.77011 4.41904 9.31088 4.29819 9.10217 3.9404C8.89346 3.58261 9.01431 3.12338 9.3721 2.91467L11.6221 1.60217ZM5.89783 5.8096C6.10654 6.16739 5.98569 6.62662 5.6279 6.83533L4.48848 7.5L5.6279 8.16467C5.98569 8.37338 6.10654 8.83261 5.89783 9.1904C5.68912 9.54819 5.22989 9.66904 4.8721 9.46033L3.75 8.80578V9.75C3.75 10.1642 3.41421 10.5 3 10.5C2.58579 10.5 2.25 10.1642 2.25 9.75V7.5C2.25 7.23325 2.39168 6.98657 2.6221 6.85217L4.8721 5.53967C5.22989 5.33096 5.68912 5.45181 5.89783 5.8096ZM18.1022 5.8096C18.3109 5.45181 18.7701 5.33096 19.1279 5.53967L21.3779 6.85217C21.6083 6.98657 21.75 7.23325 21.75 7.5V9.75C21.75 10.1642 21.4142 10.5 21 10.5C20.5858 10.5 20.25 10.1642 20.25 9.75V8.80578L19.1279 9.46033C18.7701 9.66904 18.3109 9.54819 18.1022 9.1904C17.8935 8.83261 18.0143 8.37338 18.3721 8.16467L19.5115 7.5L18.3721 6.83533C18.0143 6.62662 17.8935 6.16739 18.1022 5.8096ZM9.10217 11.0596C9.31088 10.7018 9.77011 10.581 10.1279 10.7897L12 11.8817L13.8721 10.7897C14.2299 10.581 14.6891 10.7018 14.8978 11.0596C15.1065 11.4174 14.9857 11.8766 14.6279 12.0853L12.75 13.1808V15C12.75 15.4142 12.4142 15.75 12 15.75C11.5858 15.75 11.25 15.4142 11.25 15V13.1808L9.3721 12.0853C9.01431 11.8766 8.89346 11.4174 9.10217 11.0596ZM3 13.5C3.41421 13.5 3.75 13.8358 3.75 14.25V16.0692L5.6279 17.1647C5.98569 17.3734 6.10654 17.8326 5.89783 18.1904C5.68912 18.5482 5.22989 18.669 4.8721 18.4603L2.6221 17.1478C2.39168 17.0134 2.25 16.7668 2.25 16.5V14.25C2.25 13.8358 2.58579 13.5 3 13.5ZM21 13.5C21.4142 13.5 21.75 13.8358 21.75 14.25V16.5C21.75 16.7668 21.6083 17.0134 21.3779 17.1478L19.1279 18.4603C18.7701 18.669 18.3109 18.5482 18.1022 18.1904C17.8935 17.8326 18.0143 17.3734 18.3721 17.1647L20.25 16.0692V14.25C20.25 13.8358 20.5858 13.5 21 13.5ZM12 18.75C12.4142 18.75 12.75 19.0858 12.75 19.5V20.4442L13.8721 19.7897C14.2299 19.581 14.6891 19.7018 14.8978 20.0596C15.1065 20.4174 14.9857 20.8766 14.6279 21.0853L12.3779 22.3978C12.1444 22.5341 11.8556 22.5341 11.6221 22.3978L9.3721 21.0853C9.01431 20.8766 8.89346 20.4174 9.10217 20.0596C9.31088 19.7018 9.77011 19.581 10.1279 19.7897L11.25 20.4442V19.5C11.25 19.0858 11.5858 18.75 12 18.75Z"
      fill={color}
    />
  {/if}
</svg>

<!--
@component
[Go to docs](https://svelte-heros-v2.codewithshin.com/)
## Props
@prop size = ctx.size
@prop role = ctx.role || 'img'
@prop color = ctx.color || 'currentColor'
@prop variation = ctx.variation || 'outline'
@prop strokeWidth = ctx.strokeWidth || '1.5'
@prop title
@prop desc
@prop ariaLabel = 'cube transparent'
@prop ...restProps
-->
