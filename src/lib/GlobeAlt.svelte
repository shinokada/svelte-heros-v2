<script lang="ts">
  import { getContext } from 'svelte';
  import type { CtxType, Props } from './types';

  const ctx: CtxType = getContext('iconCtx') ?? {};

  let {
    size = ctx.size,
    role = ctx.role || 'img',
    color = ctx.color || 'currentColor',
    variation = ctx.variation || 'outline',
    strokeWidth = ctx.strokeWidth || '1.5',
    title,
    desc,
    ariaLabel = 'globe alt',
    ...restProps
  }: Props = $props();

  let ariaDescribedby = `${title?.id || ''} ${desc?.id || ''}`;
  const hasDescription = $derived(!!(title?.id || desc?.id));

  let viewBox = $derived.by(() => {
    if (variation === 'mini') return '0 0 20 20';
    if (variation === 'micro') return '0 0 16 16';
    return '0 0 24 24';
  });
  let variationSize = $derived.by(() => {
    if (variation === 'mini') return '20';
    if (variation === 'micro') return '16';
    return '24';
  });
</script>

<svg
  xmlns="http://www.w3.org/2000/svg"
  {...restProps}
  {role}
  width={size || variationSize}
  height={size || variationSize}
  fill="none"
  aria-label={ariaLabel}
  aria-describedby={hasDescription ? ariaDescribedby : undefined}
  {viewBox}
  stroke-width={strokeWidth}
>
  {#if title?.id && title.title}
    <title id={title.id}>{title.title}</title>
  {/if}
  {#if desc?.id && desc.desc}
    <desc id={desc.id}>{desc.desc}</desc>
  {/if}
  {#if variation === 'outline'}
    <path
      d="M12 21C16.1926 21 19.7156 18.1332 20.7157 14.2529M12 21C7.80742 21 4.28442 18.1332 3.2843 14.2529M12 21C14.4853 21 16.5 16.9706 16.5 12C16.5 7.02944 14.4853 3 12 3M12 21C9.51472 21 7.5 16.9706 7.5 12C7.5 7.02944 9.51472 3 12 3M12 3C15.3652 3 18.299 4.84694 19.8431 7.58245M12 3C8.63481 3 5.70099 4.84694 4.15692 7.58245M19.8431 7.58245C17.7397 9.40039 14.9983 10.5 12 10.5C9.00172 10.5 6.26027 9.40039 4.15692 7.58245M19.8431 7.58245C20.5797 8.88743 21 10.3946 21 12C21 12.778 20.9013 13.5329 20.7157 14.2529M20.7157 14.2529C18.1334 15.6847 15.1619 16.5 12 16.5C8.8381 16.5 5.86662 15.6847 3.2843 14.2529M3.2843 14.2529C3.09871 13.5329 3 12.778 3 12C3 10.3946 3.42032 8.88743 4.15692 7.58245"
      stroke={color}
      stroke-width={strokeWidth}
      stroke-linecap="round"
      stroke-linejoin="round"
    />
  {:else if variation === 'mini'}
    <path
      d="M16.5546 5.41215C15.6845 4.17138 14.4711 3.18897 13.0522 2.60288C13.8305 3.9731 14.3991 5.47789 14.7147 7.07367C15.4062 6.61183 16.0263 6.05128 16.5546 5.41215Z"
      fill={color}
    />
    <path
      d="M13.3257 7.82478C12.9801 5.69142 12.1346 3.72563 10.9132 2.05155C10.6135 2.0175 10.3088 2 10 2C9.69121 2 9.3865 2.0175 9.08682 2.05155C7.86543 3.72563 7.0199 5.69141 6.67433 7.82478C7.69581 8.25948 8.81982 8.5 10 8.5C11.1802 8.5 12.3042 8.25948 13.3257 7.82478Z"
      fill={color}
    />
    <path
      d="M6.51418 9.37568C7.59957 9.77938 8.77402 10 10 10C11.226 10 12.4004 9.77938 13.4858 9.37568C13.4952 9.58261 13.5 9.79075 13.5 10C13.5 11.079 13.3734 12.1284 13.1343 13.1343C12.1284 13.3734 11.079 13.5 10 13.5C8.92099 13.5 7.87155 13.3734 6.86572 13.1343C6.62659 12.1284 6.5 11.079 6.5 10C6.5 9.79075 6.50476 9.58261 6.51418 9.37568Z"
      fill={color}
    />
    <path
      d="M5.28529 7.07367C5.60086 5.47789 6.16954 3.9731 6.94776 2.60288C5.52894 3.18896 4.3155 4.17138 3.44542 5.41215C3.97374 6.05128 4.59375 6.61183 5.28529 7.07367Z"
      fill={color}
    />
    <path
      d="M17.3336 6.79843C17.7622 7.77878 18 8.86162 18 10C18 10.3088 17.9825 10.6135 17.9484 10.9132C16.9787 11.6207 15.911 12.2021 14.7696 12.6333C14.921 11.7783 15 10.8984 15 10C15 9.5601 14.9811 9.12463 14.944 8.69435C15.8352 8.18645 16.6408 7.54546 17.3336 6.79843Z"
      fill={color}
    />
    <path
      d="M2.66636 6.79843C3.3592 7.54546 4.16477 8.18645 5.05604 8.69435C5.01894 9.12463 5 9.5601 5 10C5 10.8984 5.07898 11.7783 5.23037 12.6333C4.08897 12.2021 3.02132 11.6207 2.05155 10.9132C2.0175 10.6135 2 10.3088 2 10C2 8.86162 2.23777 7.77878 2.66636 6.79843Z"
      fill={color}
    />
    <path
      d="M10 15C10.8984 15 11.7783 14.921 12.6333 14.7696C12.2021 15.911 11.6207 16.9787 10.9132 17.9485C10.6135 17.9825 10.3088 18 10 18C9.69121 18 9.3865 17.9825 9.08682 17.9485C8.37929 16.9787 7.79789 15.911 7.36674 14.7696C8.22167 14.921 9.10161 15 10 15Z"
      fill={color}
    />
    <path
      d="M14.3573 14.3573C14.0334 15.4259 13.5935 16.4441 13.0522 17.3971C15.0158 16.586 16.586 15.0158 17.3971 13.0522C16.4441 13.5935 15.4259 14.0334 14.3573 14.3573Z"
      fill={color}
    />
    <path
      d="M6.94776 17.3971C4.98419 16.586 3.41399 15.0158 2.60288 13.0522C3.55593 13.5935 4.57408 14.0334 5.64268 14.3573C5.96656 15.4259 6.40648 16.4441 6.94776 17.3971Z"
      fill={color}
    />
  {:else if variation === 'micro'}
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M3.7571 4.5C3.93668 4.71745 4.13258 4.92081 4.34293 5.10822C4.49575 4.49822 4.69651 3.93309 4.93881 3.42979C4.49497 3.72769 4.09682 4.08864 3.7571 4.5ZM8 1C5.58576 1 3.45737 2.22284 2.20015 4.07948C1.44254 5.19829 1 6.5486 1 8C1 8.15013 1.00474 8.29925 1.01408 8.44721C1.24509 12.1052 4.28419 15 8 15C11.7158 15 14.7549 12.1052 14.9859 8.44721C14.9953 8.29925 15 8.15013 15 8C15 6.5486 14.5575 5.19829 13.7999 4.07948C12.5426 2.22284 10.4142 1 8 1ZM8 2.5C7.52424 2.5 6.90855 2.88577 6.36732 3.9266C6.07368 4.49129 5.83596 5.19363 5.68416 5.99028C6.38814 6.3175 7.17278 6.5 8 6.5C8.82722 6.5 9.61186 6.3175 10.3158 5.99028C10.164 5.19363 9.92632 4.49129 9.63268 3.9266C9.09145 2.88577 8.47576 2.5 8 2.5ZM11.6571 5.10822C11.5043 4.49822 11.3035 3.93309 11.0612 3.42979C11.505 3.72769 11.9032 4.08864 12.2429 4.5C12.0633 4.71745 11.8674 4.92081 11.6571 5.10822ZM10.4909 7.54371C9.7171 7.83848 8.87743 8 8 8C7.12257 8 6.2829 7.83848 5.50908 7.54371C5.50307 7.69396 5.5 7.84613 5.5 8C5.5 8.7654 5.57609 9.48859 5.71082 10.1444C6.43245 10.3754 7.20162 10.5 8 10.5C8.79838 10.5 9.56755 10.3754 10.2892 10.1444C10.4239 9.48859 10.5 8.7654 10.5 8C10.5 7.84613 10.4969 7.69396 10.4909 7.54371ZM11.9239 9.39308C11.974 8.9414 12 8.4753 12 8C12 7.5869 11.9803 7.18075 11.9423 6.78498C12.3471 6.50859 12.7214 6.19087 13.059 5.83797C13.3429 6.50123 13.5 7.23175 13.5 8C13.5 8.03342 13.4997 8.06677 13.4991 8.10004C13.0361 8.59906 12.5063 9.0348 11.9239 9.39308ZM9.75208 11.8295C9.18534 11.9413 8.5995 12 8 12C7.4005 12 6.81466 11.9413 6.24792 11.8295C6.28658 11.9134 6.3264 11.9947 6.36732 12.0734C6.90855 13.1142 7.52424 13.5 8 13.5C8.47576 13.5 9.09145 13.1142 9.63268 12.0734C9.6736 11.9947 9.71342 11.9134 9.75208 11.8295ZM11.0613 12.5699C11.2526 12.1726 11.418 11.7368 11.5543 11.2708C12.0106 11.0744 12.4475 10.8413 12.8611 10.5754C12.4342 11.3795 11.8135 12.0651 11.0613 12.5699ZM4.93867 12.5699C4.74741 12.1726 4.58205 11.7368 4.44572 11.2708C3.98936 11.0744 3.55251 10.8413 3.1389 10.5754C3.56584 11.3795 4.18651 12.0651 4.93867 12.5699ZM2.50089 8.10004C2.96391 8.59906 3.49374 9.0348 4.07614 9.39308C4.02604 8.9414 4 8.4753 4 8C4 7.5869 4.01967 7.18075 4.05771 6.78498C3.65289 6.50859 3.27862 6.19087 2.94101 5.83797C2.65714 6.50123 2.5 7.23175 2.5 8C2.5 8.03342 2.5003 8.06677 2.50089 8.10004Z"
      fill={color}
    />
  {:else}
    <path
      d="M21.7214 12.7517C21.7404 12.5036 21.75 12.2529 21.75 11.9999C21.75 10.4758 21.4003 9.03328 20.7767 7.74835C19.5396 8.92269 18.0671 9.85146 16.4374 10.4565C16.4789 10.9655 16.5 11.4803 16.5 11.9999C16.5 13.1011 16.4051 14.1802 16.2229 15.2293C18.2163 14.7277 20.0717 13.8792 21.7214 12.7517Z"
      fill={color}
    />
    <path
      d="M14.6343 15.5501C14.874 14.4043 15 13.2168 15 11.9999C15 11.6315 14.9885 11.2659 14.9657 10.9032C14.0141 11.1299 13.021 11.2499 12 11.2499C10.979 11.2499 9.98594 11.1299 9.0343 10.9032C9.01155 11.2659 9 11.6315 9 11.9999C9 13.2168 9.12601 14.4043 9.3657 15.5501C10.2246 15.6817 11.1043 15.7499 12 15.7499C12.8957 15.7499 13.7754 15.6817 14.6343 15.5501Z"
      fill={color}
    />
    <path
      d="M9.77224 17.119C10.5028 17.2054 11.2462 17.2499 12 17.2499C12.7538 17.2499 13.4972 17.2054 14.2278 17.119C13.714 18.7746 12.9575 20.3235 12 21.724C11.0425 20.3235 10.286 18.7746 9.77224 17.119Z"
      fill={color}
    />
    <path
      d="M7.77705 15.2293C7.59493 14.1802 7.5 13.1011 7.5 11.9999C7.5 11.4803 7.52114 10.9655 7.56261 10.4565C5.93286 9.85146 4.46039 8.92269 3.22333 7.74835C2.59973 9.03328 2.25 10.4758 2.25 11.9999C2.25 12.2529 2.25964 12.5036 2.27856 12.7517C3.92826 13.8792 5.78374 14.7277 7.77705 15.2293Z"
      fill={color}
    />
    <path
      d="M21.3561 14.7525C20.3404 18.2104 17.4597 20.8705 13.8776 21.5693C14.744 20.1123 15.4185 18.5278 15.8664 16.8508C17.8263 16.44 19.6736 15.7231 21.3561 14.7525Z"
      fill={color}
    />
    <path
      d="M2.64395 14.7525C4.32642 15.7231 6.17372 16.44 8.13356 16.8508C8.58146 18.5278 9.25602 20.1123 10.1224 21.5693C6.54027 20.8705 3.65964 18.2104 2.64395 14.7525Z"
      fill={color}
    />
    <path
      d="M13.8776 2.43055C16.3991 2.92245 18.5731 4.3862 19.9937 6.41599C18.9351 7.48484 17.6637 8.34251 16.2483 8.92017C15.862 6.58282 15.0435 4.39132 13.8776 2.43055Z"
      fill={color}
    />
    <path
      d="M12 2.27588C13.4287 4.36548 14.4097 6.78537 14.805 9.39744C13.9083 9.62756 12.9684 9.74993 12 9.74993C11.0316 9.74993 10.0917 9.62756 9.19503 9.39744C9.5903 6.78537 10.5713 4.36548 12 2.27588Z"
      fill={color}
    />
    <path
      d="M10.1224 2.43055C8.95648 4.39132 8.13795 6.58282 7.75171 8.92017C6.33629 8.34251 5.06489 7.48484 4.00635 6.41599C5.42689 4.3862 7.60085 2.92245 10.1224 2.43055Z"
      fill={color}
    />
  {/if}
</svg>

<!--
@component
[Go to docs](https://svelte-heros-v2.codewithshin.com/)
## Props
@prop size = ctx.size
@prop role = ctx.role || 'img'
@prop color = ctx.color || 'currentColor'
@prop variation = ctx.variation || 'outline'
@prop strokeWidth = ctx.strokeWidth || '1.5'
@prop title
@prop desc
@prop ariaLabel = 'globe alt'
@prop ...restProps
-->
