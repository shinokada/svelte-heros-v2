<script lang="ts">
  import { getContext } from 'svelte';
  import type { BaseProps, Props } from './types';

  const ctx: BaseProps = getContext('iconCtx') ?? {};

  let {
    size = ctx.size,
    role = ctx.role || 'img',
    color = ctx.color || 'currentColor',
    variation = ctx.variation || 'outline',
    strokeWidth = ctx.strokeWidth || '1.5',
    title,
    desc,
    ariaLabel = 'finger print',
    ...restProps
  }: Props = $props();

  let ariaDescribedby = `${title?.id || ''} ${desc?.id || ''}`;
  const hasDescription = $derived(!!(title?.id || desc?.id));

  let viewBox = $derived.by(() => {
    if (variation === 'mini') return '0 0 20 20';
    if (variation === 'micro') return '0 0 16 16';
    return '0 0 24 24';
  });
  let variationSize = $derived.by(() => {
    if (variation === 'mini') return '20';
    if (variation === 'micro') return '16';
    return '24';
  });
</script>

<svg
  xmlns="http://www.w3.org/2000/svg"
  {...restProps}
  {role}
  width={size || variationSize}
  height={size || variationSize}
  fill="none"
  aria-label={ariaLabel}
  aria-describedby={hasDescription ? ariaDescribedby : undefined}
  {viewBox}
  stroke-width={strokeWidth}
>
  {#if title?.id && title.title}
    <title id={title.id}>{title.title}</title>
  {/if}
  {#if desc?.id && desc.desc}
    <desc id={desc.id}>{desc.desc}</desc>
  {/if}
  {#if variation === 'outline'}
    <path
      d="M7.86391 4.24259C9.04956 3.45731 10.4714 3 12 3C16.1421 3 19.5 6.35786 19.5 10.5C19.5 13.4194 18.9443 16.2089 17.9324 18.7685M5.7426 6.36391C4.95732 7.54956 4.5 8.97138 4.5 10.5C4.5 11.9677 4.07875 13.3369 3.3501 14.4931M5.33889 18.052C7.14811 16.0555 8.25 13.4065 8.25 10.5C8.25 8.42893 9.92893 6.75 12 6.75C14.0711 6.75 15.75 8.42893 15.75 10.5C15.75 11.0269 15.7286 11.5487 15.686 12.0646M12.0003 10.5C12.0003 14.2226 10.6443 17.6285 8.39916 20.2506M15.033 15.6543C14.4852 17.5743 13.6391 19.3685 12.5479 20.9836"
      stroke={color}
      stroke-width={strokeWidth}
      stroke-linecap="round"
      stroke-linejoin="round"
    />
  {:else if variation === 'mini'}
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M10 2.5C8.69049 2.5 7.47353 2.88645 6.45419 3.55132C6.10725 3.77761 5.64256 3.6798 5.41627 3.33287C5.18998 2.98593 5.28778 2.52123 5.63472 2.29494C6.89038 1.47594 8.39075 1 10 1C14.4183 1 18 4.58172 18 9C18 11.573 17.5678 14.0467 16.7714 16.3514C16.6361 16.7429 16.2091 16.9506 15.8176 16.8153C15.4261 16.6801 15.2184 16.253 15.3537 15.8615C16.0963 13.7123 16.5 11.4041 16.5 9C16.5 5.41015 13.5899 2.5 10 2.5ZM4.33287 4.41627C4.6798 4.64256 4.77761 5.10725 4.55132 5.45419C3.88645 6.47353 3.5 7.69049 3.5 9C3.5 10.6078 3.02491 12.107 2.20723 13.362C1.98111 13.709 1.51646 13.807 1.16942 13.5809C0.822365 13.3548 0.72433 12.8902 0.950448 12.5431C1.61423 11.5243 2 10.3084 2 9C2 7.39075 2.47594 5.89038 3.29495 4.63472C3.52124 4.28778 3.98593 4.18998 4.33287 4.41627ZM10 6.12C8.34315 6.12 7 7.46314 7 9.12C7 9.13378 6.99963 9.14748 6.9989 9.16108C6.96103 11.9169 5.95297 14.4401 4.30165 16.4018C4.0349 16.7187 3.56177 16.7593 3.24488 16.4926C2.92799 16.2258 2.88735 15.7527 3.15409 15.4358C4.61843 13.6962 5.5 11.452 5.5 9C5.5 8.97218 5.50152 8.94471 5.50447 8.91767C5.61028 6.52628 7.58252 4.62 10 4.62C12.4174 4.62 14.3896 6.52613 14.4955 8.91754C14.4985 8.94516 14.5001 8.97323 14.5 9.00166L14.4998 9.0815L14.5 9.11633C14.5 9.12755 14.4999 9.13872 14.4994 9.14983C14.4987 9.24922 14.4971 9.34844 14.4948 9.44749C14.4853 9.86159 14.1418 10.1895 13.7277 10.1799C13.3136 10.1704 12.9857 9.8269 12.9952 9.4128C12.9978 9.30372 12.9993 9.19439 12.9998 9.08481C12.981 7.44426 11.6451 6.12 10 6.12ZM10 8.25C10.4142 8.25 10.75 8.58579 10.75 9C10.75 12.5103 9.56304 15.7455 7.56902 18.3232C7.31558 18.6509 6.84452 18.711 6.5169 18.4576C6.18927 18.2041 6.12913 17.7331 6.38257 17.4054C8.1805 15.0812 9.25 12.1666 9.25 9C9.25 8.58579 9.58579 8.25 10 8.25ZM13.5288 11.9478C13.9346 12.0309 14.1962 12.4273 14.113 12.8331C13.6842 14.9261 12.9112 16.8937 11.8562 18.6738C11.645 19.0302 11.185 19.1478 10.8286 18.9366C10.4723 18.7254 10.3546 18.2654 10.5658 17.9091C11.5374 16.2697 12.2488 14.4585 12.6436 12.532C12.7267 12.1262 13.1231 11.8646 13.5288 11.9478Z"
      fill={color}
    />
  {:else if variation === 'micro'}
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M8 3C7.01162 3 6.09234 3.28601 5.3177 3.77951C4.96836 4.00206 4.50474 3.89928 4.28218 3.54994C4.05963 3.20059 4.16241 2.73698 4.51176 2.51442C5.52005 1.87207 6.71772 1.5 8 1.5C11.5898 1.5 14.5 4.41015 14.5 8C14.5 9.66508 14.1674 11.2544 13.5642 12.7036C13.4051 13.086 12.9661 13.267 12.5836 13.1079C12.2012 12.9487 12.0202 12.5097 12.1794 12.1273C12.7078 10.8574 13 9.46379 13 8C13 5.23858 10.7614 3 8 3ZM3.54994 4.28219C3.89928 4.50474 4.00206 4.96836 3.77951 5.3177C3.28601 6.09234 3 7.01162 3 8C3 8.41421 2.66421 8.75 2.25 8.75C1.83578 8.75 1.5 8.41421 1.5 8C1.5 6.71772 1.87207 5.52005 2.51442 4.51176C2.73697 4.16241 3.20059 4.05963 3.54994 4.28219ZM8 5.875C6.82639 5.875 5.875 6.8264 5.875 8C5.875 10.002 4.25203 11.625 2.25 11.625H2.24577L2.21276 11.6248C1.79855 11.6225 1.46466 11.2848 1.46699 10.8706C1.46933 10.4564 1.807 10.1225 2.2212 10.1248L2.25195 10.125C3.42466 10.1239 4.375 9.17295 4.375 8C4.375 5.99797 5.99796 4.375 8 4.375C10.002 4.375 11.625 5.99797 11.625 8C11.625 8.07795 11.624 8.15568 11.6221 8.2332C11.612 8.64729 11.2681 8.97477 10.854 8.96465C10.4399 8.95452 10.1125 8.61063 10.1226 8.19654C10.1242 8.13123 10.125 8.06572 10.125 8C10.125 6.8264 9.1736 5.875 8 5.875ZM7.995 7.25C8.40921 7.25 8.745 7.58579 8.745 8C8.745 10.8351 6.93038 13.2444 4.40155 14.1335C4.01079 14.2709 3.58263 14.0655 3.44524 13.6747C3.30785 13.2839 3.51325 12.8558 3.90402 12.7184C5.85103 12.0338 7.245 10.1787 7.245 8C7.245 7.58579 7.58078 7.25 7.995 7.25ZM10.6462 10.1205C11.0375 10.2563 11.2447 10.6837 11.1088 11.075C10.5227 12.764 9.46801 14.2322 8.10143 15.3251C7.77795 15.5838 7.30599 15.5313 7.04727 15.2078C6.78856 14.8844 6.84106 14.4124 7.16455 14.1537C8.31427 13.2342 9.20006 11.9999 9.69177 10.5832C9.82758 10.1918 10.2549 9.98472 10.6462 10.1205Z"
      fill={color}
    />
  {:else}
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M12 3.75C10.6232 3.75 9.3447 4.16143 8.27806 4.86788C7.93272 5.09661 7.46736 5.00207 7.23863 4.65674C7.00991 4.3114 7.10444 3.84603 7.44978 3.61731C8.75444 2.7532 10.3196 2.25 12 2.25C16.5564 2.25 20.25 5.94365 20.25 10.5C20.25 13.5153 19.6759 16.3983 18.6299 19.0442C18.4776 19.4294 18.0419 19.6182 17.6567 19.466C17.2715 19.3137 17.0827 18.8779 17.2349 18.4927C18.2127 16.0196 18.75 13.3235 18.75 10.5C18.75 6.77208 15.7279 3.75 12 3.75ZM6.15674 5.73863C6.50208 5.96735 6.59661 6.43272 6.36789 6.77806C5.66143 7.84469 5.25001 9.12316 5.25001 10.5C5.25001 12.1132 4.78656 13.6204 3.98462 14.893C3.76378 15.2434 3.30068 15.3485 2.95024 15.1276C2.59981 14.9068 2.49475 14.4437 2.71559 14.0933C3.37095 13.0533 3.75001 11.8222 3.75001 10.5C3.75001 8.81959 4.25321 7.25443 5.11731 5.94977C5.34604 5.60443 5.81141 5.5099 6.15674 5.73863ZM12 7.5C10.3432 7.5 9.00001 8.84315 9.00001 10.5C9.00001 13.5997 7.82404 16.4266 5.89465 18.5556C5.6165 18.8626 5.1422 18.8859 4.83527 18.6077C4.52834 18.3296 4.505 17.8553 4.78315 17.5484C6.47221 15.6845 7.50001 13.2132 7.50001 10.5C7.50001 8.01472 9.51473 6 12 6C14.4853 6 16.5 8.01472 16.5 10.5C16.5 11.0472 16.4778 11.5897 16.4334 12.1264C16.3993 12.5392 16.037 12.8462 15.6242 12.8121C15.2114 12.778 14.9044 12.4157 14.9385 12.0029C14.9794 11.5078 15 11.0066 15 10.5C15 8.84315 13.6569 7.5 12 7.5ZM12.0003 9.75C12.4145 9.75 12.7503 10.0858 12.7503 10.5C12.7503 14.4082 11.3259 17.9855 8.96887 20.7384C8.69948 21.053 8.22602 21.0897 7.91138 20.8203C7.59674 20.5509 7.56007 20.0775 7.82946 19.7628C9.9626 17.2715 11.2503 14.0371 11.2503 10.5C11.2503 10.0858 11.5861 9.75 12.0003 9.75ZM15.2387 14.9331C15.6371 15.0467 15.8678 15.4617 15.7542 15.8601C15.1843 17.8576 14.3041 19.7239 13.1694 21.4035C12.9375 21.7467 12.4713 21.837 12.128 21.6051C11.7848 21.3732 11.6946 20.907 11.9264 20.5637C12.974 19.0132 13.7861 17.291 14.3118 15.4485C14.4254 15.0502 14.8404 14.8194 15.2387 14.9331Z"
      fill={color}
    />
  {/if}
</svg>

<!--
@component
[Go to docs](https://svelte-heros-v2.codewithshin.com/)
## Props
@prop size = ctx.size
@prop role = ctx.role || 'img'
@prop color = ctx.color || 'currentColor'
@prop variation = ctx.variation || 'outline'
@prop strokeWidth = ctx.strokeWidth || '1.5'
@prop title
@prop desc
@prop ariaLabel = 'finger print'
@prop ...restProps
-->
