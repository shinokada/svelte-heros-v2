<script lang="ts">
  import { getContext } from 'svelte';

  type TitleType = {
    id?: string;
    title?: string;
  };

  type DescType = {
    id?: string;
    desc?: string;
  };

  interface CtxType {
    size?: string;
    role?: string;
    color?: string;
    variation?: 'solid' | 'outline' | 'mini' | 'micro';
    strokeWidth?: string;
    withEvents?: boolean;
  }

  const ctx: CtxType = getContext('iconCtx') ?? {};

  export let size: string = ctx.size || '24';
  export let role: string = ctx.role || 'img';
  export let color: string = ctx.color || 'currentColor';
  export let variation: 'solid' | 'outline' | 'mini' | 'micro' = ctx.variation || 'outline';
  export let strokeWidth: string = ctx.strokeWidth || '1.5';
  export let withEvents: boolean = ctx.withEvents || false;
  export let title: TitleType = {};
  export let desc: DescType = {};
  export let ariaLabel: string = 'academic cap';

  let ariaDescribedby = `${title?.id || ''} ${desc?.id || ''}`;
  let hasDescription = false;
  let viewBox: string = '';

  function updateHasDescription() {
    hasDescription = !!(title?.id || desc?.id);
  }
  updateHasDescription();

  $: {
    updateHasDescription();

    if (variation === 'mini') {
      size = size || '20';
      viewBox = '0 0 20 20';
    } else if (variation === 'micro') {
      size = size || '16';
      viewBox = '0 0 16 16';
    } else {
      size = size || '24';
      viewBox = '0 0 24 24';
    }
  }
</script>

{#if withEvents}
  <svg
    xmlns="http://www.w3.org/2000/svg"
    {...$$restProps}
    {role}
    width={size}
    height={size}
    fill="none"
    aria-label={ariaLabel}
    aria-describedby={hasDescription ? ariaDescribedby : undefined}
    {viewBox}
    stroke-width={strokeWidth}
    on:click
    on:keydown
    on:keyup
    on:focus
    on:blur
    on:mouseenter
    on:mouseleave
    on:mouseover
    on:mouseout
  >
    {#if title?.id && title.title}
      <title id={title.id}>{title.title}</title>
    {/if}
    {#if desc?.id && desc.desc}
      <desc id={desc.id}>{desc.desc}</desc>
    {/if}
    {#if variation === 'outline'}
      <path
        d="M16.7124 4.3299C17.2999 4.69153 17.8548 5.12691 18.364 5.63604C18.8731 6.14517 19.3085 6.70012 19.6701 7.28763M16.7124 4.3299L13.2636 8.46838M16.7124 4.3299C13.8316 2.5567 10.1684 2.5567 7.28763 4.3299M19.6701 7.28763L15.5316 10.7364M19.6701 7.28763C21.4433 10.1684 21.4433 13.8316 19.6701 16.7124M15.5316 10.7364C15.3507 10.2297 15.0574 9.75408 14.6517 9.34835C14.2459 8.94262 13.7703 8.6493 13.2636 8.46838M15.5316 10.7364C15.8228 11.5519 15.8228 12.4481 15.5316 13.2636M13.2636 8.46838C12.4481 8.17721 11.5519 8.17721 10.7364 8.46838M15.5316 13.2636C15.3507 13.7703 15.0574 14.2459 14.6517 14.6517C14.2459 15.0574 13.7703 15.3507 13.2636 15.5316M15.5316 13.2636L19.6701 16.7124M19.6701 16.7124C19.3085 17.2999 18.8731 17.8548 18.364 18.364C17.8548 18.8731 17.2999 19.3085 16.7124 19.6701M16.7124 19.6701L13.2636 15.5316M16.7124 19.6701C13.8316 21.4433 10.1684 21.4433 7.28763 19.6701M13.2636 15.5316C12.4481 15.8228 11.5519 15.8228 10.7364 15.5316M10.7364 15.5316C10.2297 15.3507 9.75408 15.0574 9.34835 14.6517C8.94262 14.2459 8.6493 13.7703 8.46838 13.2636M10.7364 15.5316L7.28763 19.6701M7.28763 19.6701C6.70012 19.3085 6.14517 18.8731 5.63604 18.364C5.12691 17.8548 4.69153 17.2999 4.3299 16.7124M4.3299 16.7124L8.46838 13.2636M4.3299 16.7124C2.5567 13.8316 2.5567 10.1684 4.3299 7.28763M8.46838 13.2636C8.17721 12.4481 8.17721 11.5519 8.46838 10.7364M8.46838 10.7364C8.6493 10.2297 8.94262 9.75408 9.34835 9.34835C9.75408 8.94262 10.2297 8.6493 10.7364 8.46838M8.46838 10.7364L4.3299 7.28763M10.7364 8.46838L7.28763 4.3299M7.28763 4.3299C6.70012 4.69153 6.14517 5.12691 5.63604 5.63604C5.12691 6.14517 4.69153 6.70013 4.3299 7.28763"
        stroke={color}
        stroke-width={strokeWidth}
        stroke-linecap="round"
        stroke-linejoin="round"
      />
    {:else if variation === 'mini'}
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M7.17111 4.1457L9.11848 6.61237C9.69601 6.46254 10.304 6.46254 10.8815 6.61237L12.8289 4.1457C11.0472 3.28477 8.95276 3.28477 7.17111 4.1457ZM15.8543 7.17111L13.3876 9.11848C13.5375 9.69601 13.5375 10.304 13.3876 10.8815L15.8543 12.8289C16.7152 11.0472 16.7152 8.95276 15.8543 7.17111ZM12.8289 15.8543L10.8815 13.3876C10.304 13.5375 9.69601 13.5375 9.11848 13.3876L7.17111 15.8543C8.95276 16.7152 11.0472 16.7152 12.8289 15.8543ZM4.1457 12.8289L6.61237 10.8815C6.46254 10.304 6.46254 9.69601 6.61237 9.11848L4.1457 7.17111C3.28477 8.95276 3.28477 11.0472 4.1457 12.8289ZM5.63091 3.29667C8.27818 1.56778 11.7218 1.56778 14.3691 3.29667C14.8253 3.59461 15.2573 3.94356 15.6569 4.34315C16.0564 4.74273 16.4054 5.17471 16.7033 5.63091C18.4322 8.27817 18.4322 11.7218 16.7033 14.3691C16.4054 14.8253 16.0564 15.2573 15.6569 15.6569C15.2573 16.0564 14.8253 16.4054 14.3691 16.7033C11.7218 18.4322 8.27818 18.4322 5.63091 16.7033C5.1747 16.4054 4.74273 16.0564 4.34315 15.6569C3.94356 15.2573 3.59461 14.8253 3.29667 14.3691C1.56778 11.7218 1.56778 8.27818 3.29667 5.63091C3.59461 5.17471 3.94356 4.74273 4.34315 4.34315C4.74273 3.94356 5.17471 3.59461 5.63091 3.29667ZM10.8287 8.17897C10.3041 7.94035 9.69587 7.94035 9.17126 8.17897C8.95999 8.27506 8.76133 8.41024 8.58579 8.58579C8.41024 8.76133 8.27506 8.95999 8.17897 9.17126C7.94035 9.69587 7.94035 10.3041 8.17897 10.8287C8.27506 11.04 8.41024 11.2387 8.58579 11.4142C8.76133 11.5898 8.95999 11.7249 9.17126 11.821C9.69587 12.0597 10.3041 12.0597 10.8287 11.821C11.04 11.7249 11.2387 11.5898 11.4142 11.4142C11.5898 11.2387 11.7249 11.04 11.821 10.8287C12.0597 10.3041 12.0597 9.69587 11.821 9.17126C11.7249 8.95999 11.5898 8.76133 11.4142 8.58579C11.2387 8.41024 11.04 8.27506 10.8287 8.17897Z"
        fill={color}
      />
    {:else if variation === 'micro'}
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M12.9497 3.05025C10.2161 0.316582 5.78392 0.316582 3.05025 3.05025C0.316582 5.78392 0.316583 10.2161 3.05025 12.9497C5.78392 15.6834 10.2161 15.6834 12.9497 12.9497C15.6834 10.2161 15.6834 5.78392 12.9497 3.05025ZM5.68843 3.00769C7.15077 2.33077 8.84922 2.33077 10.3116 3.00769L8.69825 5.08196C8.23966 4.97269 7.76034 4.97269 7.30175 5.08196L5.68843 3.00769ZM3.00769 5.68845C2.33077 7.15079 2.33077 8.84923 3.0077 10.3116L5.08196 8.69826C4.97268 8.23967 4.97268 7.76035 5.08195 7.30177L3.00769 5.68845ZM5.68845 12.9923L7.30176 10.9181C7.76034 11.0273 8.23966 11.0273 8.69824 10.9181L10.3116 12.9923C8.84922 13.6692 7.15078 13.6692 5.68845 12.9923ZM12.9923 10.3116C13.6692 8.84923 13.6692 7.15078 12.9923 5.68845L10.918 7.30176C11.0273 7.76035 11.0273 8.23967 10.918 8.69825L12.9923 10.3116ZM6.93934 6.93935C7.52513 6.35356 8.47487 6.35356 9.06066 6.93935C9.64645 7.52513 9.64645 8.47488 9.06066 9.06067C8.47487 9.64645 7.52513 9.64645 6.93934 9.06067C6.35355 8.47488 6.35355 7.52513 6.93934 6.93935Z"
        fill={color}
      />
    {:else}
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M19.449 8.44818L16.3878 10.9992C16.5374 11.6574 16.5374 12.3426 16.3878 13.0008L19.449 15.5518C20.517 13.3118 20.517 10.6882 19.449 8.44818ZM15.5518 19.449L13.0008 16.3878C12.3426 16.5374 11.6574 16.5374 10.9992 16.3878L8.44818 19.449C10.6882 20.517 13.3118 20.517 15.5518 19.449ZM4.55102 15.5518L7.6122 13.0008C7.4626 12.3426 7.4626 11.6574 7.6122 10.9992L4.55102 8.44818C3.48299 10.6882 3.48299 13.3118 4.55102 15.5518ZM8.44818 4.55102L10.9992 7.6122C11.6574 7.4626 12.3426 7.4626 13.0008 7.6122L15.5518 4.55102C13.3118 3.48299 10.6882 3.48299 8.44818 4.55102ZM17.1055 3.6912C17.7424 4.08325 18.3435 4.55493 18.8943 5.10571C19.4451 5.65649 19.9167 6.25755 20.3088 6.89448C22.2304 10.0163 22.2304 13.9837 20.3088 17.1055C19.9167 17.7424 19.4451 18.3435 18.8943 18.8943C18.3435 19.4451 17.7424 19.9167 17.1055 20.3088C13.9837 22.2304 10.0163 22.2304 6.89448 20.3088C6.25755 19.9167 5.65649 19.4451 5.10571 18.8943C4.55493 18.3435 4.08325 17.7424 3.6912 17.1055C1.7696 13.9837 1.7696 10.0163 3.6912 6.89448C4.08325 6.25755 4.55493 5.65649 5.10571 5.10571C5.65649 4.55493 6.25755 4.08325 6.89448 3.6912C10.0163 1.7696 13.9837 1.7696 17.1055 3.6912ZM14.1213 9.87868C13.7958 9.55313 13.4158 9.31907 13.0115 9.17471C12.359 8.94176 11.641 8.94176 10.9886 9.17471C10.5842 9.31907 10.2042 9.55313 9.87868 9.87868C9.55313 10.2042 9.31907 10.5842 9.17471 10.9885C8.94176 11.641 8.94176 12.359 9.17471 13.0114C9.31907 13.4158 9.55313 13.7958 9.87868 14.1213C10.2042 14.4469 10.5842 14.6809 10.9886 14.8253C11.641 15.0582 12.359 15.0582 13.0115 14.8253C13.4158 14.6809 13.7958 14.4469 14.1213 14.1213C14.4469 13.7958 14.6809 13.4158 14.8253 13.0115C15.0582 12.359 15.0582 11.641 14.8253 10.9885C14.6809 10.5842 14.4469 10.2042 14.1213 9.87868Z"
        fill={color}
      />
    {/if}
  </svg>
{:else}
  <svg
    xmlns="http://www.w3.org/2000/svg"
    {...$$restProps}
    {role}
    width={size}
    height={size}
    fill="none"
    aria-label={ariaLabel}
    aria-describedby={hasDescription ? ariaDescribedby : undefined}
    {viewBox}
    stroke-width={strokeWidth}
  >
    {#if title?.id && title.title}
      <title id={title.id}>{title.title}</title>
    {/if}
    {#if desc?.id && desc.desc}
      <desc id={desc.id}>{desc.desc}</desc>
    {/if}
    {#if variation === 'outline'}
      <path
        d="M16.7124 4.3299C17.2999 4.69153 17.8548 5.12691 18.364 5.63604C18.8731 6.14517 19.3085 6.70012 19.6701 7.28763M16.7124 4.3299L13.2636 8.46838M16.7124 4.3299C13.8316 2.5567 10.1684 2.5567 7.28763 4.3299M19.6701 7.28763L15.5316 10.7364M19.6701 7.28763C21.4433 10.1684 21.4433 13.8316 19.6701 16.7124M15.5316 10.7364C15.3507 10.2297 15.0574 9.75408 14.6517 9.34835C14.2459 8.94262 13.7703 8.6493 13.2636 8.46838M15.5316 10.7364C15.8228 11.5519 15.8228 12.4481 15.5316 13.2636M13.2636 8.46838C12.4481 8.17721 11.5519 8.17721 10.7364 8.46838M15.5316 13.2636C15.3507 13.7703 15.0574 14.2459 14.6517 14.6517C14.2459 15.0574 13.7703 15.3507 13.2636 15.5316M15.5316 13.2636L19.6701 16.7124M19.6701 16.7124C19.3085 17.2999 18.8731 17.8548 18.364 18.364C17.8548 18.8731 17.2999 19.3085 16.7124 19.6701M16.7124 19.6701L13.2636 15.5316M16.7124 19.6701C13.8316 21.4433 10.1684 21.4433 7.28763 19.6701M13.2636 15.5316C12.4481 15.8228 11.5519 15.8228 10.7364 15.5316M10.7364 15.5316C10.2297 15.3507 9.75408 15.0574 9.34835 14.6517C8.94262 14.2459 8.6493 13.7703 8.46838 13.2636M10.7364 15.5316L7.28763 19.6701M7.28763 19.6701C6.70012 19.3085 6.14517 18.8731 5.63604 18.364C5.12691 17.8548 4.69153 17.2999 4.3299 16.7124M4.3299 16.7124L8.46838 13.2636M4.3299 16.7124C2.5567 13.8316 2.5567 10.1684 4.3299 7.28763M8.46838 13.2636C8.17721 12.4481 8.17721 11.5519 8.46838 10.7364M8.46838 10.7364C8.6493 10.2297 8.94262 9.75408 9.34835 9.34835C9.75408 8.94262 10.2297 8.6493 10.7364 8.46838M8.46838 10.7364L4.3299 7.28763M10.7364 8.46838L7.28763 4.3299M7.28763 4.3299C6.70012 4.69153 6.14517 5.12691 5.63604 5.63604C5.12691 6.14517 4.69153 6.70013 4.3299 7.28763"
        stroke={color}
        stroke-width={strokeWidth}
        stroke-linecap="round"
        stroke-linejoin="round"
      />
    {:else if variation === 'mini'}
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M7.17111 4.1457L9.11848 6.61237C9.69601 6.46254 10.304 6.46254 10.8815 6.61237L12.8289 4.1457C11.0472 3.28477 8.95276 3.28477 7.17111 4.1457ZM15.8543 7.17111L13.3876 9.11848C13.5375 9.69601 13.5375 10.304 13.3876 10.8815L15.8543 12.8289C16.7152 11.0472 16.7152 8.95276 15.8543 7.17111ZM12.8289 15.8543L10.8815 13.3876C10.304 13.5375 9.69601 13.5375 9.11848 13.3876L7.17111 15.8543C8.95276 16.7152 11.0472 16.7152 12.8289 15.8543ZM4.1457 12.8289L6.61237 10.8815C6.46254 10.304 6.46254 9.69601 6.61237 9.11848L4.1457 7.17111C3.28477 8.95276 3.28477 11.0472 4.1457 12.8289ZM5.63091 3.29667C8.27818 1.56778 11.7218 1.56778 14.3691 3.29667C14.8253 3.59461 15.2573 3.94356 15.6569 4.34315C16.0564 4.74273 16.4054 5.17471 16.7033 5.63091C18.4322 8.27817 18.4322 11.7218 16.7033 14.3691C16.4054 14.8253 16.0564 15.2573 15.6569 15.6569C15.2573 16.0564 14.8253 16.4054 14.3691 16.7033C11.7218 18.4322 8.27818 18.4322 5.63091 16.7033C5.1747 16.4054 4.74273 16.0564 4.34315 15.6569C3.94356 15.2573 3.59461 14.8253 3.29667 14.3691C1.56778 11.7218 1.56778 8.27818 3.29667 5.63091C3.59461 5.17471 3.94356 4.74273 4.34315 4.34315C4.74273 3.94356 5.17471 3.59461 5.63091 3.29667ZM10.8287 8.17897C10.3041 7.94035 9.69587 7.94035 9.17126 8.17897C8.95999 8.27506 8.76133 8.41024 8.58579 8.58579C8.41024 8.76133 8.27506 8.95999 8.17897 9.17126C7.94035 9.69587 7.94035 10.3041 8.17897 10.8287C8.27506 11.04 8.41024 11.2387 8.58579 11.4142C8.76133 11.5898 8.95999 11.7249 9.17126 11.821C9.69587 12.0597 10.3041 12.0597 10.8287 11.821C11.04 11.7249 11.2387 11.5898 11.4142 11.4142C11.5898 11.2387 11.7249 11.04 11.821 10.8287C12.0597 10.3041 12.0597 9.69587 11.821 9.17126C11.7249 8.95999 11.5898 8.76133 11.4142 8.58579C11.2387 8.41024 11.04 8.27506 10.8287 8.17897Z"
        fill={color}
      />
    {:else if variation === 'micro'}
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M12.9497 3.05025C10.2161 0.316582 5.78392 0.316582 3.05025 3.05025C0.316582 5.78392 0.316583 10.2161 3.05025 12.9497C5.78392 15.6834 10.2161 15.6834 12.9497 12.9497C15.6834 10.2161 15.6834 5.78392 12.9497 3.05025ZM5.68843 3.00769C7.15077 2.33077 8.84922 2.33077 10.3116 3.00769L8.69825 5.08196C8.23966 4.97269 7.76034 4.97269 7.30175 5.08196L5.68843 3.00769ZM3.00769 5.68845C2.33077 7.15079 2.33077 8.84923 3.0077 10.3116L5.08196 8.69826C4.97268 8.23967 4.97268 7.76035 5.08195 7.30177L3.00769 5.68845ZM5.68845 12.9923L7.30176 10.9181C7.76034 11.0273 8.23966 11.0273 8.69824 10.9181L10.3116 12.9923C8.84922 13.6692 7.15078 13.6692 5.68845 12.9923ZM12.9923 10.3116C13.6692 8.84923 13.6692 7.15078 12.9923 5.68845L10.918 7.30176C11.0273 7.76035 11.0273 8.23967 10.918 8.69825L12.9923 10.3116ZM6.93934 6.93935C7.52513 6.35356 8.47487 6.35356 9.06066 6.93935C9.64645 7.52513 9.64645 8.47488 9.06066 9.06067C8.47487 9.64645 7.52513 9.64645 6.93934 9.06067C6.35355 8.47488 6.35355 7.52513 6.93934 6.93935Z"
        fill={color}
      />
    {:else}
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M19.449 8.44818L16.3878 10.9992C16.5374 11.6574 16.5374 12.3426 16.3878 13.0008L19.449 15.5518C20.517 13.3118 20.517 10.6882 19.449 8.44818ZM15.5518 19.449L13.0008 16.3878C12.3426 16.5374 11.6574 16.5374 10.9992 16.3878L8.44818 19.449C10.6882 20.517 13.3118 20.517 15.5518 19.449ZM4.55102 15.5518L7.6122 13.0008C7.4626 12.3426 7.4626 11.6574 7.6122 10.9992L4.55102 8.44818C3.48299 10.6882 3.48299 13.3118 4.55102 15.5518ZM8.44818 4.55102L10.9992 7.6122C11.6574 7.4626 12.3426 7.4626 13.0008 7.6122L15.5518 4.55102C13.3118 3.48299 10.6882 3.48299 8.44818 4.55102ZM17.1055 3.6912C17.7424 4.08325 18.3435 4.55493 18.8943 5.10571C19.4451 5.65649 19.9167 6.25755 20.3088 6.89448C22.2304 10.0163 22.2304 13.9837 20.3088 17.1055C19.9167 17.7424 19.4451 18.3435 18.8943 18.8943C18.3435 19.4451 17.7424 19.9167 17.1055 20.3088C13.9837 22.2304 10.0163 22.2304 6.89448 20.3088C6.25755 19.9167 5.65649 19.4451 5.10571 18.8943C4.55493 18.3435 4.08325 17.7424 3.6912 17.1055C1.7696 13.9837 1.7696 10.0163 3.6912 6.89448C4.08325 6.25755 4.55493 5.65649 5.10571 5.10571C5.65649 4.55493 6.25755 4.08325 6.89448 3.6912C10.0163 1.7696 13.9837 1.7696 17.1055 3.6912ZM14.1213 9.87868C13.7958 9.55313 13.4158 9.31907 13.0115 9.17471C12.359 8.94176 11.641 8.94176 10.9886 9.17471C10.5842 9.31907 10.2042 9.55313 9.87868 9.87868C9.55313 10.2042 9.31907 10.5842 9.17471 10.9885C8.94176 11.641 8.94176 12.359 9.17471 13.0114C9.31907 13.4158 9.55313 13.7958 9.87868 14.1213C10.2042 14.4469 10.5842 14.6809 10.9886 14.8253C11.641 15.0582 12.359 15.0582 13.0115 14.8253C13.4158 14.6809 13.7958 14.4469 14.1213 14.1213C14.4469 13.7958 14.6809 13.4158 14.8253 13.0115C15.0582 12.359 15.0582 11.641 14.8253 10.9885C14.6809 10.5842 14.4469 10.2042 14.1213 9.87868Z"
        fill={color}
      />
    {/if}
  </svg>
{/if}

<!--
@component
[Go to docs](https://svelte-heros-v2.codewithshin.com)
## Props
@prop export let size: string = ctx.size || '24';
@prop export let role: string = ctx.role || 'img';
@prop export let color: string = ctx.color || 'currentColor';
@prop export let variation: 'solid' | 'outline' | 'mini' | 'micro' = ctx.variation || 'outline';
@prop export let strokeWidth: string = ctx.strokeWidth || '1.5';
@prop export let withEvents: boolean = ctx.withEvents || false;
@prop export let title: TitleType = {};
@prop export let desc: DescType = {};
@prop export let ariaLabel: string = 'academic cap';
-->
