<script lang="ts">
  import { getContext } from 'svelte';
  import type { BaseProps, Props } from './types';

  const ctx: BaseProps = getContext('iconCtx') ?? {};

  let {
    size = ctx.size,
    role = ctx.role || 'img',
    color = ctx.color || 'currentColor',
    variation = ctx.variation || 'outline',
    strokeWidth = ctx.strokeWidth || '1.5',
    title,
    desc,
    ariaLabel = 'cake',
    ...restProps
  }: Props = $props();

  let ariaDescribedby = `${title?.id || ''} ${desc?.id || ''}`;
  const hasDescription = $derived(!!(title?.id || desc?.id));

  let viewBox = $derived.by(() => {
    if (variation === 'mini') return '0 0 20 20';
    if (variation === 'micro') return '0 0 16 16';
    return '0 0 24 24';
  });
  let variationSize = $derived.by(() => {
    if (variation === 'mini') return '20';
    if (variation === 'micro') return '16';
    return '24';
  });
</script>

<svg
  xmlns="http://www.w3.org/2000/svg"
  {...restProps}
  {role}
  width={size || variationSize}
  height={size || variationSize}
  fill="none"
  aria-label={ariaLabel}
  aria-describedby={hasDescription ? ariaDescribedby : undefined}
  {viewBox}
  stroke-width={strokeWidth}
>
  {#if title?.id && title.title}
    <title id={title.id}>{title.title}</title>
  {/if}
  {#if desc?.id && desc.desc}
    <desc id={desc.id}>{desc.desc}</desc>
  {/if}
  {#if variation === 'outline'}
    <path
      d="M12 8.25V6.75M12 8.25C10.6448 8.25 9.30281 8.30616 7.97608 8.41627C6.84499 8.51015 6 9.47323 6 10.6082V13.1214M12 8.25C13.3552 8.25 14.6972 8.30616 16.0239 8.41627C17.155 8.51015 18 9.47323 18 10.6082V13.1214M15 8.25V6.75M9 8.25V6.75M21 16.5L19.5 17.25C18.5557 17.7221 17.4443 17.7221 16.5 17.25C15.5557 16.7779 14.4443 16.7779 13.5 17.25C12.5557 17.7221 11.4443 17.7221 10.5 17.25C9.55573 16.7779 8.44427 16.7779 7.5 17.25C6.55573 17.7221 5.44427 17.7221 4.5 17.25L3 16.5M18 13.1214C16.0344 12.8763 14.032 12.75 12 12.75C9.96804 12.75 7.96557 12.8763 6 13.1214M18 13.1214C18.3891 13.1699 18.7768 13.2231 19.163 13.2809C20.2321 13.4408 21 14.3747 21 15.4557V20.625C21 21.2463 20.4963 21.75 19.875 21.75H4.125C3.50368 21.75 3 21.2463 3 20.625V15.4557C3 14.3747 3.76793 13.4408 4.83697 13.2809C5.22316 13.2231 5.61086 13.1699 6 13.1214M12.2652 3.10983C12.4117 3.25628 12.4117 3.49372 12.2652 3.64016C12.1188 3.78661 11.8813 3.78661 11.7349 3.64016C11.5884 3.49372 11.5884 3.25628 11.7349 3.10983C11.8104 3.03429 12.0001 2.84467 12.0001 2.84467C12.0001 2.84467 12.1943 3.03893 12.2652 3.10983ZM9.26522 3.10983C9.41167 3.25628 9.41167 3.49372 9.26522 3.64016C9.11878 3.78661 8.88134 3.78661 8.73489 3.64016C8.58844 3.49372 8.58844 3.25628 8.73489 3.10983C8.81044 3.03429 9.00005 2.84467 9.00005 2.84467C9.00005 2.84467 9.19432 3.03893 9.26522 3.10983ZM15.2652 3.10983C15.4117 3.25628 15.4117 3.49372 15.2652 3.64016C15.1188 3.78661 14.8813 3.78661 14.7349 3.64016C14.5884 3.49372 14.5884 3.25628 14.7349 3.10983C14.8104 3.03429 15.0001 2.84467 15.0001 2.84467C15.0001 2.84467 15.1943 3.03893 15.2652 3.10983Z"
      stroke={color}
      stroke-width={strokeWidth}
      stroke-linecap="round"
      stroke-linejoin="round"
    />
  {:else if variation === 'mini'}
    <path
      d="M6.74999 0.97937L5.86612 1.86326C5.37796 2.35142 5.37796 3.14288 5.86612 3.63103C6.35427 4.11919 7.14573 4.11919 7.63388 3.63103C8.12204 3.14288 8.12204 2.35142 7.63388 1.86326L6.74999 0.97937Z"
      fill={color}
    />
    <path
      d="M13.25 0.97937L12.3661 1.86326C11.878 2.35142 11.878 3.14288 12.3661 3.63103C12.8543 4.11919 13.6457 4.11919 14.1339 3.63103C14.622 3.14288 14.622 2.35142 14.1339 1.86326L13.25 0.97937Z"
      fill={color}
    />
    <path
      d="M9.99999 0.97937L10.8839 1.86326C11.372 2.35142 11.372 3.14288 10.8839 3.63103C10.3957 4.11919 9.60427 4.11919 9.11612 3.63103C8.62796 3.14288 8.62796 2.35142 9.11612 1.86326L9.99999 0.97937Z"
      fill={color}
    />
    <path
      d="M7.5 5.75003C7.5 5.33582 7.16421 5.00003 6.75 5.00003C6.33579 5.00003 6 5.33582 6 5.75003V6.21382C4.82122 6.5185 4 7.60435 4 8.83573V8.93025C4.10036 8.90963 4.20229 8.89232 4.30573 8.87847C6.16935 8.62879 8.07023 8.50003 10 8.50003C11.9298 8.50003 13.8306 8.62879 15.6943 8.87847C15.7977 8.89232 15.8996 8.90963 16 8.93025V8.83573C16 7.60435 15.1788 6.5185 14 6.21382V5.75003C14 5.33582 13.6642 5.00003 13.25 5.00003C12.8358 5.00003 12.5 5.33582 12.5 5.75003V6.06832C11.9195 6.03653 11.3361 6.01574 10.75 6.00616V5.75003C10.75 5.33582 10.4142 5.00003 10 5.00003C9.58579 5.00003 9.25 5.33582 9.25 5.75003V6.00616C8.66391 6.01574 8.08051 6.03653 7.5 6.06832V5.75003Z"
      fill={color}
    />
    <path
      d="M4.50491 10.3652C6.30269 10.1243 8.13702 10 10 10C11.863 10 13.6973 10.1243 15.4951 10.3652C16.9666 10.5623 18 11.8379 18 13.2789V13.9722C17.4297 13.9722 16.8594 13.8412 16.3354 13.5792C14.8652 12.8441 13.1348 12.8441 11.6646 13.5792C10.6167 14.1032 9.38329 14.1032 8.33541 13.5792C6.86524 12.8441 5.13476 12.8441 3.66459 13.5792C3.14065 13.8412 2.57032 13.9722 2 13.9722V13.2789C2 11.8379 3.03337 10.5623 4.50491 10.3652Z"
      fill={color}
    />
    <path
      d="M15.6646 14.9209C16.3997 15.2884 17.1998 15.4722 18 15.4722V16.5C18 17.3285 17.3284 18 16.5 18H3.5C2.67157 18 2 17.3285 2 16.5V15.4722C2.80016 15.4722 3.60032 15.2884 4.33541 14.9209C5.38329 14.3969 6.61671 14.3969 7.66459 14.9209C9.13476 15.6559 10.8652 15.6559 12.3354 14.9209C13.3833 14.3969 14.6167 14.3969 15.6646 14.9209Z"
      fill={color}
    />
  {:else if variation === 'micro'}
    <path
      d="M4.74999 1L3.86612 1.88389C3.37796 2.37205 3.37796 3.16351 3.86612 3.65166C4.35427 4.13982 5.14573 4.13982 5.63388 3.65166C6.12204 3.16351 6.12204 2.37205 5.63388 1.88389L4.74999 1Z"
      fill={color}
    />
    <path
      d="M11.25 1L10.3661 1.88389C9.87796 2.37205 9.87796 3.16351 10.3661 3.65166C10.8543 4.13982 11.6457 4.13982 12.1339 3.65166C12.622 3.16351 12.622 2.37205 12.1339 1.88389L11.25 1Z"
      fill={color}
    />
    <path
      d="M8.88388 1.88389L7.99999 1L7.11612 1.88389C6.62796 2.37205 6.62796 3.16351 7.11612 3.65166C7.60427 4.13982 8.39573 4.13982 8.88388 3.65166C9.37204 3.16351 9.37204 2.37205 8.88388 1.88389Z"
      fill={color}
    />
    <path
      d="M4 7C2.89543 7 2 7.89543 2 9V10.0338C2.34716 10.0339 2.69432 9.97826 3.02794 9.86705L3.49812 9.71033C4.47314 9.38532 5.52727 9.38532 6.50229 9.71033L6.97246 9.86705C7.63958 10.0894 8.36083 10.0894 9.02794 9.86705L9.49812 9.71033C10.4731 9.38532 11.5273 9.38532 12.5023 9.71033L12.9725 9.86705C13.306 9.97822 13.653 10.0338 14 10.0338V9C14 7.89543 13.1046 7 12 7V5.75C12 5.33579 11.6642 5 11.25 5C10.8358 5 10.5 5.33579 10.5 5.75V7H8.75V5.75C8.75 5.33579 8.41421 5 8 5C7.58579 5 7.25 5.33579 7.25 5.75V7H5.5V5.75C5.5 5.33579 5.16421 5 4.75 5C4.33579 5 4 5.33579 4 5.75V7Z"
      fill={color}
    />
    <path
      d="M14 11.5338C13.4928 11.5338 12.9856 11.4526 12.4981 11.2901L12.0279 11.1334C11.3608 10.911 10.6396 10.911 9.97246 11.1334L9.50229 11.2901C8.52727 11.6151 7.47314 11.6151 6.49812 11.2901L6.02794 11.1334C5.36083 10.911 4.63958 10.911 3.97246 11.1334L3.50229 11.2901C3.01471 11.4526 2.50735 11.5339 2 11.5338V13C2 13.5523 2.44772 14 3 14H13C13.5523 14 14 13.5523 14 13V11.5338Z"
      fill={color}
    />
  {:else}
    <path
      d="M15 1.784L14.2045 2.5795C13.7652 3.01884 13.7652 3.73115 14.2045 4.17049C14.6438 4.60983 15.3562 4.60983 15.7955 4.17049C16.2348 3.73115 16.2348 3.01884 15.7955 2.5795L15 1.784Z"
      fill={color}
    />
    <path
      d="M12 1.784L11.2045 2.5795C10.7652 3.01884 10.7652 3.73115 11.2045 4.17049C11.6438 4.60983 12.3562 4.60983 12.7955 4.17049C13.2348 3.73115 13.2348 3.01884 12.7955 2.5795L12 1.784Z"
      fill={color}
    />
    <path
      d="M8.99999 1.784L8.2045 2.5795C7.76516 3.01884 7.76516 3.73115 8.2045 4.17049C8.64384 4.60983 9.35616 4.60983 9.7955 4.17049C10.2348 3.73115 10.2348 3.01884 9.7955 2.5795L8.99999 1.784Z"
      fill={color}
    />
    <path
      d="M9.75 7.54669C10.2483 7.52597 10.7483 7.5121 11.25 7.50518V6.75C11.25 6.33579 11.5858 6 12 6C12.4142 6 12.75 6.33579 12.75 6.75V7.50518C13.2517 7.5121 13.7517 7.52597 14.25 7.54669V6.75C14.25 6.33579 14.5858 6 15 6C15.4142 6 15.75 6.33579 15.75 6.75V7.63003C15.8524 7.63715 15.9547 7.64456 16.0569 7.65226C17.6071 7.76907 18.75 9.07932 18.75 10.5976V11.6162C16.5333 11.3742 14.2811 11.25 12 11.25C9.71886 11.25 7.46673 11.3742 5.25 11.6162V10.5976C5.25 9.07932 6.39295 7.76907 7.94314 7.65226C8.04534 7.64456 8.14763 7.63715 8.25 7.63003V6.75C8.25 6.33579 8.58579 6 9 6C9.41421 6 9.75 6.33579 9.75 6.75V7.54669Z"
      fill={color}
    />
    <path
      d="M12 12.75C9.52847 12.75 7.09944 12.934 4.72596 13.2891C3.27191 13.5067 2.25 14.7716 2.25 16.2057V16.59C3.11853 16.4286 4.02704 16.55 4.83541 16.9542C5.56854 17.3207 6.43146 17.3207 7.16459 16.9542C8.32001 16.3765 9.67999 16.3765 10.8354 16.9542C11.5685 17.3207 12.4315 17.3207 13.1646 16.9542C14.32 16.3765 15.68 16.3765 16.8354 16.9542C17.5685 17.3207 18.4315 17.3207 19.1646 16.9542C19.973 16.55 20.8815 16.4286 21.75 16.59V16.2057C21.75 14.7716 20.7281 13.5067 19.274 13.2891C16.9006 12.934 14.4715 12.75 12 12.75Z"
      fill={color}
    />
    <path
      d="M21.75 18.1312C21.1195 17.9416 20.4342 17.9964 19.8354 18.2958C18.68 18.8735 17.32 18.8735 16.1646 18.2958C15.4315 17.9293 14.5685 17.9293 13.8354 18.2958C12.68 18.8735 11.32 18.8735 10.1646 18.2958C9.43146 17.9293 8.56854 17.9293 7.83541 18.2958C6.67999 18.8735 5.32001 18.8735 4.16459 18.2958C3.56583 17.9964 2.88049 17.9416 2.25 18.1312V20.625C2.25 21.6605 3.08947 22.5 4.125 22.5H19.875C20.9105 22.5 21.75 21.6605 21.75 20.625V18.1312Z"
      fill={color}
    />
  {/if}
</svg>

<!--
@component
[Go to docs](https://svelte-heros-v2.codewithshin.com/)
## Props
@prop size = ctx.size
@prop role = ctx.role || 'img'
@prop color = ctx.color || 'currentColor'
@prop variation = ctx.variation || 'outline'
@prop strokeWidth = ctx.strokeWidth || '1.5'
@prop title
@prop desc
@prop ariaLabel = 'cake'
@prop ...restProps
-->
