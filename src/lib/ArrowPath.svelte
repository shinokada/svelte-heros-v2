<script lang="ts">
	import { getContext } from 'svelte';
	import type { BaseProps, Props } from './types';

	const ctx: BaseProps = getContext('iconCtx') ?? {};

	let {
		size = ctx.size,
		role = ctx.role || 'img',
		color = ctx.color || 'currentColor',
		variation = ctx.variation || 'outline',
		strokeWidth = ctx.strokeWidth || '1.5',
		title,
		desc,
		ariaLabel = 'arrow path',
		...restProps
	}: Props = $props();

	let ariaDescribedby = `${title?.id || ''} ${desc?.id || ''}`;
	const hasDescription = $derived(!!(title?.id || desc?.id));

	let viewBox = $derived.by(() => {
		if (variation === 'mini') return '0 0 20 20';
		if (variation === 'micro') return '0 0 16 16';
		return '0 0 24 24';
	});
	let variationSize = $derived.by(() => {
		if (variation === 'mini') return '20';
		if (variation === 'micro') return '16';
		return '24';
	});
</script>

<svg
	xmlns="http://www.w3.org/2000/svg"
	{...restProps}
	{role}
	width={size || variationSize}
	height={size || variationSize}
	fill="none"
	aria-label={ariaLabel}
	aria-describedby={hasDescription ? ariaDescribedby : undefined}
	{viewBox}
	stroke-width={strokeWidth}
>
	{#if title?.id && title.title}
		<title id={title.id}>{title.title}</title>
	{/if}
	{#if desc?.id && desc.desc}
		<desc id={desc.id}>{desc.desc}</desc>
	{/if}
	{#if variation === 'outline'}
		<path
			d="M16.0228 9.34841H21.0154V9.34663M2.98413 19.6444V14.6517M2.98413 14.6517L7.97677 14.6517M2.98413 14.6517L6.16502 17.8347C7.15555 18.8271 8.41261 19.58 9.86436 19.969C14.2654 21.1483 18.7892 18.5364 19.9685 14.1353M4.03073 9.86484C5.21 5.46374 9.73377 2.85194 14.1349 4.03121C15.5866 4.4202 16.8437 5.17312 17.8342 6.1655L21.0154 9.34663M21.0154 4.3558V9.34663"
			stroke={color}
			stroke-width={strokeWidth}
			stroke-linecap="round"
			stroke-linejoin="round"
		/>
	{:else if variation === 'mini'}
		<path
			fill-rule="evenodd"
			clip-rule="evenodd"
			d="M15.3124 11.4236C14.5262 14.3576 11.5104 16.0988 8.5763 15.3127C7.60728 15.053 6.77024 14.5514 6.11052 13.8904L5.79898 13.5789L8.23221 13.5785C8.64642 13.5784 8.98215 13.2425 8.98208 12.8283C8.982 12.4141 8.64616 12.0784 8.23194 12.0785L3.98851 12.0792C3.78959 12.0792 3.59884 12.1583 3.45821 12.299C3.31758 12.4397 3.2386 12.6305 3.23864 12.8294L3.23954 17.0712C3.23962 17.4854 3.57548 17.8211 3.98969 17.821C4.40391 17.821 4.73962 17.4851 4.73954 17.0709L4.73903 14.6403L5.04888 14.9501C5.88991 15.7926 6.95759 16.4318 8.18808 16.7615C11.9223 17.7621 15.7607 15.5461 16.7613 11.8118C16.8685 11.4117 16.6311 11.0005 16.231 10.8932C15.8309 10.786 15.4196 11.0235 15.3124 11.4236ZM16.5413 7.70119C16.682 7.56051 16.761 7.36971 16.7609 7.17078L16.7603 2.92883C16.7602 2.51462 16.4243 2.17889 16.0101 2.17896C15.5959 2.17902 15.2602 2.51487 15.2603 2.92908L15.2606 5.35995L14.9508 5.05013C14.1098 4.20771 13.0419 3.56827 11.8115 3.23859C8.07728 2.238 4.23892 4.45407 3.23833 8.18834C3.13112 8.58844 3.36856 8.99969 3.76866 9.1069C4.16876 9.2141 4.58001 8.97667 4.68722 8.57657C5.4734 5.6425 8.48925 3.9013 11.4233 4.68748C12.3924 4.94714 13.2294 5.44881 13.8892 6.10979L14.2003 6.4209L11.7683 6.4209C11.3541 6.4209 11.0183 6.75669 11.0183 7.1709C11.0183 7.58512 11.3541 7.9209 11.7683 7.9209H16.0109C16.2099 7.9209 16.4007 7.84187 16.5413 7.70119Z"
			fill={color}
		/>
	{:else if variation === 'micro'}
		<path
			fill-rule="evenodd"
			clip-rule="evenodd"
			d="M13.8356 2.47703C14.2498 2.47703 14.5856 2.81282 14.5856 3.22703V6.40901C14.5856 6.82322 14.2498 7.15901 13.8356 7.15901H10.6536C10.2394 7.15901 9.90362 6.82322 9.90362 6.40901C9.90362 5.9948 10.2394 5.65901 10.6536 5.65901H12.0249L11.1839 4.81802C9.42659 3.06066 6.57734 3.06066 4.81999 4.81802C4.53421 5.10379 4.29556 5.41752 4.10337 5.74996C3.89606 6.10855 3.43729 6.23119 3.07869 6.02388C2.7201 5.81656 2.59746 5.3578 2.80477 4.9992C3.06184 4.55455 3.38024 4.13644 3.75933 3.75736C6.10247 1.41421 9.90146 1.41421 12.2446 3.75736L13.0856 4.59835V3.22703C13.0856 2.81282 13.4214 2.47703 13.8356 2.47703ZM12.925 9.97662C13.2836 10.184 13.4062 10.6427 13.1989 11.0013C12.9418 11.4458 12.6235 11.8637 12.2446 12.2426C9.90146 14.5858 6.10247 14.5858 3.75933 12.2426L2.91833 11.4017V12.773C2.91833 13.1872 2.58255 13.523 2.16834 13.523C1.75412 13.523 1.41834 13.1872 1.41834 12.773L1.41833 9.59099C1.41833 9.17678 1.75412 8.84099 2.16833 8.84099H5.35031C5.76453 8.84099 6.10032 9.17678 6.10032 9.59099C6.10032 10.0052 5.76453 10.341 5.35032 10.341H3.97899L4.81999 11.182C6.57734 12.9393 9.42659 12.9393 11.1839 11.182C11.4696 10.8963 11.7082 10.5827 11.9003 10.2504C12.1077 9.89186 12.5665 9.76927 12.925 9.97662Z"
			fill={color}
		/>
	{:else}
		<path
			fill-rule="evenodd"
			clip-rule="evenodd"
			d="M4.75517 10.0589C5.82723 6.0579 9.93976 3.68353 13.9408 4.75559C15.2617 5.10955 16.4035 5.79374 17.3034 6.69528L19.2065 8.59835H16.0228C15.6085 8.59835 15.2728 8.93414 15.2728 9.34835C15.2728 9.76256 15.6085 10.0984 16.0228 10.0984H21.0154C21.2143 10.0984 21.4051 10.0193 21.5457 9.87864C21.6864 9.73797 21.7654 9.54717 21.7654 9.34824V4.35575C21.7654 3.94153 21.4296 3.60575 21.0154 3.60575C20.6011 3.60575 20.2654 3.94153 20.2654 4.35575V7.53591L18.3651 5.63561C17.2839 4.55253 15.9114 3.73071 14.329 3.3067C9.52779 2.02023 4.59276 4.86947 3.30628 9.67067C3.19908 10.0708 3.43651 10.482 3.83661 10.5892C4.23671 10.6964 4.64796 10.459 4.75517 10.0589ZM20.1626 13.4108C19.7625 13.3036 19.3513 13.5411 19.2441 13.9412C18.172 17.9422 14.0595 20.3165 10.0585 19.2445C8.73749 18.8905 7.5957 18.2063 6.69585 17.3048L4.79396 15.4017H7.97677C8.39099 15.4017 8.72677 15.0659 8.72677 14.6517C8.72677 14.2375 8.39099 13.9017 7.97677 13.9017L2.98413 13.9017C2.56992 13.9017 2.23413 14.2375 2.23413 14.6517V19.6443C2.23413 20.0585 2.56992 20.3943 2.98413 20.3943C3.39834 20.3943 3.73413 20.0585 3.73413 19.6443V16.4632L5.6342 18.3645C6.71539 19.4477 8.08772 20.2693 9.67024 20.6934C14.4714 21.9798 19.4065 19.1306 20.6929 14.3294C20.8001 13.9293 20.5627 13.5181 20.1626 13.4108Z"
			fill={color}
		/>
	{/if}
</svg>

<!--
@component
[Go to docs](https://svelte-heros-v2.codewithshin.com/)
## Props
@prop size = ctx.size
@prop role = ctx.role || 'img'
@prop color = ctx.color || 'currentColor'
@prop variation = ctx.variation || 'outline'
@prop strokeWidth = ctx.strokeWidth || '1.5'
@prop title
@prop desc
@prop ariaLabel = 'arrow path'
@prop ...restProps
-->
