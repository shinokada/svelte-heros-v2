<script lang="ts">
  import { getContext } from 'svelte';
  import type { CtxType, Props } from './types';

  const ctx: CtxType = getContext('iconCtx') ?? {};

  let {
    size = ctx.size || '24',
    role = ctx.role || 'img',
    color = ctx.color || 'currentColor',
    variation = ctx.variation || 'outline',
    strokeWidth = ctx.strokeWidth || '1.5',
    title,
    desc,
    ariaLabel = 'document currency dollar',
    ...restProps
  }: Props = $props();

  let ariaDescribedby = `${title?.id || ''} ${desc?.id || ''}`;
  const hasDescription = $derived(!!(title?.id || desc?.id));
  let viewBox: string = $state('');

  $effect(() => {
    if (variation === 'mini') {
      size = size || '20';
      viewBox = '0 0 20 20';
    } else if (variation === 'micro') {
      size = size || '16';
      viewBox = '0 0 16 16';
    } else {
      size = size || '24';
      viewBox = '0 0 24 24';
    }
  });
</script>

<svg
  xmlns="http://www.w3.org/2000/svg"
  {...restProps}
  {role}
  width={size}
  height={size}
  fill="none"
  aria-label={ariaLabel}
  aria-describedby={hasDescription ? ariaDescribedby : undefined}
  {viewBox}
  stroke-width={strokeWidth}
>
  {#if title?.id && title.title}
    <title id={title.id}>{title.title}</title>
  {/if}
  {#if desc?.id && desc.desc}
    <desc id={desc.id}>{desc.desc}</desc>
  {/if}
  {#if variation === 'outline'}
    <path
      d="M19.5 14.25V11.625C19.5 9.76104 17.989 8.25 16.125 8.25H14.625C14.0037 8.25 13.5 7.74632 13.5 7.125V5.625C13.5 3.76104 11.989 2.25 10.125 2.25H8.25M12 11.25V18.75M14.25 12.2835C13.5309 12.0984 12.7769 12 12 12C11.5893 12 11.1851 12.0275 10.789 12.0808C10.2532 12.1528 9.81539 12.5594 9.76771 13.098C9.75599 13.2304 9.75 13.3645 9.75 13.5C9.75 13.9642 10.0858 14.3438 10.5249 14.4943L13.4751 15.5057C13.9142 15.6562 14.25 16.0358 14.25 16.5C14.25 16.6355 14.244 16.7696 14.2323 16.902C14.1846 17.4406 13.7468 17.8472 13.211 17.9192C12.8149 17.9725 12.4107 18 12 18C11.2231 18 10.4691 17.9016 9.75 17.7165M10.5 2.25H5.625C5.00368 2.25 4.5 2.75368 4.5 3.375V20.625C4.5 21.2463 5.00368 21.75 5.625 21.75H18.375C18.9963 21.75 19.5 21.2463 19.5 20.625V11.25C19.5 6.27944 15.4706 2.25 10.5 2.25Z"
      stroke={color}
      stroke-width={strokeWidth}
      stroke-linecap="round"
      stroke-linejoin="round"
    />
  {:else if variation === 'mini'}
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M4.5 2C3.67157 2 3 2.67157 3 3.5V16.5C3 17.3284 3.67157 18 4.5 18H15.5C16.3284 18 17 17.3284 17 16.5V7.62132C17 7.2235 16.842 6.84197 16.5607 6.56066L12.4393 2.43934C12.158 2.15804 11.7765 2 11.3787 2H4.5ZM10.7502 5.75C10.7502 5.33579 10.4144 5 10.0002 5C9.58598 5 9.25019 5.33579 9.25019 5.75V6.02172C8.83174 6.04601 8.41852 6.09051 8.01153 6.15428C7.05037 6.30489 6.20466 7.0357 6.06223 8.08165C6.02129 8.38229 6.00019 8.68888 6.00019 9C6.00019 10.0438 6.83024 10.7588 7.70849 10.8975L9.25019 11.1409V13.4754C8.45874 13.4234 7.69026 13.2896 6.95288 13.0826C6.55408 12.9707 6.14004 13.2032 6.0281 13.602C5.91616 14.0008 6.1487 14.4148 6.5475 14.5268C7.41506 14.7703 8.31957 14.9243 9.25019 14.9783V15.25C9.25019 15.6642 9.58598 16 10.0002 16C10.4144 16 10.7502 15.6642 10.7502 15.25V14.9783C11.1686 14.954 11.5819 14.9095 11.9889 14.8457C12.95 14.6951 13.7957 13.9643 13.9382 12.9183C13.9791 12.6177 14.0002 12.3111 14.0002 12C14.0002 10.9562 13.1701 10.2412 12.2919 10.1025L10.7502 9.85912V7.52458C11.5416 7.57662 12.3101 7.71041 13.0475 7.9174C13.4463 8.02934 13.8603 7.79679 13.9723 7.39799C14.0842 6.99919 13.8517 6.58515 13.4529 6.47321C12.5853 6.22969 11.6808 6.07575 10.7502 6.02172V5.75ZM8.24374 7.6362C8.57452 7.58437 8.91022 7.54693 9.25019 7.52458V9.6223L7.94241 9.41584C7.63523 9.36734 7.50019 9.15634 7.50019 9C7.50019 8.75677 7.51668 8.51779 7.54851 8.28405C7.5906 7.97496 7.85383 7.6973 8.24374 7.6362ZM10.7502 13.4754V11.3777L12.058 11.5842C12.3652 11.6327 12.5002 11.8437 12.5002 12C12.5002 12.2432 12.4837 12.4822 12.4519 12.716C12.4098 13.025 12.1465 13.3027 11.7566 13.3638C11.4259 13.4156 11.0902 13.4531 10.7502 13.4754Z"
      fill={color}
    />
  {:else if variation === 'micro'}
    <path
      d="M6.62118 6.58357C6.82903 6.55819 7.03869 6.53847 7.25 6.52458V7.55751L6.65242 7.41951C6.59937 7.40725 6.55977 7.38108 6.5364 7.35545C6.5151 7.33208 6.50909 7.31235 6.50814 7.29518C6.50274 7.19755 6.5 7.09913 6.5 7C6.5 6.89204 6.50325 6.78493 6.50964 6.67876C6.51082 6.65916 6.51806 6.64123 6.53517 6.62377C6.55356 6.60499 6.58281 6.58826 6.62118 6.58357Z"
      fill={color}
    />
    <path
      d="M8.75 10.4752V9.44339L9.34367 9.58049C9.39672 9.59274 9.43633 9.61892 9.45969 9.64455C9.481 9.66792 9.48701 9.68765 9.48796 9.70482C9.49335 9.80245 9.49609 9.90087 9.49609 10C9.49609 10.108 9.49285 10.2151 9.48645 10.3212C9.48527 10.3408 9.47803 10.3588 9.46093 10.3762C9.44253 10.395 9.41328 10.4117 9.37491 10.4164C9.16835 10.4417 8.95999 10.4613 8.75 10.4752Z"
      fill={color}
    />
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M2.5 3.5C2.5 2.67157 3.17157 2 4 2H8.87868C9.2765 2 9.65804 2.15804 9.93934 2.43934L13.0607 5.56066C13.342 5.84197 13.5 6.2235 13.5 6.62132V12.5C13.5 13.3284 12.8284 14 12 14H4C3.17157 14 2.5 13.3284 2.5 12.5V3.5ZM8.75 4.75C8.75 4.33579 8.41421 4 8 4C7.58579 4 7.25 4.33579 7.25 4.75V5.02172C6.97748 5.03754 6.70717 5.06193 6.43935 5.09464C5.69181 5.18593 5.06083 5.78373 5.01236 6.58858C5.00415 6.72476 5 6.86194 5 7C5 7.12677 5.0035 7.25281 5.01043 7.378C5.05384 8.1631 5.6453 8.7264 6.3149 8.88104L7.25 9.09699V10.4757C6.78821 10.4455 6.33428 10.3874 5.88983 10.3033C5.48284 10.2262 5.09046 10.4937 5.0134 10.9007C4.93635 11.3077 5.20382 11.7001 5.6108 11.7771C6.14638 11.8785 6.69356 11.9464 7.25 11.9785V12.25C7.25 12.6642 7.58579 13 8 13C8.41421 13 8.75 12.6642 8.75 12.25V11.9781C9.0212 11.9622 9.2902 11.9379 9.55674 11.9054C10.3043 11.8141 10.9353 11.2163 10.9837 10.4114C10.9919 10.2752 10.9961 10.1381 10.9961 10C10.9961 9.87323 10.9926 9.74719 10.9857 9.622C10.9423 8.8369 10.3508 8.2736 9.68119 8.11896L8.75 7.90391V6.52458C9.21045 6.55485 9.66307 6.6128 10.1063 6.6967C10.5133 6.77375 10.9056 6.50629 10.9827 6.09931C11.0597 5.69232 10.7923 5.29993 10.3853 5.22288C9.85097 5.12173 9.3051 5.05394 8.75 5.02172V4.75Z"
      fill={color}
    />
  {:else}
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M3.75 3.375C3.75 2.33947 4.58947 1.5 5.625 1.5H9C11.0711 1.5 12.75 3.17893 12.75 5.25V7.125C12.75 8.16053 13.5895 9 14.625 9H16.5C18.5711 9 20.25 10.6789 20.25 12.75V20.625C20.25 21.6605 19.4105 22.5 18.375 22.5H5.625C4.58947 22.5 3.75 21.6605 3.75 20.625V3.375ZM14.25 5.25C14.25 3.93695 13.768 2.73648 12.9712 1.8159C16.3701 2.70377 19.0462 5.37988 19.9341 8.77881C19.0135 7.98204 17.8131 7.5 16.5 7.5H14.625C14.4179 7.5 14.25 7.33211 14.25 7.125V5.25ZM12 10.5C12.4142 10.5 12.75 10.8358 12.75 11.25V11.2784C13.3275 11.3224 13.8914 11.4167 14.4371 11.5572C14.8383 11.6605 15.0798 12.0693 14.9765 12.4705C14.8733 12.8716 14.4644 13.1131 14.0632 13.0099C13.6381 12.9004 13.1995 12.824 12.75 12.7836V14.4642L13.7185 14.7962C14.3886 15.0259 15.0002 15.6451 15.0002 16.5C15.0002 16.6576 14.9932 16.8137 14.9795 16.9681C14.8971 17.8995 14.1491 18.5498 13.3111 18.6625C13.1256 18.6875 12.9385 18.7072 12.75 18.7216V18.75C12.75 19.1642 12.4142 19.5 12 19.5C11.5858 19.5 11.25 19.1642 11.25 18.75V18.7215C10.6726 18.6776 10.1089 18.5832 9.56324 18.4428C9.1621 18.3395 8.92061 17.9307 9.02385 17.5295C9.1271 17.1284 9.53599 16.8869 9.93713 16.9901C10.3621 17.0995 10.8007 17.1759 11.25 17.2164V15.5357L10.2819 15.2038C9.61175 14.9741 9.00018 14.3549 9.00018 13.5C9.00018 13.3424 9.00715 13.1863 9.02081 13.0319C9.10326 12.1005 9.85121 11.4502 10.6893 11.3375C10.8746 11.3125 11.0616 11.2928 11.25 11.2785V11.25C11.25 10.8358 11.5858 10.5 12 10.5ZM10.8892 12.8241C11.0086 12.808 11.1289 12.7945 11.25 12.7836V13.95L10.7683 13.7849C10.5602 13.7135 10.5002 13.5736 10.5002 13.5C10.5002 13.3866 10.5052 13.2746 10.515 13.1641C10.5279 13.0184 10.6555 12.8555 10.8892 12.8241ZM12.75 17.2164V16.0499L13.232 16.2151C13.4402 16.2865 13.5002 16.4264 13.5002 16.5C13.5002 16.6134 13.4952 16.7254 13.4854 16.8359C13.4725 16.9816 13.3448 17.1445 13.1112 17.1759C12.9916 17.192 12.8712 17.2055 12.75 17.2164Z"
      fill={color}
    />
  {/if}
</svg>

<!--
@component
[Go to docs](https://svelte-heros-v2.codewithshin.com/)
## Props
@prop size = ctx.size || '24'
@prop role = ctx.role || 'img'
@prop color = ctx.color || 'currentColor'
@prop variation = ctx.variation || 'outline'
@prop strokeWidth = ctx.strokeWidth || '1.5'
@prop title
@prop desc
@prop ariaLabel = 'document currency dollar'
@prop ...restProps
-->
