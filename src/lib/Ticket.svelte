<script lang="ts">
  import { getContext } from 'svelte';

  type TitleType = {
    id?: string;
    title?: string;
  };

  type DescType = {
    id?: string;
    desc?: string;
  };

  interface CtxType {
    size?: string;
    role?: string;
    color?: string;
    variation?: 'solid' | 'outline' | 'mini' | 'micro';
    strokeWidth?: string;
    withEvents?: boolean;
  }

  const ctx: CtxType = getContext('iconCtx') ?? {};

  export let size: string = ctx.size || '24';
  export let role: string = ctx.role || 'img';
  export let color: string = ctx.color || 'currentColor';
  export let variation: 'solid' | 'outline' | 'mini' | 'micro' = ctx.variation || 'outline';
  export let strokeWidth: string = ctx.strokeWidth || '1.5';
  export let withEvents: boolean = ctx.withEvents || false;
  export let title: TitleType = {};
  export let desc: DescType = {};
  export let ariaLabel: string = 'academic cap';

  let ariaDescribedby = `${title?.id || ''} ${desc?.id || ''}`;
  let hasDescription = false;
  let viewBox: string = '';

  function updateHasDescription() {
    hasDescription = !!(title?.id || desc?.id);
  }
  updateHasDescription();

  $: {
    updateHasDescription();

    if (variation === 'mini') {
      size = size || '20';
      viewBox = '0 0 20 20';
    } else if (variation === 'micro') {
      size = size || '16';
      viewBox = '0 0 16 16';
    } else {
      size = size || '24';
      viewBox = '0 0 24 24';
    }
  }
</script>

{#if withEvents}
  <svg
    xmlns="http://www.w3.org/2000/svg"
    {...$$restProps}
    {role}
    width={size}
    height={size}
    fill="none"
    aria-label={ariaLabel}
    aria-describedby={hasDescription ? ariaDescribedby : undefined}
    {viewBox}
    stroke-width={strokeWidth}
    on:click
    on:keydown
    on:keyup
    on:focus
    on:blur
    on:mouseenter
    on:mouseleave
    on:mouseover
    on:mouseout
  >
    {#if title?.id && title.title}
      <title id={title.id}>{title.title}</title>
    {/if}
    {#if desc?.id && desc.desc}
      <desc id={desc.id}>{desc.desc}</desc>
    {/if}
    {#if variation === 'outline'}
      <path
        d="M16.5 6V6.75M16.5 9.75V10.5M16.5 13.5V14.25M16.5 17.25V18M7.5 12.75H12.75M7.5 15H10.5M3.375 5.25C2.75368 5.25 2.25 5.75368 2.25 6.375V9.40135C3.1467 9.92006 3.75 10.8896 3.75 12C3.75 13.1104 3.1467 14.0799 2.25 14.5987V17.625C2.25 18.2463 2.75368 18.75 3.375 18.75H20.625C21.2463 18.75 21.75 18.2463 21.75 17.625V14.5987C20.8533 14.0799 20.25 13.1104 20.25 12C20.25 10.8896 20.8533 9.92006 21.75 9.40135V6.375C21.75 5.75368 21.2463 5.25 20.625 5.25H3.375Z"
        stroke={color}
        stroke-width={strokeWidth}
        stroke-linecap="round"
        stroke-linejoin="round"
      />
    {:else if variation === 'mini'}
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M15.75 3C16.9926 3 18 4.00736 18 5.25V6.46353C18 6.88735 17.7226 7.25186 17.3672 7.48284C16.5442 8.01776 16 8.94532 16 10C16 11.0547 16.5442 11.9822 17.3672 12.5172C17.7226 12.7481 18 13.1127 18 13.5365V14.75C18 15.9926 16.9926 17 15.75 17H4.25C3.00736 17 2 15.9926 2 14.75V13.5365C2 13.1127 2.27744 12.7481 2.63279 12.5172C3.45575 11.9822 4 11.0547 4 10C4 8.94532 3.45575 8.01776 2.63279 7.48284C2.27744 7.25186 2 6.88735 2 6.46353V5.25C2 4.00736 3.00736 3 4.25 3H15.75ZM13.5 7.39583C13.5 6.98162 13.1642 6.64583 12.75 6.64583C12.3358 6.64583 12 6.98162 12 7.39583V8.4375C12 8.85171 12.3358 9.1875 12.75 9.1875C13.1642 9.1875 13.5 8.85171 13.5 8.4375V7.39583ZM13.5 11.5625C13.5 11.1483 13.1642 10.8125 12.75 10.8125C12.3358 10.8125 12 11.1483 12 11.5625V12.6042C12 13.0184 12.3358 13.3542 12.75 13.3542C13.1642 13.3542 13.5 13.0184 13.5 12.6042V11.5625Z"
        fill={color}
      />
    {:else if variation === 'micro'}
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M1 4.5C1 3.67157 1.67157 3 2.5 3H13.5C14.3284 3 15 3.67157 15 4.5V5.5C15 5.77614 14.7727 5.99359 14.5051 6.06171C13.6399 6.28197 13 7.06626 13 8C13 8.93374 13.6399 9.71803 14.5051 9.93829C14.7727 10.0064 15 10.2239 15 10.5V11.5C15 12.3284 14.3284 13 13.5 13H2.5C1.67157 13 1 12.3284 1 11.5V10.5C1 10.2239 1.22733 10.0064 1.49494 9.93829C2.36012 9.71803 3 8.93374 3 8C3 7.06626 2.36012 6.28197 1.49494 6.06171C1.22733 5.99359 1 5.77614 1 5.5V4.5ZM10 5.75C10 5.33579 10.3358 5 10.75 5C11.1642 5 11.5 5.33579 11.5 5.75V6.75C11.5 7.16421 11.1642 7.5 10.75 7.5C10.3358 7.5 10 7.16421 10 6.75V5.75ZM10.75 8.5C10.3358 8.5 10 8.83579 10 9.25V10.25C10 10.6642 10.3358 11 10.75 11C11.1642 11 11.5 10.6642 11.5 10.25V9.25C11.5 8.83579 11.1642 8.5 10.75 8.5Z"
        fill={color}
      />
    {:else}
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M1.5 6.375C1.5 5.33947 2.33947 4.5 3.375 4.5H20.625C21.6605 4.5 22.5 5.33947 22.5 6.375V9.40135C22.5 9.66907 22.3573 9.91649 22.1255 10.0506C21.4511 10.4407 21 11.1681 21 12C21 12.8319 21.4511 13.5593 22.1255 13.9494C22.3573 14.0835 22.5 14.3309 22.5 14.5987V17.625C22.5 18.6605 21.6605 19.5 20.625 19.5H3.375C2.33947 19.5 1.5 18.6605 1.5 17.625V14.5987C1.5 14.3309 1.64271 14.0835 1.87446 13.9494C2.54894 13.5593 3 12.8319 3 12C3 11.1681 2.54894 10.4407 1.87446 10.0506C1.64271 9.91649 1.5 9.66907 1.5 9.40135V6.375ZM16.5 5.25C16.9142 5.25 17.25 5.58579 17.25 6V6.75C17.25 7.16421 16.9142 7.5 16.5 7.5C16.0858 7.5 15.75 7.16421 15.75 6.75V6C15.75 5.58579 16.0858 5.25 16.5 5.25ZM17.25 9.75C17.25 9.33579 16.9142 9 16.5 9C16.0858 9 15.75 9.33579 15.75 9.75V10.5C15.75 10.9142 16.0858 11.25 16.5 11.25C16.9142 11.25 17.25 10.9142 17.25 10.5V9.75ZM16.5 12.75C16.9142 12.75 17.25 13.0858 17.25 13.5V14.25C17.25 14.6642 16.9142 15 16.5 15C16.0858 15 15.75 14.6642 15.75 14.25V13.5C15.75 13.0858 16.0858 12.75 16.5 12.75ZM17.25 17.25C17.25 16.8358 16.9142 16.5 16.5 16.5C16.0858 16.5 15.75 16.8358 15.75 17.25V18C15.75 18.4142 16.0858 18.75 16.5 18.75C16.9142 18.75 17.25 18.4142 17.25 18V17.25ZM6 12C6 11.5858 6.33579 11.25 6.75 11.25H12C12.4142 11.25 12.75 11.5858 12.75 12C12.75 12.4142 12.4142 12.75 12 12.75H6.75C6.33579 12.75 6 12.4142 6 12ZM6.75 14.25C6.33579 14.25 6 14.5858 6 15C6 15.4142 6.33579 15.75 6.75 15.75H9.75C10.1642 15.75 10.5 15.4142 10.5 15C10.5 14.5858 10.1642 14.25 9.75 14.25H6.75Z"
        fill={color}
      />
    {/if}
  </svg>
{:else}
  <svg
    xmlns="http://www.w3.org/2000/svg"
    {...$$restProps}
    {role}
    width={size}
    height={size}
    fill="none"
    aria-label={ariaLabel}
    aria-describedby={hasDescription ? ariaDescribedby : undefined}
    {viewBox}
    stroke-width={strokeWidth}
  >
    {#if title?.id && title.title}
      <title id={title.id}>{title.title}</title>
    {/if}
    {#if desc?.id && desc.desc}
      <desc id={desc.id}>{desc.desc}</desc>
    {/if}
    {#if variation === 'outline'}
      <path
        d="M16.5 6V6.75M16.5 9.75V10.5M16.5 13.5V14.25M16.5 17.25V18M7.5 12.75H12.75M7.5 15H10.5M3.375 5.25C2.75368 5.25 2.25 5.75368 2.25 6.375V9.40135C3.1467 9.92006 3.75 10.8896 3.75 12C3.75 13.1104 3.1467 14.0799 2.25 14.5987V17.625C2.25 18.2463 2.75368 18.75 3.375 18.75H20.625C21.2463 18.75 21.75 18.2463 21.75 17.625V14.5987C20.8533 14.0799 20.25 13.1104 20.25 12C20.25 10.8896 20.8533 9.92006 21.75 9.40135V6.375C21.75 5.75368 21.2463 5.25 20.625 5.25H3.375Z"
        stroke={color}
        stroke-width={strokeWidth}
        stroke-linecap="round"
        stroke-linejoin="round"
      />
    {:else if variation === 'mini'}
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M15.75 3C16.9926 3 18 4.00736 18 5.25V6.46353C18 6.88735 17.7226 7.25186 17.3672 7.48284C16.5442 8.01776 16 8.94532 16 10C16 11.0547 16.5442 11.9822 17.3672 12.5172C17.7226 12.7481 18 13.1127 18 13.5365V14.75C18 15.9926 16.9926 17 15.75 17H4.25C3.00736 17 2 15.9926 2 14.75V13.5365C2 13.1127 2.27744 12.7481 2.63279 12.5172C3.45575 11.9822 4 11.0547 4 10C4 8.94532 3.45575 8.01776 2.63279 7.48284C2.27744 7.25186 2 6.88735 2 6.46353V5.25C2 4.00736 3.00736 3 4.25 3H15.75ZM13.5 7.39583C13.5 6.98162 13.1642 6.64583 12.75 6.64583C12.3358 6.64583 12 6.98162 12 7.39583V8.4375C12 8.85171 12.3358 9.1875 12.75 9.1875C13.1642 9.1875 13.5 8.85171 13.5 8.4375V7.39583ZM13.5 11.5625C13.5 11.1483 13.1642 10.8125 12.75 10.8125C12.3358 10.8125 12 11.1483 12 11.5625V12.6042C12 13.0184 12.3358 13.3542 12.75 13.3542C13.1642 13.3542 13.5 13.0184 13.5 12.6042V11.5625Z"
        fill={color}
      />
    {:else if variation === 'micro'}
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M1 4.5C1 3.67157 1.67157 3 2.5 3H13.5C14.3284 3 15 3.67157 15 4.5V5.5C15 5.77614 14.7727 5.99359 14.5051 6.06171C13.6399 6.28197 13 7.06626 13 8C13 8.93374 13.6399 9.71803 14.5051 9.93829C14.7727 10.0064 15 10.2239 15 10.5V11.5C15 12.3284 14.3284 13 13.5 13H2.5C1.67157 13 1 12.3284 1 11.5V10.5C1 10.2239 1.22733 10.0064 1.49494 9.93829C2.36012 9.71803 3 8.93374 3 8C3 7.06626 2.36012 6.28197 1.49494 6.06171C1.22733 5.99359 1 5.77614 1 5.5V4.5ZM10 5.75C10 5.33579 10.3358 5 10.75 5C11.1642 5 11.5 5.33579 11.5 5.75V6.75C11.5 7.16421 11.1642 7.5 10.75 7.5C10.3358 7.5 10 7.16421 10 6.75V5.75ZM10.75 8.5C10.3358 8.5 10 8.83579 10 9.25V10.25C10 10.6642 10.3358 11 10.75 11C11.1642 11 11.5 10.6642 11.5 10.25V9.25C11.5 8.83579 11.1642 8.5 10.75 8.5Z"
        fill={color}
      />
    {:else}
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M1.5 6.375C1.5 5.33947 2.33947 4.5 3.375 4.5H20.625C21.6605 4.5 22.5 5.33947 22.5 6.375V9.40135C22.5 9.66907 22.3573 9.91649 22.1255 10.0506C21.4511 10.4407 21 11.1681 21 12C21 12.8319 21.4511 13.5593 22.1255 13.9494C22.3573 14.0835 22.5 14.3309 22.5 14.5987V17.625C22.5 18.6605 21.6605 19.5 20.625 19.5H3.375C2.33947 19.5 1.5 18.6605 1.5 17.625V14.5987C1.5 14.3309 1.64271 14.0835 1.87446 13.9494C2.54894 13.5593 3 12.8319 3 12C3 11.1681 2.54894 10.4407 1.87446 10.0506C1.64271 9.91649 1.5 9.66907 1.5 9.40135V6.375ZM16.5 5.25C16.9142 5.25 17.25 5.58579 17.25 6V6.75C17.25 7.16421 16.9142 7.5 16.5 7.5C16.0858 7.5 15.75 7.16421 15.75 6.75V6C15.75 5.58579 16.0858 5.25 16.5 5.25ZM17.25 9.75C17.25 9.33579 16.9142 9 16.5 9C16.0858 9 15.75 9.33579 15.75 9.75V10.5C15.75 10.9142 16.0858 11.25 16.5 11.25C16.9142 11.25 17.25 10.9142 17.25 10.5V9.75ZM16.5 12.75C16.9142 12.75 17.25 13.0858 17.25 13.5V14.25C17.25 14.6642 16.9142 15 16.5 15C16.0858 15 15.75 14.6642 15.75 14.25V13.5C15.75 13.0858 16.0858 12.75 16.5 12.75ZM17.25 17.25C17.25 16.8358 16.9142 16.5 16.5 16.5C16.0858 16.5 15.75 16.8358 15.75 17.25V18C15.75 18.4142 16.0858 18.75 16.5 18.75C16.9142 18.75 17.25 18.4142 17.25 18V17.25ZM6 12C6 11.5858 6.33579 11.25 6.75 11.25H12C12.4142 11.25 12.75 11.5858 12.75 12C12.75 12.4142 12.4142 12.75 12 12.75H6.75C6.33579 12.75 6 12.4142 6 12ZM6.75 14.25C6.33579 14.25 6 14.5858 6 15C6 15.4142 6.33579 15.75 6.75 15.75H9.75C10.1642 15.75 10.5 15.4142 10.5 15C10.5 14.5858 10.1642 14.25 9.75 14.25H6.75Z"
        fill={color}
      />
    {/if}
  </svg>
{/if}

<!--
@component
[Go to docs](https://svelte-heros-v2.codewithshin.com)
## Props
@prop export let size: string = ctx.size || '24';
@prop export let role: string = ctx.role || 'img';
@prop export let color: string = ctx.color || 'currentColor';
@prop export let variation: 'solid' | 'outline' | 'mini' | 'micro' = ctx.variation || 'outline';
@prop export let strokeWidth: string = ctx.strokeWidth || '1.5';
@prop export let withEvents: boolean = ctx.withEvents || false;
@prop export let title: TitleType = {};
@prop export let desc: DescType = {};
@prop export let ariaLabel: string = 'academic cap';
-->
