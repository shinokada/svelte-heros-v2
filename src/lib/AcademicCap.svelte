<script lang="ts">
  import { getContext } from 'svelte';
  import type { BaseProps, Props } from './types';

  const ctx: BaseProps = getContext('iconCtx') ?? {};

  let {
    size = ctx.size,
    role = ctx.role || 'img',
    color = ctx.color || 'currentColor',
    variation = ctx.variation || 'outline',
    strokeWidth = ctx.strokeWidth || '1.5',
    title,
    desc,
    ariaLabel = 'academic cap',
    ...restProps
  }: Props = $props();

  let ariaDescribedby = `${title?.id || ''} ${desc?.id || ''}`;
  const hasDescription = $derived(!!(title?.id || desc?.id));

  let viewBox = $derived.by(() => {
    if (variation === 'mini') return '0 0 20 20';
    if (variation === 'micro') return '0 0 16 16';
    return '0 0 24 24';
  });
  let variationSize = $derived.by(() => {
    if (variation === 'mini') return '20';
    if (variation === 'micro') return '16';
    return '24';
  });
</script>

<svg
  xmlns="http://www.w3.org/2000/svg"
  {...restProps}
  {role}
  width={size || variationSize}
  height={size || variationSize}
  fill="none"
  aria-label={ariaLabel}
  aria-describedby={hasDescription ? ariaDescribedby : undefined}
  {viewBox}
  stroke-width={strokeWidth}
>
  {#if title?.id && title.title}
    <title id={title.id}>{title.title}</title>
  {/if}
  {#if desc?.id && desc.desc}
    <desc id={desc.id}>{desc.desc}</desc>
  {/if}
  {#if variation === 'outline'}
    <path
      d="M4.25933 10.1466C3.98688 12.2307 3.82139 14.3483 3.76853 16.494C6.66451 17.703 9.41893 19.1835 12 20.9036C14.5811 19.1835 17.3355 17.703 20.2315 16.494C20.1786 14.3484 20.0131 12.2307 19.7407 10.1467M4.25933 10.1466C3.38362 9.8523 2.49729 9.58107 1.60107 9.3337C4.84646 7.05887 8.32741 5.0972 12 3.49255C15.6727 5.0972 19.1536 7.05888 22.399 9.33371C21.5028 9.58109 20.6164 9.85233 19.7407 10.1467M4.25933 10.1466C6.94656 11.0499 9.5338 12.1709 12.0001 13.4886C14.4663 12.1709 17.0535 11.0499 19.7407 10.1467M6.75 15C7.16421 15 7.5 14.6642 7.5 14.25C7.5 13.8358 7.16421 13.5 6.75 13.5C6.33579 13.5 6 13.8358 6 14.25C6 14.6642 6.33579 15 6.75 15ZM6.75 15V11.3245C8.44147 10.2735 10.1936 9.31094 12 8.44329M4.99264 19.9926C6.16421 18.8211 6.75 17.2855 6.75 15.75V14.25"
      stroke={color}
      stroke-width={strokeWidth}
      stroke-linecap="round"
      stroke-linejoin="round"
    />
  {:else if variation === 'mini'}
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M9.66413 1.31866C9.87552 1.21279 10.1244 1.21279 10.3358 1.31866C13.2902 2.7983 16.0408 4.6242 18.5343 6.74302C18.7415 6.91909 18.8372 7.1935 18.7844 7.46023C18.7316 7.72695 18.5385 7.9442 18.2799 8.02802C15.4656 8.94004 12.8246 10.2376 10.4191 11.8586C10.1658 12.0293 9.8342 12.0293 9.58086 11.8586C8.90534 11.4034 8.21125 10.9737 7.49997 10.5709V9.39384C7.49997 9.1503 7.61572 8.93111 7.80165 8.80225C8.86302 8.0666 9.96638 7.38737 11.1074 6.76888C11.4715 6.57149 11.6067 6.11626 11.4093 5.75211C11.2119 5.38795 10.7567 5.25276 10.3926 5.45016C9.20323 6.09484 8.05326 6.80277 6.94716 7.56942C6.3428 7.98831 5.99997 8.67582 5.99997 9.39384V9.7741C4.62709 9.09181 3.19747 8.5068 1.7201 8.02802C1.46144 7.9442 1.26841 7.72695 1.2156 7.46023C1.16278 7.1935 1.25847 6.91909 1.46567 6.74302C3.95918 4.6242 6.70972 2.7983 9.66413 1.31866ZM5.99997 11.4596C5.20208 11.0378 4.38297 10.651 3.54469 10.3012C3.37611 11.3268 3.24559 12.3652 3.15464 13.415C3.12783 13.7244 3.29452 14.0184 3.57385 14.1542C4.10178 14.4109 4.61994 14.6847 5.12759 14.9748C4.91888 15.2987 4.67271 15.6055 4.38907 15.8891C4.09618 16.182 4.09618 16.6569 4.38907 16.9497C4.68197 17.2426 5.15684 17.2426 5.44973 16.9497C5.81938 16.5801 6.13906 16.1793 6.40876 15.7558C7.49842 16.4631 8.53293 17.2484 9.50439 18.1037C9.78772 18.3532 10.2123 18.3532 10.4956 18.1037C12.2768 16.5355 14.2699 15.2028 16.4262 14.1542C16.7055 14.0184 16.8722 13.7244 16.8454 13.415C16.7544 12.3652 16.6239 11.3268 16.4553 10.3011C14.6241 11.0653 12.8844 12.0061 11.2574 13.1025C10.4974 13.6147 9.50263 13.6147 8.7426 13.1025C8.33322 12.8267 7.91669 12.5606 7.49337 12.3048C7.44116 13.5085 7.07958 14.7023 6.40877 15.7557C5.98972 15.4837 5.56252 15.2232 5.12761 14.9747C5.70924 14.0721 5.99997 13.0367 5.99997 12V11.4596Z"
      fill={color}
    />
  {:else if variation === 'micro'}
    <path
      d="M7.70177 1.36758C7.89214 1.28502 8.10821 1.28502 8.29858 1.36758C10.397 2.27761 12.4042 3.35793 14.3029 4.59105C14.548 4.75028 14.6783 5.03746 14.6367 5.32682C14.5951 5.61618 14.3891 5.85498 14.109 5.93866C12.1038 6.53768 10.1751 7.31422 8.34107 8.25008C8.12694 8.35934 7.87341 8.35934 7.65928 8.25008C7.03364 7.93083 6.39698 7.63012 5.75002 7.34867V6.80657C6.58634 6.33143 7.44297 5.88795 8.31827 5.47777C8.69334 5.302 8.85491 4.85546 8.67914 4.48039C8.50338 4.10531 8.05683 3.94375 7.68176 4.11951C6.63525 4.60993 5.61447 5.14603 4.62198 5.72525C4.39164 5.85967 4.25002 6.10631 4.25002 6.37301V6.73785C3.47668 6.44405 2.69006 6.17727 1.8913 5.93866C1.6112 5.85498 1.40524 5.61618 1.36362 5.32682C1.322 5.03746 1.4523 4.75028 1.69747 4.59105C3.59612 3.35793 5.60336 2.27761 7.70177 1.36758Z"
      fill={color}
    />
    <path
      d="M4.25002 8.34775C3.71965 8.1356 3.18252 7.93682 2.63904 7.75185C2.46449 8.73026 2.32464 9.72067 2.22082 10.7218C2.18598 11.0578 2.38004 11.3756 2.69483 11.4981C2.87032 11.5664 3.04499 11.6363 3.21883 11.7078C3.04706 11.9465 2.85382 12.1744 2.6391 12.3892C2.34621 12.682 2.34621 13.1569 2.6391 13.4498C2.932 13.7427 3.40687 13.7427 3.69976 13.4498C4.04924 13.1003 4.35406 12.723 4.61419 12.325C4.15544 12.1076 3.6902 11.9018 3.21883 11.7078C3.90636 10.7527 4.25001 9.62721 4.25002 8.5001V8.34775Z"
      fill={color}
    />
    <path
      d="M7.60299 13.9591C6.64228 13.3592 5.64461 12.8131 4.61419 12.325C5.27965 11.3067 5.65275 10.1531 5.73335 8.98392C6.15287 9.17619 6.56767 9.37701 6.97754 9.58616C7.61992 9.91395 8.38051 9.91395 9.02289 9.58616C10.4151 8.87576 11.8641 8.26144 13.3614 7.75183C13.536 8.73024 13.6758 9.72066 13.7797 10.7218C13.8145 11.0578 13.6204 11.3756 13.3057 11.4981C11.5856 12.1674 9.94367 12.9936 8.39748 13.9591C8.1544 14.1109 7.84608 14.1109 7.60299 13.9591Z"
      fill={color}
    />
  {:else}
    <path
      d="M11.6998 2.80529C11.8912 2.72164 12.1089 2.72164 12.3003 2.80529C16.0192 4.43011 19.5437 6.41637 22.8295 8.71956C23.0673 8.88623 23.1875 9.1752 23.1381 9.46135C23.0887 9.7475 22.8785 9.97941 22.5986 10.0567C21.9137 10.2457 21.2347 10.4494 20.5618 10.6663C17.8307 11.5471 15.2018 12.6554 12.6972 13.9688L12.6939 13.9705C12.5803 14.0301 12.467 14.09 12.354 14.1504C12.1331 14.2684 11.8679 14.2684 11.6471 14.1504C11.533 14.0895 11.4186 14.0289 11.3039 13.9688C10.0655 13.3193 8.79658 12.7201 7.5 12.1736V11.95C7.5 11.8186 7.56742 11.702 7.67173 11.6389C9.17685 10.727 10.7294 9.88565 12.3247 9.11936C12.6981 8.94002 12.8554 8.49195 12.6761 8.11858C12.4967 7.7452 12.0486 7.58791 11.6753 7.76725C10.036 8.55463 8.44086 9.41909 6.89449 10.3559C6.44111 10.6306 6.13632 11.0801 6.03607 11.5838C5.18115 11.2549 4.31499 10.9486 3.43829 10.6659C2.76546 10.4489 2.08644 10.2457 1.40154 10.0567C1.12162 9.9794 0.911461 9.74749 0.86204 9.46134C0.812619 9.17519 0.932824 8.88622 1.17061 8.71955C4.45645 6.41636 7.98097 4.43011 11.6998 2.80529Z"
      fill={color}
    />
    <path
      d="M13.0609 15.4734C15.4997 14.1703 18.0621 13.0687 20.7258 12.1906C20.8601 13.6054 20.9458 15.0343 20.9813 16.4755C20.9889 16.7847 20.8059 17.0669 20.5205 17.1861C17.6693 18.3764 14.9574 19.834 12.4159 21.5277C12.1641 21.6955 11.836 21.6955 11.5841 21.5277C9.04267 19.834 6.33073 18.3764 3.4796 17.1861C3.19416 17.0669 3.01116 16.7847 3.01878 16.4755C3.05429 15.0342 3.14001 13.6052 3.27427 12.1903C4.19527 12.4938 5.10415 12.8242 6 13.1803V14.4507C5.55165 14.71 5.25 15.1948 5.25 15.75C5.25 16.2453 5.49008 16.6846 5.86022 16.9577C5.7707 17.3383 5.63822 17.7108 5.46277 18.0675C5.91546 18.2811 6.36428 18.5017 6.8091 18.7289C7.06243 18.2137 7.24612 17.6729 7.36014 17.1207C7.88449 16.887 8.25 16.3612 8.25 15.75C8.25 15.1948 7.94835 14.71 7.5 14.4507V13.8059C8.6714 14.3177 9.81885 14.8743 10.9402 15.4734C11.6028 15.8274 12.3983 15.8274 13.0609 15.4734Z"
      fill={color}
    />
    <path
      d="M4.46222 19.4623C4.88136 19.0432 5.21502 18.5711 5.46277 18.0675C5.91546 18.2811 6.36428 18.5017 6.8091 18.7289C6.49055 19.3768 6.06164 19.9842 5.52288 20.523C5.22999 20.8158 4.75512 20.8158 4.46222 20.523C4.16933 20.2301 4.16933 19.7552 4.46222 19.4623Z"
      fill={color}
    />
  {/if}
</svg>

<!--
@component
[Go to docs](https://svelte-heros-v2.codewithshin.com/)
## Props
@prop size = ctx.size
@prop role = ctx.role || 'img'
@prop color = ctx.color || 'currentColor'
@prop variation = ctx.variation || 'outline'
@prop strokeWidth = ctx.strokeWidth || '1.5'
@prop title
@prop desc
@prop ariaLabel = 'academic cap'
@prop ...restProps
-->
