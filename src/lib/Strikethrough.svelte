<script lang="ts">
  import { getContext } from 'svelte';
  import type { CtxType, Props } from './types';

  const ctx: CtxType = getContext('iconCtx') ?? {};

  let {
    size = ctx.size,
    role = ctx.role || 'img',
    color = ctx.color || 'currentColor',
    variation = ctx.variation || 'outline',
    strokeWidth = ctx.strokeWidth || '1.5',
    title,
    desc,
    ariaLabel = 'strikethrough',
    ...restProps
  }: Props = $props();

  let ariaDescribedby = `${title?.id || ''} ${desc?.id || ''}`;
  const hasDescription = $derived(!!(title?.id || desc?.id));
  let viewBox: string | undefined = $state(undefined);

  $effect(() => {
    if (variation === 'mini') {
      size = size || '20';
      viewBox = '0 0 20 20';
    } else if (variation === 'micro') {
      size = size || '16';
      viewBox = '0 0 16 16';
    } else {
      size = size || '24';
      viewBox = '0 0 24 24';
    }
  });
</script>

<svg
  xmlns="http://www.w3.org/2000/svg"
  {...restProps}
  {role}
  width={size}
  height={size}
  fill="none"
  aria-label={ariaLabel}
  aria-describedby={hasDescription ? ariaDescribedby : undefined}
  {viewBox}
  stroke-width={strokeWidth}
>
  {#if title?.id && title.title}
    <title id={title.id}>{title.title}</title>
  {/if}
  {#if desc?.id && desc.desc}
    <desc id={desc.id}>{desc.desc}</desc>
  {/if}
  {#if variation === 'outline'}
    <path
      d="M11.9997 12.0002C11.894 11.976 11.7882 11.9497 11.6822 11.9213C10.097 11.4966 8.77773 10.6741 7.92138 9.68475C7.04857 8.67637 6.65666 7.49462 6.95428 6.38385C7.54391 4.18325 10.6167 3.09459 13.8174 3.95226C14.8398 4.22622 15.7516 4.66562 16.4999 5.20855M6.42133 17.8115C7.27768 18.8009 8.59697 19.6233 10.1821 20.0481C13.3829 20.9058 16.4557 19.8171 17.0453 17.6165C17.2777 16.7489 17.0895 15.838 16.5801 15.0003M3.75 12.0003H20.2499"
      stroke={color}
      stroke-width={strokeWidth}
      stroke-linecap="round"
      stroke-linejoin="round"
    />
  {:else if variation === 'mini'}
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M11.6174 3.96284C10.4309 3.64491 9.19936 3.6404 8.20073 3.97822C7.209 4.31371 6.7106 4.88868 6.559 5.45445C6.4074 6.02022 6.55155 6.76735 7.24267 7.55376C7.77099 8.15493 8.51582 8.65446 9.37053 9.0001H17.25C17.6642 9.0001 18 9.33589 18 9.7501C18 10.1643 17.6642 10.5001 17.25 10.5001H2.75C2.33579 10.5001 2 10.1643 2 9.7501C2 9.33589 2.33579 9.0001 2.75 9.0001H6.56299C6.40539 8.85537 6.25595 8.70327 6.11594 8.54396C5.18044 7.47947 4.79805 6.23086 5.11011 5.06622C5.42218 3.90158 6.37764 3.01145 7.72006 2.55732C9.05558 2.10553 10.5966 2.13638 12.0056 2.51395C12.8621 2.74343 13.6899 3.10603 14.4148 3.5877C14.7598 3.81693 14.8537 4.28243 14.6245 4.62744C14.3953 4.97244 13.9297 5.0663 13.5847 4.83707C13.006 4.45256 12.3297 4.15369 11.6174 3.96284ZM13.526 12.086C13.8914 11.891 14.3457 12.029 14.5408 12.3945C15.0701 13.3859 15.1482 14.4574 14.7218 15.4053C14.2995 16.3443 13.432 17.0531 12.2799 17.4428C10.9444 17.8946 9.40343 17.8637 7.99434 17.4862C6.58524 17.1086 5.2353 16.3648 4.30459 15.3058C4.03116 14.9947 4.06172 14.5208 4.37286 14.2474C4.68399 13.9739 5.15788 14.0045 5.43132 14.3156C6.12724 15.1075 7.19604 15.7194 8.38256 16.0373C9.56909 16.3552 10.8006 16.3597 11.7993 16.0219C12.6519 15.7335 13.1398 15.2658 13.3538 14.79C13.5639 14.323 13.5594 13.7412 13.2175 13.1009C13.0225 12.7355 13.1606 12.2811 13.526 12.086Z"
      fill={color}
    />
  {:else if variation === 'micro'}
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M9.16461 3.65371C8.2154 3.39936 7.244 3.38098 6.47247 3.61247C5.70301 3.84334 5.38517 4.23583 5.29859 4.55895C5.21201 4.88208 5.29102 5.3809 5.84196 5.96557C6.23056 6.37797 6.76892 6.73532 7.39275 7.00044H13C13.4142 7.00044 13.75 7.33622 13.75 7.75044C13.75 8.16465 13.4142 8.50044 13 8.50044H3C2.58579 8.50044 2.25 8.16465 2.25 7.75044C2.25 7.33622 2.58579 7.00044 3 7.00044H4.75609C4.75415 6.99838 4.75221 6.99633 4.75027 6.99427C3.96336 6.15918 3.58853 5.14541 3.8497 4.17072C4.11086 3.19604 4.94236 2.5055 6.04139 2.17574C7.13836 1.84661 8.40084 1.89614 9.55284 2.20482C10.303 2.40582 11.031 2.72298 11.6622 3.14374C12.0068 3.37348 12.1 3.83913 11.8703 4.18379C11.6405 4.52845 11.1749 4.6216 10.8302 4.39186C10.3483 4.07064 9.77313 3.81676 9.16461 3.65371ZM11.2387 10.0192C11.6402 9.91746 12.0481 10.1605 12.1499 10.562C12.3301 11.2736 12.2121 11.9876 11.7987 12.5856C11.3938 13.1712 10.747 13.5887 9.95829 13.8253C8.86132 14.1545 7.59884 14.105 6.44684 13.7963C5.29484 13.4876 4.17674 12.8993 3.3913 12.0657C3.10723 11.7643 3.12133 11.2896 3.42279 11.0055C3.72426 10.7215 4.19892 10.7356 4.48299 11.037C5.03541 11.6233 5.88585 12.093 6.83507 12.3474C7.78429 12.6017 8.75569 12.6201 9.52722 12.3886C10.077 12.2237 10.3996 11.9715 10.5648 11.7326C10.7215 11.5059 10.7743 11.2403 10.6958 10.9304C10.5941 10.5289 10.8371 10.1209 11.2387 10.0192Z"
      fill={color}
    />
  {:else}
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M9.65664 4.72817C8.57127 5.11272 7.89072 5.78492 7.67823 6.57798C7.46376 7.37841 7.72395 8.31122 8.48795 9.1939C9.23446 10.0564 10.4173 10.8061 11.8758 11.1969C11.946 11.2157 12.0162 11.2335 12.0862 11.2503H20.2494C20.6636 11.2503 20.9994 11.5861 20.9994 12.0003C20.9994 12.4145 20.6636 12.7503 20.2494 12.7503H12.0098C12.0032 12.7504 11.9965 12.7504 11.9899 12.7503H3.74951C3.3353 12.7503 2.99951 12.4145 2.99951 12.0003C2.99951 11.5861 3.3353 11.2503 3.74951 11.2503H8.5287C8.08448 10.9248 7.68959 10.5635 7.35381 10.1756C6.37221 9.04154 5.84858 7.61084 6.22935 6.18974C6.60649 4.78219 7.75713 3.80977 9.15573 3.31425C10.5581 2.81739 12.283 2.76477 14.0111 3.22781C15.1181 3.52446 16.1141 4.00238 16.9399 4.60148C17.2751 4.84472 17.3497 5.31371 17.1065 5.64899C16.8633 5.98427 16.3943 6.05888 16.059 5.81563C15.3881 5.32888 14.5605 4.92799 13.6228 4.67673C12.1501 4.2821 10.7382 4.34497 9.65664 4.72817ZM16.1899 14.3595C16.5438 14.1442 17.0052 14.2567 17.2204 14.6106C17.8121 15.5836 18.0657 16.7043 17.7692 17.8106C17.3921 19.2182 16.2415 20.1906 14.8429 20.6861C13.4405 21.183 11.7156 21.2356 9.98753 20.7726C8.27574 20.3139 6.81996 19.4186 5.85377 18.3024C5.58268 17.9892 5.61681 17.5155 5.92999 17.2444C6.24318 16.9733 6.71682 17.0075 6.98791 17.3207C7.73442 18.1831 8.91722 18.9328 10.3758 19.3236C11.8485 19.7183 13.2604 19.6554 14.3419 19.2722C15.4273 18.8877 16.1079 18.2155 16.3204 17.4224C16.4888 16.7936 16.366 16.0925 15.9388 15.39C15.7236 15.0361 15.836 14.5747 16.1899 14.3595Z"
      fill={color}
    />
  {/if}
</svg>

<!--
@component
[Go to docs](https://svelte-heros-v2.codewithshin.com/)
## Props
@prop size = ctx.size
@prop role = ctx.role || 'img'
@prop color = ctx.color || 'currentColor'
@prop variation = ctx.variation || 'outline'
@prop strokeWidth = ctx.strokeWidth || '1.5'
@prop title
@prop desc
@prop ariaLabel = 'strikethrough'
@prop ...restProps
-->
