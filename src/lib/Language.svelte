<script lang="ts">
  import { getContext } from 'svelte';
  import type { CtxType, Props } from './types';

  const ctx: CtxType = getContext('iconCtx') ?? {};

  let {
    size = ctx.size,
    role = ctx.role || 'img',
    color = ctx.color || 'currentColor',
    variation = ctx.variation || 'outline',
    strokeWidth = ctx.strokeWidth || '1.5',
    title,
    desc,
    ariaLabel = 'language',
    ...restProps
  }: Props = $props();

  let ariaDescribedby = `${title?.id || ''} ${desc?.id || ''}`;
  const hasDescription = $derived(!!(title?.id || desc?.id));
  let viewBox: string | undefined = $state(undefined);

  $effect(() => {
    if (variation === 'mini') {
      size = size || '20';
      viewBox = '0 0 20 20';
    } else if (variation === 'micro') {
      size = size || '16';
      viewBox = '0 0 16 16';
    } else {
      size = size || '24';
      viewBox = '0 0 24 24';
    }
  });
</script>

<svg
  xmlns="http://www.w3.org/2000/svg"
  {...restProps}
  {role}
  width={size}
  height={size}
  fill="none"
  aria-label={ariaLabel}
  aria-describedby={hasDescription ? ariaDescribedby : undefined}
  {viewBox}
  stroke-width={strokeWidth}
>
  {#if title?.id && title.title}
    <title id={title.id}>{title.title}</title>
  {/if}
  {#if desc?.id && desc.desc}
    <desc id={desc.id}>{desc.desc}</desc>
  {/if}
  {#if variation === 'outline'}
    <path
      d="M10.5 21L15.75 9.75L21 21M12 18H19.5M3 5.62136C4.96557 5.37626 6.96804 5.25 9 5.25M9 5.25C10.1208 5.25 11.2326 5.28841 12.3343 5.364M9 5.25V3M12.3343 5.364C11.1763 10.6578 7.68868 15.0801 3 17.5023M12.3343 5.364C13.2298 5.42545 14.1186 5.51146 15 5.62136M10.4113 14.1162C8.78554 12.4619 7.47704 10.4949 6.58432 8.31366"
      stroke={color}
      stroke-width={strokeWidth}
      stroke-linecap="round"
      stroke-linejoin="round"
    />
  {:else if variation === 'mini'}
    <path
      d="M7.75009 2.75C7.75009 2.33579 7.4143 2 7.00009 2C6.58587 2 6.25009 2.33579 6.25009 2.75V4.00842C5.03323 4.03578 3.8325 4.12954 2.65142 4.28627C2.24081 4.34076 1.95211 4.7178 2.0066 5.12841C2.06109 5.53902 2.43813 5.82772 2.84875 5.77323C4.20658 5.59304 5.59228 5.5 7.00009 5.5C7.57065 5.5 8.13758 5.51528 8.70048 5.54546C8.2826 6.95686 7.70916 8.30168 6.99996 9.56001C6.62755 8.89925 6.29259 8.21466 5.99793 7.50912C5.8383 7.1269 5.39905 6.94646 5.01683 7.10608C4.63461 7.26571 4.45416 7.70497 4.61379 8.08718C5.03667 9.09975 5.5365 10.072 6.10593 10.9967C5.03656 12.5598 3.74539 13.9596 2.27753 15.1506C1.95588 15.4116 1.9067 15.8839 2.16769 16.2055C2.42867 16.5272 2.90099 16.5764 3.22264 16.3154C4.64811 15.1588 5.91919 13.8189 6.99996 12.3314C7.0954 12.4628 7.19233 12.593 7.29071 12.722C7.54187 13.0514 8.01249 13.1148 8.34187 12.8637C8.67125 12.6125 8.73467 12.1419 8.48351 11.8125C8.2802 11.5459 8.08361 11.2739 7.894 10.9967C8.90466 9.35554 9.69602 7.56455 10.227 5.66453C10.5365 5.69627 10.8447 5.73253 11.1514 5.77323C11.562 5.82772 11.9391 5.53902 11.9936 5.12841C12.0481 4.7178 11.7594 4.34076 11.3487 4.28627C10.8114 4.21496 10.27 4.15669 9.72489 4.11178C9.07179 4.05797 8.41333 4.02333 7.75009 4.00842V2.75Z"
      fill={color}
    />
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M13.0002 8C13.2842 8 13.5439 8.1605 13.671 8.41459L17.921 16.9146C18.1062 17.2851 17.9561 17.7356 17.5856 17.9208C17.2151 18.1061 16.7646 17.9559 16.5793 17.5854L15.7866 16H10.2137L9.42098 17.5854C9.23574 17.9559 8.78524 18.1061 8.41475 17.9208C8.04427 17.7356 7.8941 17.2851 8.07934 16.9146L12.3293 8.41459C12.4564 8.1605 12.7161 8 13.0002 8ZM15.0366 14.5L13.0002 10.4271L10.9637 14.5H15.0366Z"
      fill={color}
    />
  {:else if variation === 'micro'}
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M11 5C11.299 5 11.5693 5.17751 11.6882 5.45179L14.9382 12.9518C15.1029 13.3319 14.9283 13.7735 14.5482 13.9382C14.1682 14.1029 13.7266 13.9283 13.5619 13.5482L12.8908 11.9997H9.10923L8.4382 13.5482C8.2735 13.9283 7.83189 14.1029 7.45182 13.9382C7.07176 13.7735 6.89717 13.3319 7.06186 12.9518L10.3119 5.45179C10.4307 5.17751 10.7011 5 11 5ZM9.75923 10.4997H12.2408L11 7.63628L9.75923 10.4997Z"
      fill={color}
    />
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M5.00003 1C5.41424 1 5.75003 1.33579 5.75003 1.75V3.01104C6.16299 3.02322 6.5735 3.04541 6.98131 3.0774C7.44038 3.11341 7.89601 3.16182 8.34786 3.22231C8.75842 3.27727 9.04668 3.65464 8.99172 4.06519C8.93676 4.47574 8.55938 4.76401 8.14883 4.70905C7.92894 4.67961 7.70808 4.65321 7.48628 4.6299C7.1301 5.85717 6.59808 7.00928 5.91941 8.05729C6.15555 8.36066 6.40658 8.65193 6.67142 8.92999C6.95709 9.22993 6.94553 9.70466 6.64559 9.99034C6.34565 10.276 5.87092 10.2644 5.58525 9.96451C5.38294 9.7521 5.18774 9.53284 5.00002 9.30711C4.18402 10.2884 3.22645 11.1474 2.15883 11.853C1.81326 12.0813 1.34799 11.9863 1.11962 11.6408C0.891239 11.2952 0.986242 10.8299 1.33181 10.6015C2.3813 9.90797 3.31021 9.04714 4.08066 8.05729C3.88359 7.75296 3.69887 7.43984 3.52724 7.11865C3.33202 6.75332 3.46992 6.29891 3.83524 6.10369C4.20057 5.90847 4.65498 6.04637 4.8502 6.4117C4.89895 6.50293 4.9489 6.59343 5.00002 6.68318C5.38798 6.00207 5.7083 5.27759 5.95187 4.51891C5.63619 4.50635 5.31887 4.5 5.00003 4.5C3.93193 4.5 2.88086 4.57121 1.85122 4.70905C1.44067 4.76401 1.0633 4.47574 1.00834 4.06519C0.95338 3.65464 1.24164 3.27727 1.65219 3.22231C2.50548 3.10808 3.37219 3.03692 4.25003 3.01104V1.75C4.25003 1.33579 4.58582 1 5.00003 1Z"
      fill={color}
    />
  {:else}
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M8.99997 2.25C9.41419 2.25 9.74997 2.58579 9.74997 3V4.50565C10.6344 4.519 11.5131 4.55589 12.3856 4.61576C13.295 4.67816 14.1976 4.7655 15.0928 4.87713C15.5038 4.92838 15.7955 5.30314 15.7442 5.71417C15.693 6.1252 15.3182 6.41685 14.9072 6.3656C14.2477 6.28336 13.5839 6.21471 12.9162 6.15993C12.3254 8.46971 11.306 10.6074 9.94791 12.4834C10.2648 12.8666 10.5979 13.236 10.9462 13.5905C11.2365 13.8859 11.2324 14.3607 10.937 14.6511C10.6415 14.9414 10.1667 14.9373 9.87633 14.6419C9.57346 14.3337 9.28114 14.015 8.99997 13.6866C7.42884 15.522 5.50938 17.0501 3.3442 18.1686C2.97619 18.3587 2.52375 18.2145 2.33363 17.8465C2.14352 17.4785 2.28774 17.026 2.65575 16.8359C4.73754 15.7605 6.5721 14.2737 8.05205 12.4834C7.18596 11.2869 6.45754 9.984 5.89018 8.59774C5.73329 8.21439 5.91687 7.77643 6.30022 7.61954C6.68357 7.46265 7.12152 7.64622 7.27841 8.02957C7.74073 9.15919 8.31954 10.229 8.99997 11.2242C10.0649 9.66674 10.881 7.92604 11.3912 6.05944C10.5992 6.01997 9.80193 6 8.99997 6C6.99911 6 5.02763 6.12433 3.09278 6.3656C2.68175 6.41685 2.30699 6.1252 2.25574 5.71417C2.20448 5.30314 2.49614 4.92838 2.90717 4.87713C4.66111 4.65841 6.44376 4.5329 8.24997 4.50565V3C8.24997 2.58579 8.58576 2.25 8.99997 2.25ZM15.75 9C16.0414 9 16.3064 9.16878 16.4296 9.43284L21.6796 20.6828C21.8548 21.0582 21.6925 21.5045 21.3171 21.6796C20.9418 21.8548 20.4955 21.6925 20.3203 21.3172L19.1223 18.75H12.3776L11.1796 21.3172C11.0044 21.6925 10.5582 21.8548 10.1828 21.6796C9.80746 21.5045 9.64517 21.0582 9.82034 20.6828L15.0703 9.43284C15.1936 9.16878 15.4586 9 15.75 9ZM13.0776 17.25H18.4223L15.75 11.5235L13.0776 17.25Z"
      fill={color}
    />
  {/if}
</svg>

<!--
@component
[Go to docs](https://svelte-heros-v2.codewithshin.com/)
## Props
@prop size = ctx.size
@prop role = ctx.role || 'img'
@prop color = ctx.color || 'currentColor'
@prop variation = ctx.variation || 'outline'
@prop strokeWidth = ctx.strokeWidth || '1.5'
@prop title
@prop desc
@prop ariaLabel = 'language'
@prop ...restProps
-->
