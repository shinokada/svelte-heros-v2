<script lang="ts">
  import { getContext } from 'svelte';
  import type { BaseProps, Props } from './types';

  const ctx: BaseProps = getContext('iconCtx') ?? {};

  let {
    size = ctx.size,
    role = ctx.role || 'img',
    color = ctx.color || 'currentColor',
    variation = ctx.variation || 'outline',
    strokeWidth = ctx.strokeWidth || '1.5',
    title,
    desc,
    ariaLabel = 'link slash',
    ...restProps
  }: Props = $props();

  let ariaDescribedby = `${title?.id || ''} ${desc?.id || ''}`;
  const hasDescription = $derived(!!(title?.id || desc?.id));

  let viewBox = $derived.by(() => {
    if (variation === 'mini') return '0 0 20 20';
    if (variation === 'micro') return '0 0 16 16';
    return '0 0 24 24';
  });
  let variationSize = $derived.by(() => {
    if (variation === 'mini') return '20';
    if (variation === 'micro') return '16';
    return '24';
  });
</script>

<svg
  xmlns="http://www.w3.org/2000/svg"
  {...restProps}
  {role}
  width={size || variationSize}
  height={size || variationSize}
  fill="none"
  aria-label={ariaLabel}
  aria-describedby={hasDescription ? ariaDescribedby : undefined}
  {viewBox}
  stroke-width={strokeWidth}
>
  {#if title?.id && title.title}
    <title id={title.id}>{title.title}</title>
  {/if}
  {#if desc?.id && desc.desc}
    <desc id={desc.id}>{desc.desc}</desc>
  {/if}
  {#if variation === 'outline'}
    <path
      d="M13.1813 8.68025C13.6303 8.89477 14.0511 9.188 14.423 9.55994C15.9219 11.0591 16.1423 13.3528 15.084 15.0855M5.31614 12.3032L3.5592 14.0604C1.80188 15.8179 1.80188 18.6674 3.5592 20.4249C5.31653 22.1825 8.16572 22.1825 9.92304 20.4249L13.0517 17.296M18.6659 11.6811L20.4228 9.92393C22.1802 8.1664 22.1802 5.31689 20.4228 3.55936C18.6655 1.80183 15.8163 1.80183 14.059 3.55936L9.55909 8.05979C9.30075 8.31816 9.08038 8.60014 8.898 8.89877M10.8008 15.3041C10.3518 15.0895 9.93099 14.7963 9.55909 14.4244C9.0674 13.9326 8.71328 13.3554 8.49674 12.7405M15.084 15.0855L20.9908 20.993M15.084 15.0855L8.898 8.89877M2.9912 2.99128L8.898 8.89877"
      stroke={color}
      stroke-width={strokeWidth}
      stroke-linecap="round"
      stroke-linejoin="round"
    />
  {:else if variation === 'mini'}
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M2.21967 2.21967C2.51256 1.92678 2.98744 1.92678 3.28033 2.21967L7.74093 6.68027C7.86827 6.50173 8.01192 6.33145 8.1718 6.17157L11.1718 3.17157C12.7339 1.60948 15.2666 1.60948 16.8287 3.17157C18.3907 4.73367 18.3907 7.26633 16.8287 8.82843L15.6043 10.0528C15.3114 10.3457 14.8366 10.3457 14.5437 10.0528C14.2508 9.75987 14.2508 9.28499 14.5437 8.9921L15.768 7.76777C16.7443 6.79146 16.7443 5.20854 15.768 4.23223C14.7917 3.25592 13.2088 3.25592 12.2325 4.23223L9.23246 7.23223C9.06938 7.39532 8.9339 7.5747 8.82564 7.76498L11.4163 10.3556C11.3068 9.94385 11.0906 9.55482 10.768 9.23223C10.722 9.18619 10.6747 9.14241 10.6263 9.10085C10.312 8.83102 10.276 8.35751 10.5458 8.04325C10.8156 7.72898 11.2892 7.69296 11.6034 7.96279C11.6806 8.02905 11.7557 8.09865 11.8287 8.17157C12.8276 9.17054 13.1869 10.5656 12.9095 11.8488L17.7803 16.7197C18.0732 17.0126 18.0732 17.4874 17.7803 17.7803C17.4874 18.0732 17.0126 18.0732 16.7197 17.7803L11.5427 12.6034C11.5408 12.6015 11.5389 12.5996 11.537 12.5977L7.4034 8.46406C7.40143 8.46211 7.39947 8.46016 7.39753 8.45819L2.21967 3.28033C1.92678 2.98744 1.92678 2.51256 2.21967 2.21967ZM5.45679 9.94724C5.74969 10.2401 5.74969 10.715 5.45679 11.0079L4.23246 12.2322C3.25615 13.2085 3.25615 14.7915 4.23246 15.7678C5.20877 16.7441 6.79168 16.7441 7.76799 15.7678L9.64667 13.8891C9.93957 13.5962 10.4144 13.5962 10.7073 13.8891C11.0002 14.182 11.0002 14.6569 10.7073 14.9497L8.82865 16.8284C7.26656 18.3905 4.7339 18.3905 3.1718 16.8284C1.6097 15.2663 1.6097 12.7337 3.1718 11.1716L4.39613 9.94724C4.68903 9.65435 5.1639 9.65435 5.45679 9.94724Z"
      fill={color}
    />
  {:else if variation === 'micro'}
    <path
      d="M3.28033 2.21967C2.98744 1.92678 2.51256 1.92678 2.21967 2.21967C1.92678 2.51256 1.92678 2.98744 2.21967 3.28033L12.7197 13.7803C13.0126 14.0732 13.4874 14.0732 13.7803 13.7803C14.0732 13.4874 14.0732 13.0126 13.7803 12.7197L10.781 9.72035C11.2421 8.47805 10.9746 7.02516 9.97476 6.02533C9.68186 5.73244 9.20699 5.73244 8.9141 6.02533C8.6212 6.31823 8.6212 6.7931 8.9141 7.08599C9.28853 7.46043 9.48385 7.94698 9.49904 8.43839L7.11616 6.0555L9.0854 4.08579C9.86645 3.30474 11.1328 3.30474 11.9138 4.08579C12.5348 4.70673 12.663 5.63602 12.2944 6.38407C12.1114 6.75563 12.2642 7.20525 12.6357 7.38833C13.0073 7.5714 13.4569 7.41861 13.64 7.04705C14.2838 5.74031 14.0634 4.11404 12.9745 3.02513C11.6077 1.65829 9.39158 1.65829 8.02474 3.02513L6.0555 4.99484L3.28033 2.21967Z"
      fill={color}
    />
    <path
      d="M3.70514 9.61596C3.88825 9.24442 3.7355 8.79479 3.36396 8.61167C2.99242 8.42856 2.54278 8.58131 2.35967 8.95285C1.71562 10.2597 1.93602 11.8861 3.02501 12.9751C4.39184 14.3419 6.60792 14.3419 7.97476 12.9751L8.35354 12.5963C8.64643 12.3034 8.64643 11.8285 8.35354 11.5356C8.06065 11.2427 7.58577 11.2427 7.29288 11.5356L6.9141 11.9144C6.13305 12.6955 4.86672 12.6955 4.08567 11.9144C3.46468 11.2934 3.33645 10.364 3.70514 9.61596Z"
      fill={color}
    />
  {:else}
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M19.892 4.08973C18.4276 2.62514 16.0533 2.62514 14.5889 4.08973L10.089 8.59017C10.0149 8.66424 9.94467 8.74054 9.87822 8.81885L14.8436 13.7848C15.2095 12.5152 14.8919 11.0902 13.8921 10.0903C13.5813 9.77941 13.2307 9.53538 12.8575 9.35706C12.4837 9.1785 12.3255 8.73074 12.504 8.35697C12.6826 7.98319 13.1303 7.82495 13.5041 8.00352C14.0289 8.25423 14.5199 8.59666 14.9529 9.02964C16.5536 10.6306 16.9039 13.0067 16.0063 14.9476L21.5207 20.4627C21.8136 20.7556 21.8136 21.2305 21.5207 21.5234C21.2278 21.8163 20.7529 21.8163 20.46 21.5234L2.46036 3.52166C2.16747 3.22874 2.16749 2.75384 2.46041 2.46094C2.75332 2.16805 3.2282 2.16807 3.52109 2.46099L8.81504 7.75555C8.88349 7.67858 8.95456 7.60319 9.02825 7.5295L13.5282 3.02906C15.5784 0.978594 18.9025 0.978594 20.9527 3.02906C23.0029 5.07949 23.0029 8.40387 20.9527 10.4543L19.1958 12.2114C18.9029 12.5044 18.428 12.5044 18.1351 12.2115C17.8422 11.9186 17.8422 11.4437 18.1351 11.1508L19.892 9.39364C21.3565 7.92901 21.3565 5.55436 19.892 4.08973ZM5.84599 11.7729C6.1389 12.0658 6.13892 12.5407 5.84604 12.8336L4.0891 14.5907C2.62465 16.0554 2.62465 18.43 4.0891 19.8946C5.55352 21.3592 7.92779 21.3592 9.39221 19.8946L12.5208 16.7657C12.8137 16.4727 13.2886 16.4727 13.5815 16.7656C13.8744 17.0585 13.8744 17.5334 13.5816 17.8263L10.4529 20.9553C8.40271 23.0058 5.0786 23.0058 3.02837 20.9553C0.978174 18.9049 0.978174 15.5805 3.02837 13.5301L4.78531 11.7729C5.07819 11.48 5.55308 11.48 5.84599 11.7729ZM8.24712 12.0331C8.63782 11.8955 9.0661 12.1007 9.2037 12.4914C9.38378 13.0028 9.67828 13.4833 10.089 13.8941C10.3998 14.205 10.7504 14.449 11.1236 14.6273C11.4974 14.8059 11.6556 15.2536 11.4771 15.6274C11.2985 16.0012 10.8508 16.1594 10.477 15.9809C9.95224 15.7301 9.46118 15.3877 9.02825 14.9547C8.45558 14.382 8.04184 13.7081 7.78884 12.9897C7.65124 12.599 7.85642 12.1707 8.24712 12.0331Z"
      fill={color}
    />
  {/if}
</svg>

<!--
@component
[Go to docs](https://svelte-heros-v2.codewithshin.com/)
## Props
@prop size = ctx.size
@prop role = ctx.role || 'img'
@prop color = ctx.color || 'currentColor'
@prop variation = ctx.variation || 'outline'
@prop strokeWidth = ctx.strokeWidth || '1.5'
@prop title
@prop desc
@prop ariaLabel = 'link slash'
@prop ...restProps
-->
