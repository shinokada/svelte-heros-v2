<script lang="ts">
  import { getContext } from 'svelte';

  type TitleType = {
    id?: string;
    title?: string;
  };
  
  type DescType = {
    id?: string;
    desc?: string;
  };
  
  interface BaseProps {
    size?: string;
    role?: string;
    color?: string;
    variation?: "solid" | "outline" | "mini" | "micro";
    strokeWidth?: string;
    withEvents?: boolean;
    onclick?: (event: MouseEvent) => void;
    onkeydown?: (event: KeyboardEvent) => void;
    onkeyup?: (event: KeyboardEvent) => void;
    class?: string;
  }
  
  interface CtxType extends BaseProps {}
  
  interface Props extends BaseProps{
    title?: TitleType;
    desc?: DescType;
    ariaLabel?: string;
  }
  
  const ctx: CtxType = getContext('iconCtx') ?? {};

  let { 
    size = ctx.size || '24', 
    role = ctx.role || 'img', 
    color = ctx.color || 'currentColor', 
    variation = ctx.variation || "outline",
    strokeWidth = ctx.strokeWidth || '1.5',
    withEvents = ctx.withEvents || false, 
    title, 
    desc, 
    class: classname, 
    ariaLabel = "globe asia australia", 
    onclick, 
    onkeydown, 
    onkeyup,
    ...restProps 
  }: Props = $props();

  let ariaDescribedby = `${title?.id || ''} ${desc?.id || ''}`;
  const hasDescription = $derived(!!(title?.id || desc?.id));
  let viewBox: string = $state(''); 

  $effect(() => {
    if (variation === 'mini') {
      size = size || "20";
      viewBox = '0 0 20 20';
    } else if (variation === 'micro'){
      size = size || "16";
      viewBox = '0 0 16 16';
    } else {
      size = size || "24";
      viewBox = '0 0 24 24';
    }
  })
  
</script>

{#if withEvents}
  <svg
    xmlns="http://www.w3.org/2000/svg"
    {...restProps}
    {role}
    width={size}
    height={size}
    class={classname}
    fill="none"
    aria-label={ariaLabel}
    aria-describedby={hasDescription ? ariaDescribedby : undefined}
    {viewBox}
    stroke-width={strokeWidth}
    onclick={onclick}
    onkeydown={onkeydown}
    onkeyup={onkeyup}
  >
    {#if title?.id && title.title}
      <title id="{title.id}">{title.title}</title>
    {/if}
    {#if desc?.id && desc.desc}
      <desc id="{desc.id}">{desc.desc}</desc>
    {/if}
      {#if variation === 'outline'}
        <path d="M12.75 3.03081V3.59808C12.75 3.93196 12.8983 4.24858 13.1548 4.46233L14.2234 5.35284C14.6651 5.7209 14.7582 6.36275 14.4393 6.84112L13.9282 7.60766C13.6507 8.02398 13.2423 8.3359 12.7676 8.49413L12.6254 8.54154C11.9327 8.77243 11.6492 9.59877 12.0542 10.2063C12.4237 10.7605 12.2238 11.5131 11.6281 11.811L9 13.125L9.42339 14.1835C9.608 14.645 9.40803 15.171 8.96343 15.3933C8.5503 15.5999 8.04855 15.4814 7.77142 15.1119L7.09217 14.2062C6.59039 13.5372 5.55995 13.6301 5.18594 14.3781L4.5 15.75L3.88804 15.903M12.75 3.03081C12.5027 3.0104 12.2526 3 12 3C7.02944 3 3 7.02944 3 12C3 13.3984 3.31894 14.7223 3.88804 15.903M12.75 3.03081C17.3696 3.41192 21 7.282 21 12C21 13.8792 20.4241 15.6239 19.4391 17.0672M19.4391 17.0672L19.2628 16.5385C18.9566 15.6197 18.0968 15 17.1283 15H16.5L16.1756 14.6756C15.9031 14.4031 15.5335 14.25 15.1481 14.25C14.5977 14.25 14.0945 14.561 13.8484 15.0533L13.8119 15.1263C13.6131 15.5237 13.2567 15.8195 12.8295 15.9416L11.8408 16.2241C11.2906 16.3813 10.9461 16.9263 11.0401 17.4907L11.1131 17.9285C11.1921 18.4026 11.6022 18.75 12.0828 18.75C12.9291 18.75 13.6805 19.2916 13.9482 20.0945L14.1628 20.7384M19.4391 17.0672C18.2095 18.8688 16.3425 20.2007 14.1628 20.7384M14.1628 20.7384C13.47 20.9093 12.7456 21 12 21C8.42785 21 5.34177 18.9189 3.88804 15.903M15.7498 9C15.7498 9.89602 15.3569 10.7003 14.7341 11.25" stroke="{color}" stroke-width="{strokeWidth}" stroke-linecap="round" stroke-linejoin="round"/> 
      {:else if variation === 'mini'}
        <path fill-rule="evenodd" clip-rule="evenodd" d="M18 10C18 14.4183 14.4183 18 10 18C5.58172 18 2 14.4183 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10ZM11.5 16.3261C11.0185 16.4398 10.5163 16.5 10 16.5C7.98332 16.5 6.18115 15.5816 4.98891 14.1402L5.47949 13.1591C5.59335 12.9313 5.88103 12.8549 6.09287 12.9962L6.38719 13.1924C6.78056 13.4546 7.30434 13.4028 7.63864 13.0685C7.90427 12.8028 7.99702 12.4099 7.87823 12.0535L7.68051 11.4604C7.6409 11.3416 7.6947 11.2117 7.80674 11.1556L9.78018 10.1689C10.2846 9.9167 10.4539 9.27942 10.141 8.81015C9.99285 8.58788 10.1177 8.28635 10.3797 8.23396L10.5047 8.20896C11.3568 8.03855 12.0522 7.42466 12.3269 6.60033L12.3766 6.45127C12.4964 6.09194 12.4029 5.69577 12.135 5.42794L10.6464 3.93934C10.5527 3.84557 10.5 3.71839 10.5 3.58579V3.51894C13.8562 3.77426 16.5 6.57839 16.5 10C16.5 10.9822 16.2821 11.9136 15.8921 12.7484C15.6958 12.6128 15.4634 12.5258 15.212 12.5049L14.6464 11.9393C14.3651 11.658 13.9836 11.5 13.5858 11.5H13.4142C13.0164 11.5 12.6349 11.658 12.3536 11.9393L11.7612 12.5317C11.7232 12.5697 11.6793 12.6013 11.6312 12.6254L10.0528 13.4146C9.714 13.584 9.5 13.9302 9.5 14.309V14.5C9.5 15.0523 9.94772 15.5 10.5 15.5H11C11.2761 15.5 11.5 15.7239 11.5 16V16.3261Z" fill="{color}"/> 
      {:else if variation === 'micro'}
        <path fill-rule="evenodd" clip-rule="evenodd" d="M1 8C1 4.13401 4.13401 1 8 1C11.866 1 15 4.13401 15 8C15 11.866 11.866 15 8 15C4.13401 15 1 11.866 1 8ZM8 13.5C6.42029 13.5 4.99613 12.834 3.99298 11.7675L4.27349 11.0662C4.38072 10.7981 4.7271 10.727 4.93126 10.9312C5.24537 11.2453 5.75463 11.2453 6.06874 10.9312L6.08114 10.9188C6.33128 10.6686 6.39329 10.2865 6.23509 9.9701L6.17965 9.85923C6.07486 9.64965 6.13072 9.39535 6.31369 9.24897L8.14017 7.78778C8.35005 7.61988 8.41412 7.32817 8.29392 7.08776C8.13879 6.77751 8.29442 6.40178 8.6235 6.29209L8.65191 6.28262C9.18579 6.10466 9.60474 5.68572 9.7827 5.15183L9.8541 4.93762C9.94352 4.66937 9.8737 4.37362 9.67376 4.17368L8.29289 2.79281C8.2076 2.70752 8.1393 2.6084 8.09019 2.50072C11.0862 2.54889 13.5 4.99255 13.5 8C13.5 8.90022 13.2837 9.74993 12.9003 10.5H12.4142C12.149 10.5 11.8946 10.3946 11.7071 10.2071L11.3536 9.85355C11.1272 9.62718 10.8201 9.5 10.5 9.5C10.1799 9.5 9.87282 9.62718 9.64645 9.85355L9.11475 10.3853C9.03875 10.4613 8.95099 10.5245 8.85485 10.5726L8.51246 10.7438C8.19839 10.9008 8 11.2218 8 11.5729V11.75C8 12.1642 8.33579 12.5 8.75 12.5C9.16421 12.5 9.5 12.8358 9.5 13.25C9.5 13.2643 9.5004 13.2785 9.50119 13.2926C9.02401 13.4277 8.52045 13.5 8 13.5Z" fill="{color}"/> 
      {:else}
        <path d="M15.7498 8.25C16.164 8.25 16.4998 8.58579 16.4998 9C16.4998 10.1201 16.0077 11.1263 15.2304 11.8123C14.9199 12.0864 14.4459 12.0569 14.1718 11.7463C13.8977 11.4357 13.9273 10.9618 14.2378 10.6877C14.7062 10.2743 14.9998 9.67191 14.9998 9C14.9998 8.58579 15.3356 8.25 15.7498 8.25Z" fill="{color}"/> <path fill-rule="evenodd" clip-rule="evenodd" d="M12 2.25C6.61522 2.25 2.25 6.61522 2.25 12C2.25 17.3848 6.61522 21.75 12 21.75C17.3848 21.75 21.75 17.3848 21.75 12C21.75 6.61522 17.3848 2.25 12 2.25ZM4.5749 15.6002C5.91195 18.3527 8.7344 20.25 12 20.25C12.6623 20.25 13.3063 20.172 13.9234 20.0246C13.6364 19.2603 12.9044 18.75 12.0828 18.75C11.6022 18.75 11.1921 18.4026 11.1131 17.9285L11.0401 17.4907C10.9461 16.9263 11.2906 16.3813 11.8408 16.2241L12.8295 15.9416C13.2567 15.8195 13.6131 15.5237 13.8119 15.1263L13.8484 15.0533C14.0945 14.561 14.5977 14.25 15.1481 14.25C15.5335 14.25 15.9031 14.4031 16.1756 14.6756L16.5 15H17.1283C17.9669 15 18.724 15.4646 19.1108 16.1857C19.8347 14.9586 20.25 13.5278 20.25 12C20.25 7.7018 16.963 4.17132 12.7656 3.78506C12.81 4.04802 12.9468 4.289 13.1548 4.46233L14.2234 5.35284C14.6651 5.7209 14.7582 6.36275 14.4393 6.84112L13.9282 7.60766C13.6507 8.02398 13.2423 8.3359 12.7676 8.49413L12.6254 8.54154C11.9327 8.77243 11.6492 9.59877 12.0542 10.2063C12.4237 10.7605 12.2238 11.5131 11.6281 11.811L9 13.125L9.4234 14.1835C9.608 14.645 9.40803 15.171 8.96343 15.3933C8.5503 15.5999 8.04855 15.4814 7.77142 15.1119L7.09217 14.2062C6.59039 13.5372 5.55995 13.6301 5.18594 14.3781L4.5749 15.6002Z" fill="{color}"/> 
      {/if}
  </svg>
{:else}
  <svg
    xmlns="http://www.w3.org/2000/svg"
    {...restProps}
    {role}
    width={size}
    height={size}
    class={classname}
    fill="none"
    aria-label={ariaLabel}
    aria-describedby={hasDescription ? ariaDescribedby : undefined}
    {viewBox}
    stroke-width={strokeWidth}
  >
    {#if title?.id && title.title}
      <title id="{title.id}">{title.title}</title>
    {/if}
    {#if desc?.id && desc.desc}
      <desc id="{desc.id}">{desc.desc}</desc>
    {/if}
      {#if variation === 'outline'}
        <path d="M12.75 3.03081V3.59808C12.75 3.93196 12.8983 4.24858 13.1548 4.46233L14.2234 5.35284C14.6651 5.7209 14.7582 6.36275 14.4393 6.84112L13.9282 7.60766C13.6507 8.02398 13.2423 8.3359 12.7676 8.49413L12.6254 8.54154C11.9327 8.77243 11.6492 9.59877 12.0542 10.2063C12.4237 10.7605 12.2238 11.5131 11.6281 11.811L9 13.125L9.42339 14.1835C9.608 14.645 9.40803 15.171 8.96343 15.3933C8.5503 15.5999 8.04855 15.4814 7.77142 15.1119L7.09217 14.2062C6.59039 13.5372 5.55995 13.6301 5.18594 14.3781L4.5 15.75L3.88804 15.903M12.75 3.03081C12.5027 3.0104 12.2526 3 12 3C7.02944 3 3 7.02944 3 12C3 13.3984 3.31894 14.7223 3.88804 15.903M12.75 3.03081C17.3696 3.41192 21 7.282 21 12C21 13.8792 20.4241 15.6239 19.4391 17.0672M19.4391 17.0672L19.2628 16.5385C18.9566 15.6197 18.0968 15 17.1283 15H16.5L16.1756 14.6756C15.9031 14.4031 15.5335 14.25 15.1481 14.25C14.5977 14.25 14.0945 14.561 13.8484 15.0533L13.8119 15.1263C13.6131 15.5237 13.2567 15.8195 12.8295 15.9416L11.8408 16.2241C11.2906 16.3813 10.9461 16.9263 11.0401 17.4907L11.1131 17.9285C11.1921 18.4026 11.6022 18.75 12.0828 18.75C12.9291 18.75 13.6805 19.2916 13.9482 20.0945L14.1628 20.7384M19.4391 17.0672C18.2095 18.8688 16.3425 20.2007 14.1628 20.7384M14.1628 20.7384C13.47 20.9093 12.7456 21 12 21C8.42785 21 5.34177 18.9189 3.88804 15.903M15.7498 9C15.7498 9.89602 15.3569 10.7003 14.7341 11.25" stroke="{color}" stroke-width="{strokeWidth}" stroke-linecap="round" stroke-linejoin="round"/> 
      {:else if variation === 'mini'}
        <path fill-rule="evenodd" clip-rule="evenodd" d="M18 10C18 14.4183 14.4183 18 10 18C5.58172 18 2 14.4183 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10ZM11.5 16.3261C11.0185 16.4398 10.5163 16.5 10 16.5C7.98332 16.5 6.18115 15.5816 4.98891 14.1402L5.47949 13.1591C5.59335 12.9313 5.88103 12.8549 6.09287 12.9962L6.38719 13.1924C6.78056 13.4546 7.30434 13.4028 7.63864 13.0685C7.90427 12.8028 7.99702 12.4099 7.87823 12.0535L7.68051 11.4604C7.6409 11.3416 7.6947 11.2117 7.80674 11.1556L9.78018 10.1689C10.2846 9.9167 10.4539 9.27942 10.141 8.81015C9.99285 8.58788 10.1177 8.28635 10.3797 8.23396L10.5047 8.20896C11.3568 8.03855 12.0522 7.42466 12.3269 6.60033L12.3766 6.45127C12.4964 6.09194 12.4029 5.69577 12.135 5.42794L10.6464 3.93934C10.5527 3.84557 10.5 3.71839 10.5 3.58579V3.51894C13.8562 3.77426 16.5 6.57839 16.5 10C16.5 10.9822 16.2821 11.9136 15.8921 12.7484C15.6958 12.6128 15.4634 12.5258 15.212 12.5049L14.6464 11.9393C14.3651 11.658 13.9836 11.5 13.5858 11.5H13.4142C13.0164 11.5 12.6349 11.658 12.3536 11.9393L11.7612 12.5317C11.7232 12.5697 11.6793 12.6013 11.6312 12.6254L10.0528 13.4146C9.714 13.584 9.5 13.9302 9.5 14.309V14.5C9.5 15.0523 9.94772 15.5 10.5 15.5H11C11.2761 15.5 11.5 15.7239 11.5 16V16.3261Z" fill="{color}"/> 
      {:else if variation === 'micro'}
        <path fill-rule="evenodd" clip-rule="evenodd" d="M1 8C1 4.13401 4.13401 1 8 1C11.866 1 15 4.13401 15 8C15 11.866 11.866 15 8 15C4.13401 15 1 11.866 1 8ZM8 13.5C6.42029 13.5 4.99613 12.834 3.99298 11.7675L4.27349 11.0662C4.38072 10.7981 4.7271 10.727 4.93126 10.9312C5.24537 11.2453 5.75463 11.2453 6.06874 10.9312L6.08114 10.9188C6.33128 10.6686 6.39329 10.2865 6.23509 9.9701L6.17965 9.85923C6.07486 9.64965 6.13072 9.39535 6.31369 9.24897L8.14017 7.78778C8.35005 7.61988 8.41412 7.32817 8.29392 7.08776C8.13879 6.77751 8.29442 6.40178 8.6235 6.29209L8.65191 6.28262C9.18579 6.10466 9.60474 5.68572 9.7827 5.15183L9.8541 4.93762C9.94352 4.66937 9.8737 4.37362 9.67376 4.17368L8.29289 2.79281C8.2076 2.70752 8.1393 2.6084 8.09019 2.50072C11.0862 2.54889 13.5 4.99255 13.5 8C13.5 8.90022 13.2837 9.74993 12.9003 10.5H12.4142C12.149 10.5 11.8946 10.3946 11.7071 10.2071L11.3536 9.85355C11.1272 9.62718 10.8201 9.5 10.5 9.5C10.1799 9.5 9.87282 9.62718 9.64645 9.85355L9.11475 10.3853C9.03875 10.4613 8.95099 10.5245 8.85485 10.5726L8.51246 10.7438C8.19839 10.9008 8 11.2218 8 11.5729V11.75C8 12.1642 8.33579 12.5 8.75 12.5C9.16421 12.5 9.5 12.8358 9.5 13.25C9.5 13.2643 9.5004 13.2785 9.50119 13.2926C9.02401 13.4277 8.52045 13.5 8 13.5Z" fill="{color}"/> 
      {:else}
        <path d="M15.7498 8.25C16.164 8.25 16.4998 8.58579 16.4998 9C16.4998 10.1201 16.0077 11.1263 15.2304 11.8123C14.9199 12.0864 14.4459 12.0569 14.1718 11.7463C13.8977 11.4357 13.9273 10.9618 14.2378 10.6877C14.7062 10.2743 14.9998 9.67191 14.9998 9C14.9998 8.58579 15.3356 8.25 15.7498 8.25Z" fill="{color}"/> <path fill-rule="evenodd" clip-rule="evenodd" d="M12 2.25C6.61522 2.25 2.25 6.61522 2.25 12C2.25 17.3848 6.61522 21.75 12 21.75C17.3848 21.75 21.75 17.3848 21.75 12C21.75 6.61522 17.3848 2.25 12 2.25ZM4.5749 15.6002C5.91195 18.3527 8.7344 20.25 12 20.25C12.6623 20.25 13.3063 20.172 13.9234 20.0246C13.6364 19.2603 12.9044 18.75 12.0828 18.75C11.6022 18.75 11.1921 18.4026 11.1131 17.9285L11.0401 17.4907C10.9461 16.9263 11.2906 16.3813 11.8408 16.2241L12.8295 15.9416C13.2567 15.8195 13.6131 15.5237 13.8119 15.1263L13.8484 15.0533C14.0945 14.561 14.5977 14.25 15.1481 14.25C15.5335 14.25 15.9031 14.4031 16.1756 14.6756L16.5 15H17.1283C17.9669 15 18.724 15.4646 19.1108 16.1857C19.8347 14.9586 20.25 13.5278 20.25 12C20.25 7.7018 16.963 4.17132 12.7656 3.78506C12.81 4.04802 12.9468 4.289 13.1548 4.46233L14.2234 5.35284C14.6651 5.7209 14.7582 6.36275 14.4393 6.84112L13.9282 7.60766C13.6507 8.02398 13.2423 8.3359 12.7676 8.49413L12.6254 8.54154C11.9327 8.77243 11.6492 9.59877 12.0542 10.2063C12.4237 10.7605 12.2238 11.5131 11.6281 11.811L9 13.125L9.4234 14.1835C9.608 14.645 9.40803 15.171 8.96343 15.3933C8.5503 15.5999 8.04855 15.4814 7.77142 15.1119L7.09217 14.2062C6.59039 13.5372 5.55995 13.6301 5.18594 14.3781L4.5749 15.6002Z" fill="{color}"/> 
      {/if}
  </svg>
{/if}

<!--
@component
[Go to docs](https://svelte-heros-v2.codewithshin.com/)
## Props
@prop size = ctx.size || '24'
@prop role = ctx.role || 'img'
@prop color = ctx.color || 'currentColor'
@prop variation = ctx.variation || "outline"
@prop strokeWidth = ctx.strokeWidth || '1.5'
@prop withEvents = ctx.withEvents || false
@prop title
@prop desc
@prop class: classname
@prop ariaLabel = "globe asia australia"
@prop onclick
@prop onkeydown
@prop onkeyup
@prop ...restProps
-->
