<script lang="ts">
  import { getContext } from 'svelte';

  type TitleType = {
    id?: string;
    title?: string;
  };
  
  type DescType = {
    id?: string;
    desc?: string;
  };
  
  interface BaseProps {
    size?: string;
    role?: string;
    color?: string;
    variation?: "solid" | "outline" | "mini" | "micro";
    strokeWidth?: string;
    withEvents?: boolean;
    onclick?: (event: MouseEvent) => void;
    onkeydown?: (event: KeyboardEvent) => void;
    onkeyup?: (event: KeyboardEvent) => void;
    class?: string;
  }
  
  interface CtxType extends BaseProps {}
  
  interface Props extends BaseProps{
    title?: TitleType;
    desc?: DescType;
    ariaLabel?: string;
  }
  
  const ctx: CtxType = getContext('iconCtx') ?? {};

  let { 
    size = ctx.size || '24', 
    role = ctx.role || 'img', 
    color = ctx.color || 'currentColor', 
    variation = ctx.variation || "outline",
    strokeWidth = ctx.strokeWidth || '1.5',
    withEvents = ctx.withEvents || false, 
    title = {}, 
    desc = {}, 
    class: classname, 
    ariaLabel = "bell alert", 
    onclick, 
    onkeydown, 
    onkeyup,
    ...restProps 
  }: Props = $props();

  let ariaDescribedby = `${title.id || ''} ${desc.id || ''}`;
  const hasDescription = $derived(!!(title.id || desc.id));
  let viewBox: string = $state(''); 

  $effect(() => {
    if (variation === 'mini') {
      size = size || "20";
      viewBox = '0 0 20 20';
    } else if (variation === 'micro'){
      size = size || "16";
      viewBox = '0 0 16 16';
    } else {
      size = size || "24";
      viewBox = '0 0 24 24';
    }
  })
  
</script>

{#if withEvents}
  <svg
    xmlns="http://www.w3.org/2000/svg"
    {...restProps}
    {role}
    width={size}
    height={size}
    class={classname}
    fill="none"
    aria-label={ariaLabel}
    aria-describedby={hasDescription ? ariaDescribedby : undefined}
    {viewBox}
    stroke-width={strokeWidth}
    onclick={onclick}
    onkeydown={onkeydown}
    onkeyup={onkeyup}
  >
    {#if title.id && title.title}
      <title id="{title.id}">{title.title}</title>
    {/if}
    {#if desc.id && desc.desc}
      <desc id="{desc.id}">{desc.desc}</desc>
    {/if}
      {#if variation === 'outline'}
        <path d="M14.8569 17.0817C16.7514 16.857 18.5783 16.4116 20.3111 15.7719C18.8743 14.177 17.9998 12.0656 17.9998 9.75V9.04919C17.9999 9.03281 18 9.01641 18 9C18 5.68629 15.3137 3 12 3C8.6863 3 6.00001 5.68629 6.00001 9L5.99982 9.75C5.99982 12.0656 5.12529 14.177 3.68849 15.7719C5.42142 16.4116 7.24845 16.857 9.14315 17.0818M14.8569 17.0817C13.92 17.1928 12.9666 17.25 11.9998 17.25C11.0332 17.25 10.0799 17.1929 9.14315 17.0818M14.8569 17.0817C14.9498 17.3711 15 17.6797 15 18C15 19.6569 13.6569 21 12 21C10.3432 21 9.00001 19.6569 9.00001 18C9.00001 17.6797 9.0502 17.3712 9.14315 17.0818M3.12445 7.5C3.41173 5.78764 4.18254 4.23924 5.29169 3M18.7083 3C19.8175 4.23924 20.5883 5.78764 20.8756 7.5" stroke="{color}" stroke-width="{strokeWidth}" stroke-linecap="round" stroke-linejoin="round"/> 
      {:else if variation === 'mini'}
        <path d="M4.21444 3.22682C4.47824 2.90747 4.43321 2.43474 4.11386 2.17094C3.79452 1.90714 3.32178 1.95217 3.05798 2.27151C2.1587 3.36014 1.50992 4.66493 1.20153 6.09703C1.11433 6.50196 1.37191 6.90091 1.77684 6.98811C2.18177 7.07531 2.58072 6.81774 2.66792 6.41281C2.92443 5.22161 3.46427 4.13494 4.21444 3.22682Z" fill="{color}"/> <path d="M16.9417 2.27151C16.6779 1.95217 16.2051 1.90714 15.8858 2.17094C15.5664 2.43474 15.5214 2.90747 15.7852 3.22682C16.5354 4.13494 17.0752 5.22161 17.3317 6.41281C17.4189 6.81774 17.8179 7.07531 18.2228 6.98811C18.6277 6.90091 18.8853 6.50196 18.7981 6.09703C18.4897 4.66493 17.8409 3.36014 16.9417 2.27151Z" fill="{color}"/> <path fill-rule="evenodd" clip-rule="evenodd" d="M9.99997 2C6.68626 2 3.99997 4.68629 3.99997 8C3.99997 9.88663 3.54624 11.6651 2.7426 13.2343C2.63591 13.4426 2.6326 13.6888 2.73365 13.9C2.83469 14.1111 3.02851 14.2629 3.25769 14.3105C4.32537 14.5322 5.41181 14.7023 6.51426 14.818C6.67494 16.602 8.17421 18 10 18C11.8258 18 13.3251 16.602 13.4857 14.818C14.5882 14.7023 15.6746 14.5322 16.7422 14.3105C16.9714 14.2629 17.1652 14.1111 17.2663 13.9C17.3673 13.6888 17.364 13.4426 17.2573 13.2343C16.4537 11.6651 16 9.88663 16 8C16 4.68629 13.3137 2 9.99997 2ZM10 16.5C9.04777 16.5 8.25097 15.8345 8.0493 14.9433C8.69477 14.9809 9.34517 15 9.99997 15C10.6548 15 11.3052 14.9809 11.9507 14.9433C11.749 15.8345 10.9522 16.5 10 16.5Z" fill="{color}"/> 
      {:else if variation === 'micro'}
        <path d="M3.5996 1.69988C3.84841 1.36872 3.78165 0.89856 3.45048 0.649752C3.11932 0.400945 2.64917 0.467705 2.40036 0.798866C1.89988 1.465 1.51511 2.22396 1.27662 3.04572C1.16117 3.44352 1.39006 3.85959 1.78786 3.97504C2.18566 4.09048 2.60173 3.8616 2.71718 3.4638C2.90412 2.81965 3.20598 2.22379 3.5996 1.69988Z" fill="{color}"/> <path d="M13.5996 0.798866C13.3508 0.467705 12.8806 0.400945 12.5495 0.649752C12.2183 0.89856 12.1516 1.36872 12.4004 1.69988C12.794 2.22379 13.0958 2.81965 13.2828 3.4638C13.3982 3.8616 13.8143 4.09048 14.2121 3.97504C14.6099 3.85959 14.8388 3.44352 14.7233 3.04572C14.4848 2.22396 14.1001 1.465 13.5996 0.798866Z" fill="{color}"/> <path fill-rule="evenodd" clip-rule="evenodd" d="M8 1C10.2091 1 12 2.79086 12 5V7.37868C12 7.7765 12.158 8.15804 12.4393 8.43934L13.7071 9.70711C13.8946 9.89464 14 10.149 14 10.4142V11C14 11.5523 13.5523 12 13 12H11C11 13.6569 9.65685 15 8 15C6.34315 15 5 13.6569 5 12H3C2.44772 12 2 11.5523 2 11V10.4142C2 10.149 2.10536 9.89464 2.29289 9.70711L3.56066 8.43934C3.84197 8.15804 4 7.7765 4 7.37868V5C4 2.79086 5.79086 1 8 1ZM8 13.5C7.17157 13.5 6.5 12.8284 6.5 12H9.5C9.5 12.8284 8.82843 13.5 8 13.5Z" fill="{color}"/> 
      {:else}
        <path d="M5.85036 3.50019C6.1266 3.19155 6.10034 2.7174 5.79169 2.44116C5.48305 2.16491 5.0089 2.19118 4.73266 2.49982C3.5317 3.84163 2.69605 5.51948 2.3846 7.37592C2.31607 7.78442 2.59167 8.17114 3.00017 8.23967C3.40868 8.3082 3.79539 8.0326 3.86393 7.6241C4.12704 6.05581 4.83301 4.63686 5.85036 3.50019Z" fill="{color}"/> <path d="M19.267 2.49982C18.9908 2.19118 18.5166 2.16491 18.208 2.44116C17.8993 2.7174 17.873 3.19155 18.1493 3.50019C19.1666 4.63686 19.8726 6.05581 20.1357 7.6241C20.2043 8.0326 20.591 8.3082 20.9995 8.23967C21.408 8.17114 21.6836 7.78442 21.6151 7.37592C21.3036 5.51948 20.4679 3.84163 19.267 2.49982Z" fill="{color}"/> <path fill-rule="evenodd" clip-rule="evenodd" d="M12 2.25C8.27215 2.25 5.25012 5.27197 5.25001 8.9998L5.24981 9.75C5.24981 11.8731 4.4488 13.8074 3.13126 15.2699C2.96476 15.4547 2.90073 15.71 2.96033 15.9516C3.01992 16.1931 3.19539 16.3893 3.42875 16.4755C4.97287 17.0455 6.58934 17.4659 8.2604 17.7192C8.25351 17.812 8.25001 17.9056 8.25001 18C8.25001 20.0711 9.92894 21.75 12 21.75C14.0711 21.75 15.75 20.0711 15.75 18C15.75 17.9056 15.7465 17.812 15.7396 17.7192C17.4105 17.4659 19.0269 17.0455 20.5709 16.4755C20.8042 16.3893 20.9797 16.1931 21.0393 15.9516C21.0989 15.71 21.0349 15.4547 20.8684 15.2699C19.5508 13.8074 18.7498 11.8731 18.7498 9.75V9.04919L18.75 9C18.75 5.27208 15.7279 2.25 12 2.25ZM9.75001 18C9.75001 17.9662 9.75075 17.9326 9.75221 17.8993C10.4927 17.966 11.2424 18 11.9998 18C12.7574 18 13.5072 17.9659 14.2478 17.8992C14.2493 17.9326 14.25 17.9662 14.25 18C14.25 19.2426 13.2427 20.25 12 20.25C10.7574 20.25 9.75001 19.2426 9.75001 18Z" fill="{color}"/> 
      {/if}
  </svg>
{:else}
  <svg
    xmlns="http://www.w3.org/2000/svg"
    {...restProps}
    {role}
    width={size}
    height={size}
    class={classname}
    fill="none"
    aria-label={ariaLabel}
    aria-describedby={hasDescription ? ariaDescribedby : undefined}
    {viewBox}
    stroke-width={strokeWidth}
  >
    {#if title.id && title.title}
      <title id="{title.id}">{title.title}</title>
    {/if}
    {#if desc.id && desc.desc}
      <desc id="{desc.id}">{desc.desc}</desc>
    {/if}
      {#if variation === 'outline'}
        <path d="M14.8569 17.0817C16.7514 16.857 18.5783 16.4116 20.3111 15.7719C18.8743 14.177 17.9998 12.0656 17.9998 9.75V9.04919C17.9999 9.03281 18 9.01641 18 9C18 5.68629 15.3137 3 12 3C8.6863 3 6.00001 5.68629 6.00001 9L5.99982 9.75C5.99982 12.0656 5.12529 14.177 3.68849 15.7719C5.42142 16.4116 7.24845 16.857 9.14315 17.0818M14.8569 17.0817C13.92 17.1928 12.9666 17.25 11.9998 17.25C11.0332 17.25 10.0799 17.1929 9.14315 17.0818M14.8569 17.0817C14.9498 17.3711 15 17.6797 15 18C15 19.6569 13.6569 21 12 21C10.3432 21 9.00001 19.6569 9.00001 18C9.00001 17.6797 9.0502 17.3712 9.14315 17.0818M3.12445 7.5C3.41173 5.78764 4.18254 4.23924 5.29169 3M18.7083 3C19.8175 4.23924 20.5883 5.78764 20.8756 7.5" stroke="{color}" stroke-width="{strokeWidth}" stroke-linecap="round" stroke-linejoin="round"/> 
      {:else if variation === 'mini'}
        <path d="M4.21444 3.22682C4.47824 2.90747 4.43321 2.43474 4.11386 2.17094C3.79452 1.90714 3.32178 1.95217 3.05798 2.27151C2.1587 3.36014 1.50992 4.66493 1.20153 6.09703C1.11433 6.50196 1.37191 6.90091 1.77684 6.98811C2.18177 7.07531 2.58072 6.81774 2.66792 6.41281C2.92443 5.22161 3.46427 4.13494 4.21444 3.22682Z" fill="{color}"/> <path d="M16.9417 2.27151C16.6779 1.95217 16.2051 1.90714 15.8858 2.17094C15.5664 2.43474 15.5214 2.90747 15.7852 3.22682C16.5354 4.13494 17.0752 5.22161 17.3317 6.41281C17.4189 6.81774 17.8179 7.07531 18.2228 6.98811C18.6277 6.90091 18.8853 6.50196 18.7981 6.09703C18.4897 4.66493 17.8409 3.36014 16.9417 2.27151Z" fill="{color}"/> <path fill-rule="evenodd" clip-rule="evenodd" d="M9.99997 2C6.68626 2 3.99997 4.68629 3.99997 8C3.99997 9.88663 3.54624 11.6651 2.7426 13.2343C2.63591 13.4426 2.6326 13.6888 2.73365 13.9C2.83469 14.1111 3.02851 14.2629 3.25769 14.3105C4.32537 14.5322 5.41181 14.7023 6.51426 14.818C6.67494 16.602 8.17421 18 10 18C11.8258 18 13.3251 16.602 13.4857 14.818C14.5882 14.7023 15.6746 14.5322 16.7422 14.3105C16.9714 14.2629 17.1652 14.1111 17.2663 13.9C17.3673 13.6888 17.364 13.4426 17.2573 13.2343C16.4537 11.6651 16 9.88663 16 8C16 4.68629 13.3137 2 9.99997 2ZM10 16.5C9.04777 16.5 8.25097 15.8345 8.0493 14.9433C8.69477 14.9809 9.34517 15 9.99997 15C10.6548 15 11.3052 14.9809 11.9507 14.9433C11.749 15.8345 10.9522 16.5 10 16.5Z" fill="{color}"/> 
      {:else if variation === 'micro'}
        <path d="M3.5996 1.69988C3.84841 1.36872 3.78165 0.89856 3.45048 0.649752C3.11932 0.400945 2.64917 0.467705 2.40036 0.798866C1.89988 1.465 1.51511 2.22396 1.27662 3.04572C1.16117 3.44352 1.39006 3.85959 1.78786 3.97504C2.18566 4.09048 2.60173 3.8616 2.71718 3.4638C2.90412 2.81965 3.20598 2.22379 3.5996 1.69988Z" fill="{color}"/> <path d="M13.5996 0.798866C13.3508 0.467705 12.8806 0.400945 12.5495 0.649752C12.2183 0.89856 12.1516 1.36872 12.4004 1.69988C12.794 2.22379 13.0958 2.81965 13.2828 3.4638C13.3982 3.8616 13.8143 4.09048 14.2121 3.97504C14.6099 3.85959 14.8388 3.44352 14.7233 3.04572C14.4848 2.22396 14.1001 1.465 13.5996 0.798866Z" fill="{color}"/> <path fill-rule="evenodd" clip-rule="evenodd" d="M8 1C10.2091 1 12 2.79086 12 5V7.37868C12 7.7765 12.158 8.15804 12.4393 8.43934L13.7071 9.70711C13.8946 9.89464 14 10.149 14 10.4142V11C14 11.5523 13.5523 12 13 12H11C11 13.6569 9.65685 15 8 15C6.34315 15 5 13.6569 5 12H3C2.44772 12 2 11.5523 2 11V10.4142C2 10.149 2.10536 9.89464 2.29289 9.70711L3.56066 8.43934C3.84197 8.15804 4 7.7765 4 7.37868V5C4 2.79086 5.79086 1 8 1ZM8 13.5C7.17157 13.5 6.5 12.8284 6.5 12H9.5C9.5 12.8284 8.82843 13.5 8 13.5Z" fill="{color}"/> 
      {:else}
        <path d="M5.85036 3.50019C6.1266 3.19155 6.10034 2.7174 5.79169 2.44116C5.48305 2.16491 5.0089 2.19118 4.73266 2.49982C3.5317 3.84163 2.69605 5.51948 2.3846 7.37592C2.31607 7.78442 2.59167 8.17114 3.00017 8.23967C3.40868 8.3082 3.79539 8.0326 3.86393 7.6241C4.12704 6.05581 4.83301 4.63686 5.85036 3.50019Z" fill="{color}"/> <path d="M19.267 2.49982C18.9908 2.19118 18.5166 2.16491 18.208 2.44116C17.8993 2.7174 17.873 3.19155 18.1493 3.50019C19.1666 4.63686 19.8726 6.05581 20.1357 7.6241C20.2043 8.0326 20.591 8.3082 20.9995 8.23967C21.408 8.17114 21.6836 7.78442 21.6151 7.37592C21.3036 5.51948 20.4679 3.84163 19.267 2.49982Z" fill="{color}"/> <path fill-rule="evenodd" clip-rule="evenodd" d="M12 2.25C8.27215 2.25 5.25012 5.27197 5.25001 8.9998L5.24981 9.75C5.24981 11.8731 4.4488 13.8074 3.13126 15.2699C2.96476 15.4547 2.90073 15.71 2.96033 15.9516C3.01992 16.1931 3.19539 16.3893 3.42875 16.4755C4.97287 17.0455 6.58934 17.4659 8.2604 17.7192C8.25351 17.812 8.25001 17.9056 8.25001 18C8.25001 20.0711 9.92894 21.75 12 21.75C14.0711 21.75 15.75 20.0711 15.75 18C15.75 17.9056 15.7465 17.812 15.7396 17.7192C17.4105 17.4659 19.0269 17.0455 20.5709 16.4755C20.8042 16.3893 20.9797 16.1931 21.0393 15.9516C21.0989 15.71 21.0349 15.4547 20.8684 15.2699C19.5508 13.8074 18.7498 11.8731 18.7498 9.75V9.04919L18.75 9C18.75 5.27208 15.7279 2.25 12 2.25ZM9.75001 18C9.75001 17.9662 9.75075 17.9326 9.75221 17.8993C10.4927 17.966 11.2424 18 11.9998 18C12.7574 18 13.5072 17.9659 14.2478 17.8992C14.2493 17.9326 14.25 17.9662 14.25 18C14.25 19.2426 13.2427 20.25 12 20.25C10.7574 20.25 9.75001 19.2426 9.75001 18Z" fill="{color}"/> 
      {/if}
  </svg>
{/if}

<!--
@component
[Go to docs](https://svelte-heros-v2.codewithshin.com/)
## Props
@props: 
-->
