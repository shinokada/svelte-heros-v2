<script lang="ts">
  import { getContext } from 'svelte';
  import type { BaseProps, Props } from './types';

  const ctx: BaseProps = getContext('iconCtx') ?? {};

  let {
    size = ctx.size,
    role = ctx.role || 'img',
    color = ctx.color || 'currentColor',
    variation = ctx.variation || 'outline',
    strokeWidth = ctx.strokeWidth || '1.5',
    title,
    desc,
    ariaLabel = 'arrow path rounded square',
    ...restProps
  }: Props = $props();

  let ariaDescribedby = `${title?.id || ''} ${desc?.id || ''}`;
  const hasDescription = $derived(!!(title?.id || desc?.id));

  let viewBox = $derived.by(() => {
    if (variation === 'mini') return '0 0 20 20';
    if (variation === 'micro') return '0 0 16 16';
    return '0 0 24 24';
  });
  let variationSize = $derived.by(() => {
    if (variation === 'mini') return '20';
    if (variation === 'micro') return '16';
    return '24';
  });
</script>

<svg
  xmlns="http://www.w3.org/2000/svg"
  {...restProps}
  {role}
  width={size || variationSize}
  height={size || variationSize}
  fill="none"
  aria-label={ariaLabel}
  aria-describedby={hasDescription ? ariaDescribedby : undefined}
  {viewBox}
  stroke-width={strokeWidth}
>
  {#if title?.id && title.title}
    <title id={title.id}>{title.title}</title>
  {/if}
  {#if desc?.id && desc.desc}
    <desc id={desc.id}>{desc.desc}</desc>
  {/if}
  {#if variation === 'outline'}
    <path
      d="M19.5 12C19.5 10.7681 19.4536 9.54699 19.3624 8.3384C19.2128 6.35425 17.6458 4.78724 15.6616 4.63757C14.453 4.54641 13.2319 4.5 12 4.5C10.7681 4.5 9.54699 4.54641 8.3384 4.63757C6.35425 4.78724 4.78724 6.35425 4.63757 8.3384C4.62097 8.55852 4.60585 8.77906 4.59222 9M19.5 12L22.5 9M19.5 12L16.5 9M4.5 12C4.5 13.2319 4.54641 14.453 4.63757 15.6616C4.78724 17.6458 6.35425 19.2128 8.3384 19.3624C9.54699 19.4536 10.7681 19.5 12 19.5C13.2319 19.5 14.453 19.4536 15.6616 19.3624C17.6458 19.2128 19.2128 17.6458 19.3624 15.6616C19.379 15.4415 19.3941 15.2209 19.4078 15M4.5 12L7.5 15M4.5 12L1.5 15"
      stroke={color}
      stroke-width={strokeWidth}
      stroke-linecap="round"
      stroke-linejoin="round"
    />
  {:else if variation === 'mini'}
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M10 4.5C11.215 4.5 12.4171 4.55484 13.6038 4.66214C13.9249 4.69118 14.1802 4.93931 14.2185 5.25934C14.3426 6.29702 14.4265 7.34718 14.4685 8.40824L12.7804 6.71973C12.4875 6.4268 12.0126 6.42675 11.7197 6.71961C11.4268 7.01247 11.4267 7.48735 11.7196 7.78027L14.7189 10.7802C15.0117 11.0731 15.4866 11.0732 15.7795 10.7803L18.7803 7.78041C19.0732 7.48755 19.0733 7.01268 18.7804 6.71975C18.4875 6.42681 18.0127 6.42674 17.7197 6.71959L15.9719 8.46698C15.9299 7.32601 15.8413 6.19681 15.7079 5.08123C15.5855 4.05775 14.7654 3.26106 13.7389 3.16824C12.5073 3.05688 11.2602 3 10 3C8.73981 3 7.49271 3.05688 6.26115 3.16824C5.23465 3.26105 4.41449 4.05775 4.2921 5.08123C4.22831 5.61464 4.17477 6.15117 4.13167 6.69061C4.09868 7.10351 4.40666 7.46497 4.81956 7.49796C5.23245 7.53095 5.59391 7.22297 5.6269 6.81007C5.66843 6.29024 5.72003 5.77326 5.78148 5.25934C5.81975 4.93931 6.07514 4.69118 6.39623 4.66214C7.58294 4.55484 8.78497 4.5 10 4.5ZM5.28113 9.22C4.98828 8.9271 4.51345 8.92704 4.22052 9.21987L1.21976 12.2196C0.926819 12.5124 0.926735 12.9873 1.21958 13.2802C1.51242 13.5732 1.98729 13.5733 2.28024 13.2804L4.02814 11.5331C4.0701 12.6741 4.15869 13.8032 4.2921 14.9188C4.41449 15.9422 5.23465 16.7389 6.26115 16.8318C7.49271 16.9431 8.73981 17 10 17C11.2602 17 12.5073 16.9431 13.7389 16.8318C14.7654 16.7389 15.5855 15.9423 15.7079 14.9188C15.7717 14.3849 15.8253 13.848 15.8684 13.3081C15.9014 12.8952 15.5934 12.5338 15.1805 12.5008C14.7676 12.4678 14.4062 12.7758 14.3732 13.1887C14.3316 13.709 14.28 14.2263 14.2185 14.7407C14.1802 15.0607 13.9249 15.3088 13.6038 15.3379C12.4171 15.4452 11.215 15.5 10 15.5C8.78497 15.5 7.58294 15.4452 6.39623 15.3379C6.07514 15.3088 5.81975 15.0607 5.78148 14.7407C5.6574 13.703 5.57352 12.6529 5.53148 11.5919L7.21963 13.2803C7.5125 13.5732 7.98737 13.5732 8.28029 13.2804C8.57321 12.9875 8.57324 12.5126 8.28037 12.2197L5.28113 9.22Z"
      fill={color}
    />
  {:else if variation === 'micro'}
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M8 3.5C7.22882 3.5 6.46288 3.52209 5.70278 3.56567C5.14144 3.59785 4.69253 4.03441 4.64471 4.59448C4.63865 4.66548 4.63278 4.73653 4.62709 4.80763C4.59408 5.22053 4.2326 5.52848 3.8197 5.49547C3.40681 5.46246 3.09885 5.10098 3.13186 4.68808C3.13776 4.6143 3.14386 4.54056 3.15015 4.46689C3.26145 3.16319 4.31079 2.143 5.61693 2.06813C6.4056 2.02291 7.20017 2 8 2C8.79983 2 9.59439 2.02291 10.3831 2.06812C11.6892 2.143 12.7385 3.16318 12.8498 4.46687C12.9064 5.12917 12.9472 5.79592 12.9719 6.46672L13.7197 5.7189C14.0126 5.42601 14.4874 5.42601 14.7803 5.7189C15.0732 6.01179 15.0732 6.48667 14.7803 6.77956L12.7796 8.78032C12.4867 9.07322 12.0118 9.07322 11.7189 8.78032L9.71967 6.78109C9.42678 6.48819 9.42678 6.01332 9.71967 5.72043C10.0126 5.42753 10.4874 5.42753 10.7803 5.72043L11.4685 6.40864C11.4444 5.80023 11.4066 5.19541 11.3553 4.59447C11.3075 4.03439 10.8586 3.59784 10.2972 3.56566C9.53712 3.52209 8.77118 3.5 8 3.5ZM3.22043 7.2192C3.51333 6.9263 3.9882 6.9263 4.28109 7.2192L6.28186 9.21996C6.57475 9.51285 6.57475 9.98773 6.28186 10.2806C5.98896 10.5735 5.51409 10.5735 5.2212 10.2806L4.53144 9.59086C4.55554 10.1994 4.5934 10.8044 4.64472 11.4055C4.69253 11.9656 5.14144 12.4022 5.70278 12.4343C6.46288 12.4779 7.22882 12.5 8 12.5C8.77118 12.5 9.53712 12.4779 10.2972 12.4343C10.8586 12.4022 11.3075 11.9656 11.3553 11.4055C11.3615 11.3329 11.3675 11.2602 11.3733 11.1875C11.4063 10.7746 11.7677 10.4666 12.1806 10.4996C12.5935 10.5325 12.9015 10.894 12.8685 11.3069C12.8625 11.3823 12.8563 11.4578 12.8499 11.5331C12.7386 12.8368 11.6892 13.857 10.3831 13.9319C9.5944 13.9771 8.79983 14 8 14C7.20017 14 6.4056 13.9771 5.61693 13.9319C4.31079 13.857 3.26145 12.8368 3.15015 11.5331C3.0936 10.8707 3.0528 10.2038 3.02813 9.53282L2.28033 10.2806C1.98744 10.5735 1.51256 10.5735 1.21967 10.2806C0.926777 9.98773 0.926777 9.51285 1.21967 9.21996L3.22043 7.2192Z"
      fill={color}
    />
  {:else}
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M12 5.25C13.2131 5.25 14.4153 5.2957 15.6052 5.38545C17.2196 5.50723 18.4928 6.78038 18.6146 8.39481C18.6586 8.97827 18.692 9.56471 18.7146 10.1539L17.0303 8.46967C16.7374 8.17678 16.2626 8.17678 15.9697 8.46967C15.6768 8.76256 15.6768 9.23744 15.9697 9.53033L18.9697 12.5303C19.2626 12.8232 19.7374 12.8232 20.0303 12.5303L23.0303 9.53033C23.3232 9.23744 23.3232 8.76256 23.0303 8.46967C22.7374 8.17678 22.2626 8.17678 21.9697 8.46967L20.2181 10.2212C20.1948 9.57151 20.1588 8.92503 20.1103 8.28199C19.9327 5.92812 18.0719 4.06725 15.718 3.8897C14.4907 3.79712 13.2508 3.75 12 3.75C10.7492 3.75 9.50933 3.79712 8.28199 3.8897C5.92812 4.06725 4.06725 5.92812 3.8897 8.28199C3.87284 8.50552 3.85748 8.72948 3.84365 8.95384C3.81815 9.36727 4.13264 9.72308 4.54606 9.74858C4.95949 9.77407 5.31531 9.45959 5.3408 9.04616C5.35422 8.82864 5.3691 8.61152 5.38545 8.39481C5.50723 6.78038 6.78038 5.50723 8.39481 5.38545C9.58465 5.2957 10.7869 5.25 12 5.25ZM5.03033 11.4697C4.73744 11.1768 4.26256 11.1768 3.96967 11.4697L0.96967 14.4697C0.676777 14.7626 0.676777 15.2374 0.96967 15.5303C1.26256 15.8232 1.73744 15.8232 2.03033 15.5303L3.78186 13.7788C3.80517 14.4285 3.84119 15.075 3.8897 15.718C4.06725 18.0719 5.92812 19.9327 8.28199 20.1103C9.50933 20.2029 10.7492 20.25 12 20.25C13.2508 20.25 14.4907 20.2029 15.718 20.1103C18.0719 19.9327 19.9327 18.0719 20.1103 15.718C20.1272 15.4945 20.1425 15.2705 20.1564 15.0462C20.1818 14.6327 19.8674 14.2769 19.4539 14.2514C19.0405 14.2259 18.6847 14.5404 18.6592 14.9538C18.6458 15.1714 18.6309 15.3885 18.6146 15.6052C18.4928 17.2196 17.2196 18.4928 15.6052 18.6146C14.4153 18.7043 13.2131 18.75 12 18.75C10.7869 18.75 9.58465 18.7043 8.39481 18.6146C6.78038 18.4928 5.50723 17.2196 5.38545 15.6052C5.34144 15.0217 5.30802 14.4353 5.28539 13.8461L6.96967 15.5303C7.26256 15.8232 7.73744 15.8232 8.03033 15.5303C8.32322 15.2374 8.32322 14.7626 8.03033 14.4697L5.03033 11.4697Z"
      fill={color}
    />
  {/if}
</svg>

<!--
@component
[Go to docs](https://svelte-heros-v2.codewithshin.com/)
## Props
@prop size = ctx.size
@prop role = ctx.role || 'img'
@prop color = ctx.color || 'currentColor'
@prop variation = ctx.variation || 'outline'
@prop strokeWidth = ctx.strokeWidth || '1.5'
@prop title
@prop desc
@prop ariaLabel = 'arrow path rounded square'
@prop ...restProps
-->
