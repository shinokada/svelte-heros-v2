<script lang="ts">
  import { getContext } from 'svelte';
  import type { CtxType, Props } from './types';

  const ctx: CtxType = getContext('iconCtx') ?? {};

  let {
    size = ctx.size,
    role = ctx.role || 'img',
    color = ctx.color || 'currentColor',
    variation = ctx.variation || 'outline',
    strokeWidth = ctx.strokeWidth || '1.5',
    title,
    desc,
    ariaLabel = 'variable',
    ...restProps
  }: Props = $props();

  let ariaDescribedby = `${title?.id || ''} ${desc?.id || ''}`;
  const hasDescription = $derived(!!(title?.id || desc?.id));
  let viewBox: string | undefined = $state(undefined);

  $effect(() => {
    if (variation === 'mini') {
      size = size || '20';
      viewBox = '0 0 20 20';
    } else if (variation === 'micro') {
      size = size || '16';
      viewBox = '0 0 16 16';
    } else {
      size = size || '24';
      viewBox = '0 0 24 24';
    }
  });
</script>

<svg
  xmlns="http://www.w3.org/2000/svg"
  {...restProps}
  {role}
  width={size}
  height={size}
  fill="none"
  aria-label={ariaLabel}
  aria-describedby={hasDescription ? ariaDescribedby : undefined}
  {viewBox}
  stroke-width={strokeWidth}
>
  {#if title?.id && title.title}
    <title id={title.id}>{title.title}</title>
  {/if}
  {#if desc?.id && desc.desc}
    <desc id={desc.id}>{desc.desc}</desc>
  {/if}
  {#if variation === 'outline'}
    <path
      d="M4.74455 3C3.61952 5.77929 3 8.8173 3 12C3 15.1827 3.61952 18.2207 4.74455 21M19.5 3C20.4673 5.77929 21 8.8173 21 12C21 15.1827 20.4673 18.2207 19.5 21M8.25 8.88462L9.6945 7.99569C10.1061 7.74241 10.6463 7.93879 10.7991 8.39726L13.2009 15.6027C13.3537 16.0612 13.8939 16.2576 14.3055 16.0043L15.75 15.1154M7.5 15.8654L7.71335 15.9556C8.45981 16.2715 9.32536 16.012 9.77495 15.3376L14.225 8.66243C14.6746 7.98804 15.5402 7.72854 16.2867 8.04435L16.5 8.13462"
      stroke={color}
      stroke-width={strokeWidth}
      stroke-linecap="round"
      stroke-linejoin="round"
    />
  {:else if variation === 'mini'}
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M15.212 2.07905C15.5825 1.894 16.033 2.0444 16.218 2.41498C17.3587 4.6992 18 7.2758 18 10C18 12.7243 17.3587 15.3009 16.218 17.5851C16.033 17.9557 15.5825 18.1061 15.212 17.921C14.8414 17.736 14.691 17.2856 14.876 16.915C15.9151 14.8342 16.5 12.4865 16.5 10C16.5 7.51359 15.9151 5.16592 14.876 3.0851C14.691 2.71452 14.8414 2.2641 15.212 2.07905ZM4.78803 2.07905C5.15861 2.2641 5.30901 2.71452 5.12397 3.0851C4.08491 5.16591 3.5 7.51359 3.5 10C3.5 12.4865 4.08491 14.8342 5.12397 16.915C5.30901 17.2856 5.15861 17.736 4.78803 17.921C4.41745 18.1061 3.96703 17.9557 3.78198 17.5851C2.64135 15.3009 2 12.7243 2 10C2 7.2758 2.64135 4.6992 3.78198 2.41498C3.96703 2.0444 4.41745 1.894 4.78803 2.07905ZM7.07277 5.63347C7.86037 5.10841 8.93143 5.43515 9.29184 6.31042L10.1483 8.39032L11.2942 6.61933C11.9758 5.56592 13.3873 5.27355 14.4313 5.96953L14.666 6.12601C15.0107 6.35577 15.1038 6.82142 14.874 7.16607C14.6443 7.51071 14.1786 7.60384 13.834 7.37408L13.5993 7.21761C13.2513 6.98561 12.7808 7.08307 12.5536 7.43421L10.8431 10.0777L12.0952 13.1185L12.834 12.626C13.1786 12.3962 13.6443 12.4894 13.874 12.834C14.1038 13.1787 14.0107 13.6443 13.666 13.8741L12.9272 14.3666C12.1396 14.8917 11.0686 14.5649 10.7082 13.6897L9.85173 11.6098L8.70579 13.3808C8.02418 14.4342 6.61265 14.7265 5.56869 14.0306L5.33397 13.8741C4.98933 13.6443 4.8962 13.1787 5.12596 12.834C5.35573 12.4894 5.82138 12.3962 6.16603 12.626L6.40074 12.7825C6.74873 13.0145 7.21923 12.917 7.44644 12.5659L9.15693 9.92239L7.90482 6.88155L7.16603 7.37408C6.82138 7.60384 6.35573 7.51071 6.12596 7.16607C5.8962 6.82142 5.98933 6.35577 6.33397 6.126L7.07277 5.63347Z"
      fill={color}
    />
  {:else if variation === 'micro'}
    <path
      d="M3.38045 3.01185C3.52293 2.62291 3.32314 2.19211 2.9342 2.04963C2.54526 1.90715 2.11446 2.10694 1.97198 2.49588C1.34296 4.21295 1 6.06709 1 7.99965C1 9.9322 1.34296 11.7863 1.97198 13.5034C2.11446 13.8923 2.54526 14.0921 2.9342 13.9497C3.32314 13.8072 3.52293 13.3764 3.38045 12.9874C2.81109 11.4332 2.5 9.75361 2.5 7.99965C2.5 6.24569 2.81109 4.56606 3.38045 3.01185Z"
      fill={color}
    />
    <path
      d="M12.6196 3.01185C12.4771 2.62291 12.6769 2.19211 13.0658 2.04963C13.4547 1.90715 13.8855 2.10694 14.028 2.49588C14.657 4.21295 15 6.06709 15 7.99965C15 9.9322 14.657 11.7863 14.028 13.5034C13.8855 13.8923 13.4547 14.0921 13.0658 13.9497C12.6769 13.8072 12.4771 13.3764 12.6196 12.9874C13.1889 11.4332 13.5 9.75361 13.5 7.99965C13.5 6.24569 13.1889 4.56606 12.6196 3.01185Z"
      fill={color}
    />
    <path
      d="M6.52255 4.78529C6.87451 4.67331 7.2556 4.83423 7.42078 5.16458L8.17869 6.68041L8.99056 5.77833C9.61503 5.08448 10.5879 4.82049 11.4774 5.10353C11.8722 5.22912 12.0903 5.65091 11.9647 6.04563C11.8391 6.44034 11.4174 6.65851 11.0226 6.53292C10.6946 6.42854 10.3358 6.52589 10.1055 6.78178L8.89942 8.12187L9.6334 9.58982L10.0214 9.46567C10.4159 9.33943 10.838 9.5569 10.9643 9.95141C11.0905 10.3459 10.873 10.7681 10.4785 10.8943L9.47854 11.2143C9.12632 11.327 8.74452 11.1662 8.57914 10.8354L7.82132 9.31976L7.00989 10.2213C6.38502 10.9156 5.41111 11.1791 4.52146 10.8944C4.12695 10.7681 3.90948 10.346 4.03572 9.95146C4.16197 9.55695 4.58412 9.33948 4.97862 9.46573C5.30622 9.57056 5.66485 9.47356 5.89495 9.2179L7.10059 7.8783L6.36604 6.40919L5.97736 6.53286C5.58265 6.65845 5.16085 6.44029 5.03526 6.04557C4.90967 5.65086 5.12784 5.22907 5.52255 5.10347L6.52255 4.78529Z"
      fill={color}
    />
  {:else}
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M19.2535 2.29164C19.6447 2.15548 20.0722 2.36223 20.2083 2.75343C21.2033 5.61217 21.75 8.73352 21.75 12C21.75 15.2664 21.2033 18.3877 20.2083 21.2465C20.0722 21.6377 19.6447 21.8444 19.2535 21.7083C18.8623 21.5721 18.6555 21.1446 18.7917 20.7534C19.7313 18.0536 20.25 15.0989 20.25 12C20.25 8.901 19.7313 5.94634 18.7917 3.24649C18.6555 2.85529 18.8623 2.42779 19.2535 2.29164ZM5.02596 2.30476C5.40991 2.46018 5.59517 2.89742 5.43975 3.28137C4.3503 5.97278 3.75 8.91534 3.75 12C3.75 15.0846 4.3503 18.0271 5.43975 20.7185C5.59517 21.1025 5.40991 21.5397 5.02596 21.6952C4.64201 21.8506 4.20477 21.6653 4.04935 21.2814C2.88874 18.4142 2.25 15.2807 2.25 12C2.25 8.71918 2.88874 5.58573 4.04935 2.71855C4.20477 2.3346 4.64201 2.14934 5.02596 2.30476ZM9.30143 7.35691C10.1246 6.85034 11.205 7.24311 11.5106 8.16005L12.2266 10.308L13.601 8.24636C14.2504 7.27224 15.5007 6.89742 16.5789 7.35359L16.7922 7.44385C17.1737 7.60524 17.3521 8.04533 17.1907 8.4268C17.0293 8.80828 16.5892 8.98669 16.2078 8.8253L15.9944 8.73504C15.5797 8.55959 15.0989 8.70375 14.8491 9.07841L12.8275 12.1108L13.9124 15.3655L15.3569 14.4766C15.7097 14.2595 16.1717 14.3695 16.3887 14.7223C16.6058 15.075 16.4958 15.537 16.1431 15.7541L14.6986 16.643C13.8754 17.1496 12.795 16.7568 12.4894 15.8399L11.7734 13.6919L10.399 15.7536C9.74958 16.7277 8.49934 17.1025 7.42112 16.6463L7.20777 16.5561C6.82629 16.3947 6.64788 15.9546 6.80927 15.5731C6.97067 15.1916 7.41075 15.0132 7.79223 15.1746L8.00558 15.2649C8.42028 15.4403 8.90114 15.2962 9.15091 14.9215L11.1725 11.8891L10.0876 8.63439L8.64307 9.52332C8.2903 9.74041 7.82834 9.63042 7.61126 9.27765C7.39417 8.92488 7.50416 8.46292 7.85693 8.24583L9.30143 7.35691Z"
      fill={color}
    />
  {/if}
</svg>

<!--
@component
[Go to docs](https://svelte-heros-v2.codewithshin.com/)
## Props
@prop size = ctx.size
@prop role = ctx.role || 'img'
@prop color = ctx.color || 'currentColor'
@prop variation = ctx.variation || 'outline'
@prop strokeWidth = ctx.strokeWidth || '1.5'
@prop title
@prop desc
@prop ariaLabel = 'variable'
@prop ...restProps
-->
