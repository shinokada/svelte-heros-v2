<script lang="ts">
  import { getContext } from 'svelte';
  import type { BaseProps, Props } from './types';

  const ctx: BaseProps = getContext('iconCtx') ?? {};

  let {
    size = ctx.size,
    role = ctx.role || 'img',
    color = ctx.color || 'currentColor',
    variation = ctx.variation || 'outline',
    strokeWidth = ctx.strokeWidth || '1.5',
    title,
    desc,
    ariaLabel = 'film',
    ...restProps
  }: Props = $props();

  let ariaDescribedby = `${title?.id || ''} ${desc?.id || ''}`;
  const hasDescription = $derived(!!(title?.id || desc?.id));

  let viewBox = $derived.by(() => {
    if (variation === 'mini') return '0 0 20 20';
    if (variation === 'micro') return '0 0 16 16';
    return '0 0 24 24';
  });
  let variationSize = $derived.by(() => {
    if (variation === 'mini') return '20';
    if (variation === 'micro') return '16';
    return '24';
  });
</script>

<svg
  xmlns="http://www.w3.org/2000/svg"
  {...restProps}
  {role}
  width={size || variationSize}
  height={size || variationSize}
  fill="none"
  aria-label={ariaLabel}
  aria-describedby={hasDescription ? ariaDescribedby : undefined}
  {viewBox}
  stroke-width={strokeWidth}
>
  {#if title?.id && title.title}
    <title id={title.id}>{title.title}</title>
  {/if}
  {#if desc?.id && desc.desc}
    <desc id={desc.id}>{desc.desc}</desc>
  {/if}
  {#if variation === 'outline'}
    <path
      d="M3.375 19.5H20.625M3.375 19.5C2.75368 19.5 2.25 18.9963 2.25 18.375M3.375 19.5H4.875C5.49632 19.5 6 18.9963 6 18.375M2.25 18.375V5.625M2.25 18.375V16.875C2.25 16.2537 2.75368 15.75 3.375 15.75M21.75 18.375V5.625M21.75 18.375C21.75 18.9963 21.2463 19.5 20.625 19.5M21.75 18.375V16.875C21.75 16.2537 21.2463 15.75 20.625 15.75M20.625 19.5H19.125C18.5037 19.5 18 18.9963 18 18.375M20.625 4.5H3.375M20.625 4.5C21.2463 4.5 21.75 5.00368 21.75 5.625M20.625 4.5H19.125C18.5037 4.5 18 5.00368 18 5.625M21.75 5.625V7.125C21.75 7.74632 21.2463 8.25 20.625 8.25M3.375 4.5C2.75368 4.5 2.25 5.00368 2.25 5.625M3.375 4.5H4.875C5.49632 4.5 6 5.00368 6 5.625M2.25 5.625V7.125C2.25 7.74632 2.75368 8.25 3.375 8.25M3.375 8.25H4.875M3.375 8.25C2.75368 8.25 2.25 8.75368 2.25 9.375V10.875C2.25 11.4963 2.75368 12 3.375 12M4.875 8.25C5.49632 8.25 6 7.74632 6 7.125V5.625M4.875 8.25C5.49632 8.25 6 8.75368 6 9.375V10.875M6 5.625V10.875M6 5.625C6 5.00368 6.50368 4.5 7.125 4.5H16.875C17.4963 4.5 18 5.00368 18 5.625M19.125 8.25H20.625M19.125 8.25C18.5037 8.25 18 7.74632 18 7.125V5.625M19.125 8.25C18.5037 8.25 18 8.75368 18 9.375V10.875M20.625 8.25C21.2463 8.25 21.75 8.75368 21.75 9.375V10.875C21.75 11.4963 21.2463 12 20.625 12M18 5.625V10.875M7.125 12H16.875M7.125 12C6.50368 12 6 11.4963 6 10.875M7.125 12C6.50368 12 6 12.5037 6 13.125M6 10.875C6 11.4963 5.49632 12 4.875 12M18 10.875C18 11.4963 17.4963 12 16.875 12M18 10.875C18 11.4963 18.5037 12 19.125 12M16.875 12C17.4963 12 18 12.5037 18 13.125M6 18.375V13.125M6 18.375C6 18.9963 6.50368 19.5 7.125 19.5H16.875C17.4963 19.5 18 18.9963 18 18.375M6 18.375V16.875C6 16.2537 5.49632 15.75 4.875 15.75M18 18.375V13.125M18 18.375V16.875C18 16.2537 18.5037 15.75 19.125 15.75M18 13.125V14.625C18 15.2463 18.5037 15.75 19.125 15.75M18 13.125C18 12.5037 18.5037 12 19.125 12M6 13.125V14.625C6 15.2463 5.49632 15.75 4.875 15.75M6 13.125C6 12.5037 5.49632 12 4.875 12M3.375 12H4.875M3.375 12C2.75368 12 2.25 12.5037 2.25 13.125V14.625C2.25 15.2463 2.75368 15.75 3.375 15.75M19.125 12H20.625M20.625 12C21.2463 12 21.75 12.5037 21.75 13.125V14.625C21.75 15.2463 21.2463 15.75 20.625 15.75M3.375 15.75H4.875M19.125 15.75H20.625"
      stroke={color}
      stroke-width={strokeWidth}
      stroke-linecap="round"
      stroke-linejoin="round"
    />
  {:else if variation === 'mini'}
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M1 4.75C1 3.7835 1.7835 3 2.75 3H17.25C18.2165 3 19 3.7835 19 4.75V15.265C19 16.2315 18.2165 17.015 17.25 17.015H15.75C15.6719 17.015 15.5951 17.0099 15.5197 17H4.48027C4.40492 17.0099 4.32806 17.015 4.25 17.015H2.75C1.7835 17.015 1 16.2315 1 15.265V4.75ZM17.5 12.135V11.01C17.5 10.8719 17.3881 10.76 17.25 10.76H15.75C15.6119 10.76 15.5 10.8719 15.5 11.01V12.135C15.5 12.2731 15.6119 12.385 15.75 12.385H17.25C17.3881 12.385 17.5 12.2731 17.5 12.135ZM17.5 14.14C17.5 14.0019 17.3881 13.89 17.25 13.89H15.75C15.6119 13.89 15.5 14.0019 15.5 14.14V15.265C15.5 15.373 15.5685 15.4651 15.6645 15.5H17.25C17.3881 15.5 17.5 15.3881 17.5 15.25V14.14ZM2.5 15.25V14.14C2.5 14.0019 2.61193 13.89 2.75 13.89H4.25C4.38807 13.89 4.5 14.0019 4.5 14.14V15.265C4.5 15.373 4.43148 15.4651 4.33553 15.5H2.75C2.61193 15.5 2.5 15.3881 2.5 15.25ZM4.5 11.01V12.135C4.5 12.2731 4.38807 12.385 4.25 12.385H2.75C2.61193 12.385 2.5 12.2731 2.5 12.135V11.01C2.5 10.8719 2.61193 10.76 2.75 10.76H4.25C4.38807 10.76 4.5 10.8719 4.5 11.01ZM17.5 9.005V7.88C17.5 7.74193 17.3881 7.63 17.25 7.63H15.75C15.6119 7.63 15.5 7.74193 15.5 7.88V9.005C15.5 9.14308 15.6119 9.255 15.75 9.255H17.25C17.3881 9.255 17.5 9.14308 17.5 9.005ZM4.25 7.63C4.38807 7.63 4.5 7.74193 4.5 7.88V9.005C4.5 9.14308 4.38807 9.255 4.25 9.255H2.75C2.61193 9.255 2.5 9.14308 2.5 9.005V7.88C2.5 7.74193 2.61193 7.63 2.75 7.63H4.25ZM4.25 4.5C4.38807 4.5 4.5 4.61193 4.5 4.75V5.875C4.5 6.01307 4.38807 6.125 4.25 6.125H2.75C2.61193 6.125 2.5 6.01307 2.5 5.875V4.75C2.5 4.61193 2.61193 4.5 2.75 4.5H4.25ZM15.75 6.125C15.6119 6.125 15.5 6.01307 15.5 5.875V4.75C15.5 4.61193 15.6119 4.5 15.75 4.5H17.25C17.3881 4.5 17.5 4.61193 17.5 4.75V5.875C17.5 6.01307 17.3881 6.125 17.25 6.125H15.75ZM6.75 9.25C6.33579 9.25 6 9.58579 6 10C6 10.4142 6.33579 10.75 6.75 10.75H13.25C13.6642 10.75 14 10.4142 14 10C14 9.58579 13.6642 9.25 13.25 9.25H6.75Z"
      fill={color}
    />
  {:else if variation === 'micro'}
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M1 3.5C1 2.67157 1.67157 2 2.5 2H13.5C14.3284 2 15 2.67157 15 3.5V12.5C15 13.3284 14.3284 14 13.5 14H2.5C1.67157 14 1 13.3284 1 12.5V3.5ZM2.5 3.75C2.5 3.61193 2.61193 3.5 2.75 3.5H4.25C4.38807 3.5 4.5 3.61193 4.5 3.75V4.75C4.5 4.88807 4.38807 5 4.25 5H2.75C2.61193 5 2.5 4.88807 2.5 4.75V3.75ZM6.25 3.5C6.11193 3.5 6 3.61193 6 3.75V7.25C6 7.38807 6.11193 7.5 6.25 7.5H9.75C9.88807 7.5 10 7.38807 10 7.25V3.75C10 3.61193 9.88807 3.5 9.75 3.5H6.25ZM6 8.75C6 8.61193 6.11193 8.5 6.25 8.5H9.75C9.88807 8.5 10 8.61193 10 8.75V12.25C10 12.3881 9.88807 12.5 9.75 12.5H6.25C6.11193 12.5 6 12.3881 6 12.25V8.75ZM11.75 3.5C11.6119 3.5 11.5 3.61193 11.5 3.75V4.75C11.5 4.88807 11.6119 5 11.75 5H13.25C13.3881 5 13.5 4.88807 13.5 4.75V3.75C13.5 3.61193 13.3881 3.5 13.25 3.5H11.75ZM2.5 11.25C2.5 11.1119 2.61193 11 2.75 11H4.25C4.38807 11 4.5 11.1119 4.5 11.25V12.25C4.5 12.3881 4.38807 12.5 4.25 12.5H2.75C2.61193 12.5 2.5 12.3881 2.5 12.25V11.25ZM11.75 11C11.6119 11 11.5 11.1119 11.5 11.25V12.25C11.5 12.3881 11.6119 12.5 11.75 12.5H13.25C13.3881 12.5 13.5 12.3881 13.5 12.25V11.25C13.5 11.1119 13.3881 11 13.25 11H11.75ZM2.5 8.75C2.5 8.61193 2.61193 8.5 2.75 8.5H4.25C4.38807 8.5 4.5 8.61193 4.5 8.75V9.75C4.5 9.88807 4.38807 10 4.25 10H2.75C2.61193 10 2.5 9.88807 2.5 9.75V8.75ZM11.75 8.5C11.6119 8.5 11.5 8.61193 11.5 8.75V9.75C11.5 9.88807 11.6119 10 11.75 10H13.25C13.3881 10 13.5 9.88807 13.5 9.75V8.75C13.5 8.61193 13.3881 8.5 13.25 8.5H11.75ZM2.5 6.25C2.5 6.11193 2.61193 6 2.75 6H4.25C4.38807 6 4.5 6.11193 4.5 6.25V7.25C4.5 7.38807 4.38807 7.5 4.25 7.5H2.75C2.61193 7.5 2.5 7.38807 2.5 7.25V6.25ZM11.75 6C11.6119 6 11.5 6.11193 11.5 6.25V7.25C11.5 7.38807 11.6119 7.5 11.75 7.5H13.25C13.3881 7.5 13.5 7.38807 13.5 7.25V6.25C13.5 6.11193 13.3881 6 13.25 6H11.75Z"
      fill={color}
    />
  {:else}
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M1.5 5.625C1.5 4.58947 2.33947 3.75 3.375 3.75H20.625C21.6605 3.75 22.5 4.58947 22.5 5.625V18.375C22.5 19.4105 21.6605 20.25 20.625 20.25H3.375C2.33947 20.25 1.5 19.4105 1.5 18.375V5.625ZM3 5.625V7.125C3 7.33211 3.16789 7.5 3.375 7.5H4.875C5.08211 7.5 5.25 7.33211 5.25 7.125V5.625C5.25 5.41789 5.08211 5.25 4.875 5.25H3.375C3.16789 5.25 3 5.41789 3 5.625ZM19.125 5.25C18.9179 5.25 18.75 5.41789 18.75 5.625V7.125C18.75 7.33211 18.9179 7.5 19.125 7.5H20.625C20.8321 7.5 21 7.33211 21 7.125V5.625C21 5.41789 20.8321 5.25 20.625 5.25H19.125ZM21 9.375C21 9.16789 20.8321 9 20.625 9H19.125C18.9179 9 18.75 9.16789 18.75 9.375V10.875C18.75 11.0821 18.9179 11.25 19.125 11.25H20.625C20.8321 11.25 21 11.0821 21 10.875V9.375ZM21 13.125C21 12.9179 20.8321 12.75 20.625 12.75H19.125C18.9179 12.75 18.75 12.9179 18.75 13.125V14.625C18.75 14.8321 18.9179 15 19.125 15H20.625C20.8321 15 21 14.8321 21 14.625V13.125ZM21 16.875C21 16.6679 20.8321 16.5 20.625 16.5H19.125C18.9179 16.5 18.75 16.6679 18.75 16.875V18.375C18.75 18.5821 18.9179 18.75 19.125 18.75H20.625C20.8321 18.75 21 18.5821 21 18.375V16.875ZM4.875 18.75C5.08211 18.75 5.25 18.5821 5.25 18.375V16.875C5.25 16.6679 5.08211 16.5 4.875 16.5H3.375C3.16789 16.5 3 16.6679 3 16.875V18.375C3 18.5821 3.16789 18.75 3.375 18.75H4.875ZM3.375 15H4.875C5.08211 15 5.25 14.8321 5.25 14.625V13.125C5.25 12.9179 5.08211 12.75 4.875 12.75H3.375C3.16789 12.75 3 12.9179 3 13.125V14.625C3 14.8321 3.16789 15 3.375 15ZM3.375 11.25H4.875C5.08211 11.25 5.25 11.0821 5.25 10.875V9.375C5.25 9.16789 5.08211 9 4.875 9H3.375C3.16789 9 3 9.16789 3 9.375V10.875C3 11.0821 3.16789 11.25 3.375 11.25ZM7.5 11.25C7.08579 11.25 6.75 11.5858 6.75 12C6.75 12.4142 7.08579 12.75 7.5 12.75H16.5C16.9142 12.75 17.25 12.4142 17.25 12C17.25 11.5858 16.9142 11.25 16.5 11.25H7.5Z"
      fill={color}
    />
  {/if}
</svg>

<!--
@component
[Go to docs](https://svelte-heros-v2.codewithshin.com/)
## Props
@prop size = ctx.size
@prop role = ctx.role || 'img'
@prop color = ctx.color || 'currentColor'
@prop variation = ctx.variation || 'outline'
@prop strokeWidth = ctx.strokeWidth || '1.5'
@prop title
@prop desc
@prop ariaLabel = 'film'
@prop ...restProps
-->
