<script lang="ts">
  import { getContext } from 'svelte';
  import type { BaseProps, Props } from './types';

  const ctx: BaseProps = getContext('iconCtx') ?? {};

  let {
    size = ctx.size,
    role = ctx.role || 'img',
    color = ctx.color || 'currentColor',
    variation = ctx.variation || 'outline',
    strokeWidth = ctx.strokeWidth || '1.5',
    title,
    desc,
    ariaLabel = 'currency euro',
    ...restProps
  }: Props = $props();

  let ariaDescribedby = `${title?.id || ''} ${desc?.id || ''}`;
  const hasDescription = $derived(!!(title?.id || desc?.id));

  let viewBox = $derived.by(() => {
    if (variation === 'mini') return '0 0 20 20';
    if (variation === 'micro') return '0 0 16 16';
    return '0 0 24 24';
  });
  let variationSize = $derived.by(() => {
    if (variation === 'mini') return '20';
    if (variation === 'micro') return '16';
    return '24';
  });
</script>

<svg
  xmlns="http://www.w3.org/2000/svg"
  {...restProps}
  {role}
  width={size || variationSize}
  height={size || variationSize}
  fill="none"
  aria-label={ariaLabel}
  aria-describedby={hasDescription ? ariaDescribedby : undefined}
  {viewBox}
  stroke-width={strokeWidth}
>
  {#if title?.id && title.title}
    <title id={title.id}>{title.title}</title>
  {/if}
  {#if desc?.id && desc.desc}
    <desc id={desc.id}>{desc.desc}</desc>
  {/if}
  {#if variation === 'outline'}
    <path
      d="M14.25 7.75625C12.667 7.19798 10.8341 7.5519 9.56802 8.81802C7.81066 10.5754 7.81066 13.4246 9.56802 15.182C10.8341 16.4481 12.667 16.802 14.25 16.2437M7.5 10.5H12.75M7.5 13.5H12.75M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z"
      stroke={color}
      stroke-width={strokeWidth}
      stroke-linecap="round"
      stroke-linejoin="round"
    />
  {:else if variation === 'mini'}
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M10 18C14.4183 18 18 14.4183 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 14.4183 5.58172 18 10 18ZM8.79767 7.45038C9.31032 6.78 9.93284 6.5 10.5 6.5C11.0672 6.5 11.6897 6.78 12.2023 7.45038C12.4539 7.77942 12.9247 7.84218 13.2537 7.59056C13.5827 7.33895 13.6455 6.86824 13.3939 6.53921C12.6373 5.54986 11.5963 5 10.5 5C9.40366 5 8.36269 5.54986 7.60613 6.53921C7.27168 6.97657 7.01308 7.47233 6.83031 8H5.75C5.33579 8 5 8.33579 5 8.75C5 9.16421 5.33579 9.5 5.75 9.5H6.51977C6.49341 9.83243 6.49341 10.1676 6.51977 10.5H5.75C5.33579 10.5 5 10.8358 5 11.25C5 11.6642 5.33579 12 5.75 12H6.83031C7.01308 12.5277 7.27168 13.0234 7.60613 13.4608C8.36269 14.4501 9.40366 15 10.5 15C11.5963 15 12.6373 14.4501 13.3939 13.4608C13.6455 13.1318 13.5827 12.661 13.2537 12.4094C12.9247 12.1578 12.4539 12.2206 12.2023 12.5496C11.6897 13.22 11.0672 13.5 10.5 13.5C9.93284 13.5 9.31032 13.22 8.79767 12.5496C8.66735 12.3792 8.55299 12.1948 8.4546 12H10.25C10.6642 12 11 11.6642 11 11.25C11 10.8358 10.6642 10.5 10.25 10.5H8.02592C7.99136 10.1685 7.99136 9.83152 8.02592 9.5H10.25C10.6642 9.5 11 9.16421 11 8.75C11 8.33579 10.6642 8 10.25 8H8.4546C8.55299 7.80515 8.66735 7.62081 8.79767 7.45038Z"
      fill={color}
    />
  {:else if variation === 'micro'}
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M15 8C15 11.866 11.866 15 8 15C4.13401 15 1 11.866 1 8C1 4.13401 4.13401 1 8 1C11.866 1 15 4.13401 15 8ZM6.87465 6C6.96556 5.78033 7.07014 5.57995 7.18513 5.40223C7.59814 4.76396 8.07998 4.5 8.5 4.5C8.76385 4.5 9.03933 4.59932 9.31377 4.82506C9.63367 5.08819 10.1063 5.04218 10.3694 4.72228C10.6326 4.40239 10.5866 3.92975 10.2667 3.66661C9.77157 3.25937 9.16871 3 8.5 3C7.40123 3 6.50808 3.68744 5.92578 4.58736C5.65742 5.0021 5.44097 5.47976 5.28505 6H4.75C4.33579 6 4 6.33579 4 6.75C4 7.16421 4.33579 7.5 4.75 7.5H5.01692C5.00571 7.66487 5 7.8317 5 8C5 8.1683 5.00571 8.33513 5.01692 8.5H4.75C4.33579 8.5 4 8.83579 4 9.25C4 9.66421 4.33579 10 4.75 10H5.28505C5.44097 10.5202 5.65742 10.9979 5.92578 11.4126C6.50808 12.3126 7.40123 13 8.5 13C9.16871 13 9.77157 12.7406 10.2667 12.3334C10.5866 12.0703 10.6326 11.5976 10.3694 11.2777C10.1063 10.9578 9.63367 10.9118 9.31377 11.1749C9.03933 11.4007 8.76385 11.5 8.5 11.5C8.07998 11.5 7.59814 11.236 7.18513 10.5978C7.07014 10.42 6.96556 10.2197 6.87465 10H8.25C8.66421 10 9 9.66421 9 9.25C9 8.83579 8.66421 8.5 8.25 8.5H6.52124C6.50729 8.3373 6.5 8.17041 6.5 8C6.5 7.82959 6.50729 7.6627 6.52124 7.5H8.25C8.66421 7.5 9 7.16421 9 6.75C9 6.33579 8.66421 6 8.25 6H6.87465Z"
      fill={color}
    />
  {:else}
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M12 2.25C6.61522 2.25 2.25 6.61522 2.25 12C2.25 17.3848 6.61522 21.75 12 21.75C17.3848 21.75 21.75 17.3848 21.75 12C21.75 6.61522 17.3848 2.25 12 2.25ZM10.0983 9.34835C11.1527 8.29405 12.6796 7.99768 14.0006 8.46355C14.3912 8.60132 14.8195 8.39633 14.9573 8.0057C15.0951 7.61507 14.8901 7.18671 14.4994 7.04895C12.6545 6.39828 10.5156 6.80976 9.03769 8.28769C8.60004 8.72534 8.25581 9.22104 8.005 9.75H7.5C7.08579 9.75 6.75 10.0858 6.75 10.5C6.75 10.9142 7.08579 11.25 7.5 11.25H7.55353C7.48216 11.7472 7.48216 12.2528 7.55353 12.75H7.5C7.08579 12.75 6.75 13.0858 6.75 13.5C6.75 13.9142 7.08579 14.25 7.5 14.25H8.005C8.25581 14.779 8.60004 15.2747 9.03769 15.7123C10.5156 17.1902 12.6545 17.6017 14.4994 16.951C14.8901 16.8133 15.0951 16.3849 14.9573 15.9943C14.8195 15.6037 14.3912 15.3987 14.0006 15.5364C12.6796 16.0023 11.1527 15.706 10.0983 14.6517C9.97095 14.5243 9.85464 14.39 9.74941 14.25H12.75C13.1642 14.25 13.5 13.9142 13.5 13.5C13.5 13.0858 13.1642 12.75 12.75 12.75H9.07535C8.97488 12.2554 8.97488 11.7446 9.07535 11.25H12.75C13.1642 11.25 13.5 10.9142 13.5 10.5C13.5 10.0858 13.1642 9.75 12.75 9.75H9.74941C9.85464 9.61003 9.97095 9.47575 10.0983 9.34835Z"
      fill={color}
    />
  {/if}
</svg>

<!--
@component
[Go to docs](https://svelte-heros-v2.codewithshin.com/)
## Props
@prop size = ctx.size
@prop role = ctx.role || 'img'
@prop color = ctx.color || 'currentColor'
@prop variation = ctx.variation || 'outline'
@prop strokeWidth = ctx.strokeWidth || '1.5'
@prop title
@prop desc
@prop ariaLabel = 'currency euro'
@prop ...restProps
-->
