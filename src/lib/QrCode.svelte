<script lang="ts">
  import { getContext } from 'svelte';
  import type { BaseProps, Props } from './types';

  const ctx: BaseProps = getContext('iconCtx') ?? {};

  let {
    size = ctx.size,
    role = ctx.role || 'img',
    color = ctx.color || 'currentColor',
    variation = ctx.variation || 'outline',
    strokeWidth = ctx.strokeWidth || '1.5',
    title,
    desc,
    ariaLabel = 'qr code',
    ...restProps
  }: Props = $props();

  let ariaDescribedby = `${title?.id || ''} ${desc?.id || ''}`;
  const hasDescription = $derived(!!(title?.id || desc?.id));

  let viewBox = $derived.by(() => {
    if (variation === 'mini') return '0 0 20 20';
    if (variation === 'micro') return '0 0 16 16';
    return '0 0 24 24';
  });
  let variationSize = $derived.by(() => {
    if (variation === 'mini') return '20';
    if (variation === 'micro') return '16';
    return '24';
  });
</script>

<svg
  xmlns="http://www.w3.org/2000/svg"
  {...restProps}
  {role}
  width={size || variationSize}
  height={size || variationSize}
  fill="none"
  aria-label={ariaLabel}
  aria-describedby={hasDescription ? ariaDescribedby : undefined}
  {viewBox}
  stroke-width={strokeWidth}
>
  {#if title?.id && title.title}
    <title id={title.id}>{title.title}</title>
  {/if}
  {#if desc?.id && desc.desc}
    <desc id={desc.id}>{desc.desc}</desc>
  {/if}
  {#if variation === 'outline'}
    <path
      d="M3.75 4.875C3.75 4.25368 4.25368 3.75 4.875 3.75H9.375C9.99632 3.75 10.5 4.25368 10.5 4.875V9.375C10.5 9.99632 9.99632 10.5 9.375 10.5H4.875C4.25368 10.5 3.75 9.99632 3.75 9.375V4.875Z"
      stroke={color}
      stroke-width={strokeWidth}
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <path
      d="M3.75 14.625C3.75 14.0037 4.25368 13.5 4.875 13.5H9.375C9.99632 13.5 10.5 14.0037 10.5 14.625V19.125C10.5 19.7463 9.99632 20.25 9.375 20.25H4.875C4.25368 20.25 3.75 19.7463 3.75 19.125V14.625Z"
      stroke={color}
      stroke-width={strokeWidth}
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <path
      d="M13.5 4.875C13.5 4.25368 14.0037 3.75 14.625 3.75H19.125C19.7463 3.75 20.25 4.25368 20.25 4.875V9.375C20.25 9.99632 19.7463 10.5 19.125 10.5H14.625C14.0037 10.5 13.5 9.99632 13.5 9.375V4.875Z"
      stroke={color}
      stroke-width={strokeWidth}
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <path
      d="M6.75 6.75H7.5V7.5H6.75V6.75Z"
      stroke={color}
      stroke-width={strokeWidth}
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <path
      d="M6.75 16.5H7.5V17.25H6.75V16.5Z"
      stroke={color}
      stroke-width={strokeWidth}
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <path
      d="M16.5 6.75H17.25V7.5H16.5V6.75Z"
      stroke={color}
      stroke-width={strokeWidth}
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <path
      d="M13.5 13.5H14.25V14.25H13.5V13.5Z"
      stroke={color}
      stroke-width={strokeWidth}
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <path
      d="M13.5 19.5H14.25V20.25H13.5V19.5Z"
      stroke={color}
      stroke-width={strokeWidth}
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <path
      d="M19.5 13.5H20.25V14.25H19.5V13.5Z"
      stroke={color}
      stroke-width={strokeWidth}
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <path
      d="M19.5 19.5H20.25V20.25H19.5V19.5Z"
      stroke={color}
      stroke-width={strokeWidth}
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <path
      d="M16.5 16.5H17.25V17.25H16.5V16.5Z"
      stroke={color}
      stroke-width={strokeWidth}
      stroke-linecap="round"
      stroke-linejoin="round"
    />
  {:else if variation === 'mini'}
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M3.75 2C2.7835 2 2 2.7835 2 3.75V7.25C2 8.2165 2.7835 9 3.75 9H7.25C8.2165 9 9 8.2165 9 7.25V3.75C9 2.7835 8.2165 2 7.25 2H3.75ZM3.5 3.75C3.5 3.61193 3.61193 3.5 3.75 3.5H7.25C7.38807 3.5 7.5 3.61193 7.5 3.75V7.25C7.5 7.38807 7.38807 7.5 7.25 7.5H3.75C3.61193 7.5 3.5 7.38807 3.5 7.25V3.75ZM3.75 11C2.7835 11 2 11.7835 2 12.75V16.25C2 17.2165 2.7835 18 3.75 18H7.25C8.2165 18 9 17.2165 9 16.25V12.75C9 11.7835 8.2165 11 7.25 11H3.75ZM3.5 12.75C3.5 12.6119 3.61193 12.5 3.75 12.5H7.25C7.38807 12.5 7.5 12.6119 7.5 12.75V16.25C7.5 16.3881 7.38807 16.5 7.25 16.5H3.75C3.61193 16.5 3.5 16.3881 3.5 16.25V12.75ZM11 3.75C11 2.7835 11.7835 2 12.75 2H16.25C17.2165 2 18 2.7835 18 3.75V7.25C18 8.2165 17.2165 9 16.25 9H12.75C11.7835 9 11 8.2165 11 7.25V3.75ZM12.75 3.5C12.6119 3.5 12.5 3.61193 12.5 3.75V7.25C12.5 7.38807 12.6119 7.5 12.75 7.5H16.25C16.3881 7.5 16.5 7.38807 16.5 7.25V3.75C16.5 3.61193 16.3881 3.5 16.25 3.5H12.75ZM5.49023 4.5C4.93795 4.5 4.49023 4.94772 4.49023 5.5V5.51C4.49023 6.06228 4.93795 6.51 5.49023 6.51H5.50023C6.05252 6.51 6.50023 6.06228 6.50023 5.51V5.5C6.50023 4.94772 6.05252 4.5 5.50023 4.5H5.49023ZM14.4902 4.5C13.9379 4.5 13.4902 4.94772 13.4902 5.5V5.51C13.4902 6.06228 13.9379 6.51 14.4902 6.51H14.5002C15.0525 6.51 15.5002 6.06228 15.5002 5.51V5.5C15.5002 4.94772 15.0525 4.5 14.5002 4.5H14.4902ZM5.49023 13.5C4.93795 13.5 4.49023 13.9477 4.49023 14.5V14.51C4.49023 15.0623 4.93795 15.51 5.49023 15.51H5.50023C6.05252 15.51 6.50023 15.0623 6.50023 14.51V14.5C6.50023 13.9477 6.05252 13.5 5.50023 13.5H5.49023ZM14.4902 13.5C13.9379 13.5 13.4902 13.9477 13.4902 14.5V14.51C13.4902 15.0623 13.9379 15.51 14.4902 15.51H14.5002C15.0525 15.51 15.5002 15.0623 15.5002 14.51V14.5C15.5002 13.9477 15.0525 13.5 14.5002 13.5H14.4902ZM10.9902 12C10.9902 11.4477 11.4379 11 11.9902 11H12.0002C12.5525 11 13.0002 11.4477 13.0002 12V12.01C13.0002 12.5623 12.5525 13.01 12.0002 13.01H11.9902C11.4379 13.01 10.9902 12.5623 10.9902 12.01V12ZM16.9902 11C16.4379 11 15.9902 11.4477 15.9902 12V12.01C15.9902 12.5623 16.4379 13.01 16.9902 13.01H17.0002C17.5525 13.01 18.0002 12.5623 18.0002 12.01V12C18.0002 11.4477 17.5525 11 17.0002 11H16.9902ZM15.9902 17C15.9902 16.4477 16.4379 16 16.9902 16H17.0002C17.5525 16 18.0002 16.4477 18.0002 17V17.01C18.0002 17.5623 17.5525 18.01 17.0002 18.01H16.9902C16.4379 18.01 15.9902 17.5623 15.9902 17.01V17ZM11.9902 16C11.4379 16 10.9902 16.4477 10.9902 17V17.01C10.9902 17.5623 11.4379 18.01 11.9902 18.01H12.0002C12.5525 18.01 13.0002 17.5623 13.0002 17.01V17C13.0002 16.4477 12.5525 16 12.0002 16H11.9902Z"
      fill={color}
    />
  {:else if variation === 'micro'}
    <path
      d="M4.75 4.25C4.47386 4.25 4.25 4.47386 4.25 4.75C4.25 5.02614 4.47386 5.25 4.75 5.25C5.02614 5.25 5.25 5.02614 5.25 4.75C5.25 4.47386 5.02614 4.25 4.75 4.25Z"
      fill={color}
    />
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M2 3.5C2 2.67157 2.67157 2 3.5 2H6C6.82843 2 7.5 2.67157 7.5 3.5V6C7.5 6.82843 6.82843 7.5 6 7.5H3.5C2.67157 7.5 2 6.82843 2 6V3.5ZM3.5 3.5H6V6H3.5V3.5Z"
      fill={color}
    />
    <path
      d="M4.25 11.25C4.25 10.9739 4.47386 10.75 4.75 10.75C5.02614 10.75 5.25 10.9739 5.25 11.25C5.25 11.5261 5.02614 11.75 4.75 11.75C4.47386 11.75 4.25 11.5261 4.25 11.25Z"
      fill={color}
    />
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M2 10C2 9.17157 2.67157 8.5 3.5 8.5H6C6.82843 8.5 7.5 9.17157 7.5 10V12.5C7.5 13.3284 6.82843 14 6 14H3.5C2.67157 14 2 13.3284 2 12.5V10ZM3.5 12.5V10H6V12.5H3.5Z"
      fill={color}
    />
    <path
      d="M11.25 4.25C10.9739 4.25 10.75 4.47386 10.75 4.75C10.75 5.02614 10.9739 5.25 11.25 5.25C11.5261 5.25 11.75 5.02614 11.75 4.75C11.75 4.47386 11.5261 4.25 11.25 4.25Z"
      fill={color}
    />
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M10 2C9.17157 2 8.5 2.67157 8.5 3.5V6C8.5 6.82843 9.17157 7.5 10 7.5H12.5C13.3284 7.5 14 6.82843 14 6V3.5C14 2.67157 13.3284 2 12.5 2H10ZM12.5 3.5H10V6H12.5V3.5Z"
      fill={color}
    />
    <path
      d="M8.5 9.41667C8.5 8.91041 8.91041 8.5 9.41667 8.5C9.92293 8.5 10.3333 8.91041 10.3333 9.41667C10.3333 9.92293 9.92293 10.3333 9.41667 10.3333C8.91041 10.3333 8.5 9.92293 8.5 9.41667Z"
      fill={color}
    />
    <path
      d="M8.5 13.083C8.5 12.5768 8.91041 12.1663 9.41667 12.1663C9.92293 12.1663 10.3333 12.5768 10.3333 13.083C10.3333 13.5893 9.92293 13.9997 9.41667 13.9997C8.91041 13.9997 8.5 13.5893 8.5 13.083Z"
      fill={color}
    />
    <path
      d="M13.0827 8.5C12.5764 8.5 12.166 8.91041 12.166 9.41667C12.166 9.92293 12.5764 10.3333 13.0827 10.3333C13.5889 10.3333 13.9993 9.92293 13.9993 9.41667C13.9993 8.91041 13.5889 8.5 13.0827 8.5Z"
      fill={color}
    />
    <path
      d="M12.166 13.0837C12.166 12.5774 12.5764 12.167 13.0827 12.167C13.5889 12.167 13.9993 12.5774 13.9993 13.0837C13.9993 13.5899 13.5889 14.0003 13.0827 14.0003C12.5764 14.0003 12.166 13.5899 12.166 13.0837Z"
      fill={color}
    />
    <path
      d="M11.2493 10.333C10.7433 10.333 10.333 10.7436 10.333 11.2497C10.333 11.7556 10.7431 12.1662 11.249 12.1663C11.7552 12.1665 12.1657 11.7559 12.1657 11.2497C12.1657 10.7436 11.7554 10.333 11.2493 10.333Z"
      fill={color}
    />
  {:else}
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M3 4.875C3 3.83947 3.83947 3 4.875 3H9.375C10.4105 3 11.25 3.83947 11.25 4.875V9.375C11.25 10.4105 10.4105 11.25 9.375 11.25H4.875C3.83947 11.25 3 10.4105 3 9.375V4.875ZM4.875 4.5C4.66789 4.5 4.5 4.66789 4.5 4.875V9.375C4.5 9.58211 4.66789 9.75 4.875 9.75H9.375C9.58211 9.75 9.75 9.58211 9.75 9.375V4.875C9.75 4.66789 9.58211 4.5 9.375 4.5H4.875ZM12.75 4.875C12.75 3.83947 13.5895 3 14.625 3H19.125C20.1605 3 21 3.83947 21 4.875V9.375C21 10.4105 20.1605 11.25 19.125 11.25H14.625C13.5895 11.25 12.75 10.4105 12.75 9.375V4.875ZM14.625 4.5C14.4179 4.5 14.25 4.66789 14.25 4.875V9.375C14.25 9.58211 14.4179 9.75 14.625 9.75H19.125C19.3321 9.75 19.5 9.58211 19.5 9.375V4.875C19.5 4.66789 19.3321 4.5 19.125 4.5H14.625ZM6 6.75C6 6.33579 6.33579 6 6.75 6H7.5C7.91421 6 8.25 6.33579 8.25 6.75V7.5C8.25 7.91421 7.91421 8.25 7.5 8.25H6.75C6.33579 8.25 6 7.91421 6 7.5V6.75ZM15.75 6.75C15.75 6.33579 16.0858 6 16.5 6H17.25C17.6642 6 18 6.33579 18 6.75V7.5C18 7.91421 17.6642 8.25 17.25 8.25H16.5C16.0858 8.25 15.75 7.91421 15.75 7.5V6.75ZM3 14.625C3 13.5895 3.83947 12.75 4.875 12.75H9.375C10.4105 12.75 11.25 13.5895 11.25 14.625V19.125C11.25 20.1605 10.4105 21 9.375 21H4.875C3.83947 21 3 20.1605 3 19.125V14.625ZM4.875 14.25C4.66789 14.25 4.5 14.4179 4.5 14.625V19.125C4.5 19.3321 4.66789 19.5 4.875 19.5H9.375C9.58211 19.5 9.75 19.3321 9.75 19.125V14.625C9.75 14.4179 9.58211 14.25 9.375 14.25H4.875ZM12.75 13.5C12.75 13.0858 13.0858 12.75 13.5 12.75H14.25C14.6642 12.75 15 13.0858 15 13.5V14.25C15 14.6642 14.6642 15 14.25 15H13.5C13.0858 15 12.75 14.6642 12.75 14.25V13.5ZM18.75 13.5C18.75 13.0858 19.0858 12.75 19.5 12.75H20.25C20.6642 12.75 21 13.0858 21 13.5V14.25C21 14.6642 20.6642 15 20.25 15H19.5C19.0858 15 18.75 14.6642 18.75 14.25V13.5ZM6 16.5C6 16.0858 6.33579 15.75 6.75 15.75H7.5C7.91421 15.75 8.25 16.0858 8.25 16.5V17.25C8.25 17.6642 7.91421 18 7.5 18H6.75C6.33579 18 6 17.6642 6 17.25V16.5ZM15.75 16.5C15.75 16.0858 16.0858 15.75 16.5 15.75H17.25C17.6642 15.75 18 16.0858 18 16.5V17.25C18 17.6642 17.6642 18 17.25 18H16.5C16.0858 18 15.75 17.6642 15.75 17.25V16.5ZM12.75 19.5C12.75 19.0858 13.0858 18.75 13.5 18.75H14.25C14.6642 18.75 15 19.0858 15 19.5V20.25C15 20.6642 14.6642 21 14.25 21H13.5C13.0858 21 12.75 20.6642 12.75 20.25V19.5ZM18.75 19.5C18.75 19.0858 19.0858 18.75 19.5 18.75H20.25C20.6642 18.75 21 19.0858 21 19.5V20.25C21 20.6642 20.6642 21 20.25 21H19.5C19.0858 21 18.75 20.6642 18.75 20.25V19.5Z"
      fill={color}
    />
  {/if}
</svg>

<!--
@component
[Go to docs](https://svelte-heros-v2.codewithshin.com/)
## Props
@prop size = ctx.size
@prop role = ctx.role || 'img'
@prop color = ctx.color || 'currentColor'
@prop variation = ctx.variation || 'outline'
@prop strokeWidth = ctx.strokeWidth || '1.5'
@prop title
@prop desc
@prop ariaLabel = 'qr code'
@prop ...restProps
-->
