<script lang="ts">
  import { getContext } from 'svelte';
  import type { CtxType, Props } from './types';

  const ctx: CtxType = getContext('iconCtx') ?? {};

  let {
    size = ctx.size || '24',
    role = ctx.role || 'img',
    color = ctx.color || 'currentColor',
    variation = ctx.variation || 'outline',
    strokeWidth = ctx.strokeWidth || '1.5',
    title,
    desc,
    ariaLabel = 'hand thumb down',
    ...restProps
  }: Props = $props();

  let ariaDescribedby = `${title?.id || ''} ${desc?.id || ''}`;
  const hasDescription = $derived(!!(title?.id || desc?.id));
  let viewBox: string | undefined = $state(undefined);

  $effect(() => {
    if (variation === 'mini') {
      size = size || '20';
      viewBox = '0 0 20 20';
    } else if (variation === 'micro') {
      size = size || '16';
      viewBox = '0 0 16 16';
    } else {
      size = size || '24';
      viewBox = '0 0 24 24';
    }
  });
</script>

<svg
  xmlns="http://www.w3.org/2000/svg"
  {...restProps}
  {role}
  width={size}
  height={size}
  fill="none"
  aria-label={ariaLabel}
  aria-describedby={hasDescription ? ariaDescribedby : undefined}
  {viewBox}
  stroke-width={strokeWidth}
>
  {#if title?.id && title.title}
    <title id={title.id}>{title.title}</title>
  {/if}
  {#if desc?.id && desc.desc}
    <desc id={desc.id}>{desc.desc}</desc>
  {/if}
  {#if variation === 'outline'}
    <path
      d="M7.49809 15.25H4.37227C3.34564 15.25 2.4267 14.556 2.31801 13.5351C2.27306 13.1129 2.25 12.6841 2.25 12.25C2.25 9.40238 3.24188 6.78642 4.899 4.72878C5.2866 4.24749 5.88581 4 6.50377 4L10.5198 4C11.0034 4 11.4839 4.07798 11.9428 4.23093L15.0572 5.26908C15.5161 5.42203 15.9966 5.5 16.4803 5.5L17.7745 5.5M7.49809 15.25C8.11638 15.25 8.48896 15.974 8.22337 16.5323C7.75956 17.5074 7.5 18.5984 7.5 19.75C7.5 20.9926 8.50736 22 9.75 22C10.1642 22 10.5 21.6642 10.5 21.25V20.6166C10.5 20.0441 10.6092 19.4769 10.8219 18.9454C11.1257 18.1857 11.7523 17.6144 12.4745 17.2298C13.5883 16.6366 14.5627 15.8162 15.3359 14.8303C15.8335 14.1958 16.5611 13.75 17.3674 13.75H17.7511M7.49809 15.25H9.7M17.7745 5.5C17.7851 5.55001 17.802 5.59962 17.8258 5.6478C18.4175 6.84708 18.75 8.19721 18.75 9.625C18.75 11.1117 18.3895 12.5143 17.7511 13.75M17.7745 5.5C17.6975 5.13534 17.9575 4.75 18.3493 4.75H19.2571C20.1458 4.75 20.9701 5.26802 21.2294 6.11804C21.5679 7.22737 21.75 8.40492 21.75 9.625C21.75 11.1775 21.4552 12.6611 20.9185 14.0229C20.6135 14.797 19.8327 15.25 19.0006 15.25H17.9479C17.476 15.25 17.2027 14.6941 17.4477 14.2907C17.5548 14.1144 17.6561 13.934 17.7511 13.75"
      stroke={color}
      stroke-width={strokeWidth}
      stroke-linecap="round"
      stroke-linejoin="round"
    />
  {:else if variation === 'mini'}
    <path
      d="M18.905 12.75C18.905 13.4404 18.3454 14 17.655 14C16.9647 14 16.405 13.4404 16.405 12.75L16.405 5.25C16.405 4.55964 16.9647 4 17.655 4C18.3454 4 18.905 4.55964 18.905 5.25L18.905 12.75Z"
      fill={color}
    />
    <path
      d="M8.90503 17L8.90503 18.2998C8.90503 18.5676 8.76529 18.8259 8.51009 18.9068C8.31921 18.9674 8.11593 19 7.90503 19C6.80046 19 5.90503 18.1046 5.90503 17C5.90503 16.005 6.08669 15.0524 6.41866 14.1735C6.62278 13.6332 6.25262 13 5.67499 13L3.15503 13C1.91239 13 0.893941 11.9904 1.00882 10.7531C1.20192 8.67339 1.66037 6.67064 2.35 4.77906C2.75159 3.67752 3.83273 3 5.00519 3L8.19683 3C8.66256 3 9.1219 3.10843 9.53847 3.31672L12.2716 4.68328C12.6882 4.89156 13.1475 5 13.6132 5L14.905 5L14.905 12L13.9418 12C13.2574 12 12.684 12.4825 12.3296 13.0681C11.8412 13.8752 11.0754 14.4958 10.1644 14.7977C9.73164 14.9412 9.31081 15.184 9.15255 15.6116C8.99247 16.0441 8.90503 16.5119 8.90503 17Z"
      fill={color}
    />
  {:else if variation === 'micro'}
    <path
      d="M10.3247 3H12.0002V8C11.3373 8 10.7814 8.4664 10.4434 9.03663C10.11 9.59909 9.64277 10.0728 9.08551 10.414C8.60779 10.7064 8.1789 11.1203 8.09711 11.6744L8.0965 11.6787C8.05902 11.9334 8.03221 12.1916 8.01654 12.4528C8.00569 12.6338 8.00019 12.8163 8.00019 13C8.00019 13.4489 8.03305 13.8901 8.0965 14.3213C8.12493 14.5146 8.04866 14.7147 7.87297 14.8C7.60923 14.9281 7.3131 15 7.00019 15C5.89562 15 5.00019 14.1044 5.00019 12.9999C5.00019 12.1881 5.08079 11.3952 5.23442 10.6287C5.29863 10.3083 5.05995 10 4.73323 10H3.00019C1.89562 10 0.989747 9.10242 1.09876 8.00324C1.11913 7.79779 1.14261 7.59325 1.16913 7.38965C1.3571 5.94337 1.70002 4.54665 2.18007 3.21559C2.44976 2.46779 3.17803 2 3.97298 2H6.67563C6.8906 2 7.10416 2.03466 7.30809 2.10263L9.69229 2.89737C9.89622 2.96534 10.1098 3 10.3247 3Z"
      fill={color}
    />
    <path
      d="M14 2C13.4477 2 13 2.44772 13 3V9C13 9.55228 13.4477 10 14 10C14.5523 10 15 9.55228 15 9V3C15 2.44772 14.5523 2 14 2Z"
      fill={color}
    />
  {:else}
    <path
      d="M15.7303 5.5L16.7647 5.5C17.5455 6.68343 18 8.10114 18 9.625C18 11.1489 17.5455 12.5666 16.7647 13.75L16.6174 13.75C15.8111 13.75 15.0835 14.1958 14.5859 14.8303C13.8127 15.8162 12.8383 16.6366 11.7245 17.2298C11.0023 17.6144 10.3757 18.1857 10.0719 18.9454C9.85924 19.4769 9.75 20.0441 9.75 20.6166V21.25C9.75 21.6642 9.41421 22 9 22C7.75736 22 6.75 20.9926 6.75 19.75C6.75 18.5984 7.00956 17.5074 7.47337 16.5323C7.73896 15.974 7.36638 15.25 6.74809 15.25L3.62227 15.25C2.59564 15.25 1.6767 14.556 1.56801 13.5351C1.52306 13.1129 1.5 12.6841 1.5 12.25C1.5 9.40238 2.49188 6.78642 4.149 4.72878C4.5366 4.24749 5.13581 4 5.75377 4L9.76975 4C10.2534 4 10.7339 4.07798 11.1928 4.23093L14.3072 5.26908C14.7661 5.42203 15.2466 5.5 15.7303 5.5Z"
      fill={color}
    />
    <path
      d="M21.6685 14.0229C22.2052 12.6611 22.5 11.1775 22.5 9.625C22.5 8.40493 22.3179 7.22738 21.9794 6.11805C21.7201 5.26802 20.8958 4.75 20.0071 4.75L19.0993 4.75C18.6538 4.75 18.3786 5.24827 18.5758 5.6478C19.1675 6.84708 19.5 8.19722 19.5 9.625C19.5 11.3332 19.0241 12.9302 18.1977 14.2907C17.9527 14.6941 18.226 15.25 18.6979 15.25H19.7506C20.5827 15.25 21.3635 14.797 21.6685 14.0229Z"
      fill={color}
    />
  {/if}
</svg>

<!--
@component
[Go to docs](https://svelte-heros-v2.codewithshin.com/)
## Props
@prop size = ctx.size || '24'
@prop role = ctx.role || 'img'
@prop color = ctx.color || 'currentColor'
@prop variation = ctx.variation || 'outline'
@prop strokeWidth = ctx.strokeWidth || '1.5'
@prop title
@prop desc
@prop ariaLabel = 'hand thumb down'
@prop ...restProps
-->
